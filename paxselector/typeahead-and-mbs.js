
        !function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], t) : e.mobiscroll = t(e.jQuery) }(this, function (e) {
            "use strict"; function t(e, t, a) { var s = e; return "object" === ("undefined" == typeof t ? "undefined" : I(t)) ? e.each(function () { new Y.classes[t.component || "Scroller"](this, t) }) : ("string" == typeof t && e.each(function () { var e, n = Y.instances[this.id]; if (n && n[t] && (e = n[t].apply(this, Array.prototype.slice.call(a, 1)), void 0 !== e)) return s = e, !1 }), s) } function a() { q++ , setTimeout(function () { q-- }, 500) } function s(e, t, a) { var s = e.originalEvent || e, n = (a ? "page" : "client") + t; return s.targetTouches && s.targetTouches[0] ? s.targetTouches[0][n] : s.changedTouches && s.changedTouches[0] ? s.changedTouches[0][n] : e[n] } function n(e, t, n, i, l, r) { function o(e) { f || (i && e.preventDefault(), f = this, u = s(e, "X"), h = s(e, "Y"), p = !1, b = new Date) } function c(e) { f && !p && (Math.abs(s(e, "X") - u) > l || Math.abs(s(e, "Y") - h) > l) && (p = !0) } function d(t) { f && ((r && new Date - b < 100 || !p) && (t.preventDefault(), n.call(f, t, e)), f = !1, a()) } function m() { f = !1 } var u, h, f, p, b, v = Y.$, g = v(t); l = l || 9, e.settings.tap && g.on("touchstart.mbsc", o).on("touchcancel.mbsc", m).on("touchmove.mbsc", c).on("touchend.mbsc", d), g.on("click.mbsc", function (t) { t.preventDefault(), n.call(this, t, e) }) } function i(e) { if (q && !e.tap && ("TEXTAREA" != e.target.nodeName || "mousedown" != e.type)) return e.stopPropagation(), e.preventDefault(), !1 } function l(e) { var t; for (t in e) if (void 0 !== J[e[t]]) return !0; return !1 } function r() { var e, t = ["Webkit", "Moz", "O", "ms"]; for (e in t) if (l([t[e] + "Transform"])) return "-" + t[e].toLowerCase() + "-"; return "" } function o(e, t) { var a = document.createElement("script"), s = "mbscjsonp" + ++ae; window[s] = function (e) { a.parentNode.removeChild(a), delete window[s], e && t(e) }, a.src = e + (e.indexOf("?") >= 0 ? "&" : "?") + "callback=" + s, document.body.appendChild(a) } function c(e, t) { var a = new XMLHttpRequest; a.open("GET", e, !0), a.onload = function () { this.status >= 200 && this.status < 400 && t(JSON.parse(this.response)) }, a.onerror = function () { }, a.send() } function d(e, t, a) { "jsonp" == a ? o(e, t) : c(e, t) } function m(e, t, a, s, n, i, l) { var r = new Date(e, t, a, s || 0, n || 0, i || 0, l || 0); return 23 == r.getHours() && 0 === (s || 0) && r.setHours(r.getHours() + 2), r } function u(e) { for (var t = 0, a = 1, s = 0; e.length;)t > 3 ? a = 3600 : t > 1 && (a = 60), s += e.pop() * a * (t % 2 ? 10 : 1), t++; return s } function h(e) { ga.length || e.show(), ga.push(e) } function f(e) { var t = ya.length; ya.push(e), ga.length || (t ? ya[0].hide() : e.show()) } function p(e, t, a, s) { return _a({ display: t.display || "center", cssClass: "mbsc-alert", okText: t.okText, cancelText: t.cancelText, context: t.context, theme: t.theme, closeOnOverlayTap: !1, onBeforeClose: function () { e.shift() }, onBeforeShow: function () { Y.activeInstance = null }, onHide: function (e, s) { a && a(s._resolve), t.callback && t.callback(s._resolve), s && s.destroy(), ga.length ? ga[0].show() : ya.length && ya[0].show() } }, s) } function b(e) { return (e.title ? "<h2>" + e.title + "</h2>" : "") + "<p>" + (e.message || "") + "</p>" } function v(e, t, a) { var s = new ba(e, p(ga, t, a)); h(s) } function g(e, t, a) { var s = new ba(e, p(ga, t, a, { buttons: ["ok", "cancel"], onSet: function () { s._resolve = !0 } })); s._resolve = !1, h(s) } function y(e, t, a) { var s = void 0, n = new ba(e, p(ga, t, a, { buttons: ["ok", "cancel"], onShow: function () { s = n._markup.find("input")[0], setTimeout(function () { s.focus() }, 300) }, onSet: function () { n._resolve = s.value } })); n._resolve = "", h(n) } function x(e, t, a, s, n) { var i = void 0, l = new ba(e, p(ya, t, a, { display: "bottom", animate: n, cssClass: s || "mbsc-snackbar", scrollLock: !1, buttons: [], onShow: function (e, a) { t.duration !== !1 && (i = setTimeout(function () { a && a.hide() }, t.duration || 3e3)), t.button && a.tap(xa(".mbsc-snackbar-btn", e.target), function () { a.hide(), t.button.action && t.button.action.call(this) }) }, onClose: function () { clearTimeout(i) } })); f(l) } function _(e, t, a) { x(e, t, a, "mbsc-toast", "fade") } function w(e, t, a) { var s = void 0; return va ? s = new Promise(function (s) { e(t, a, s) }) : e(t, a), s } function C(e, t) { var a = {}, s = e.parent(), n = s.find(".mbsc-err-msg"), i = e.attr("data-icon-align") || "left", l = e.attr("data-icon"); wa('<span class="mbsc-input-wrap"></span>').insertAfter(e).append(e), n && s.find(".mbsc-input-wrap").append(n), l && (l.indexOf("{") !== -1 ? a = JSON.parse(l) : a[i] = l), (l || t) && (wa.extend(a, t), s.addClass((a.right ? "mbsc-ic-right " : "") + (a.left ? " mbsc-ic-left" : "")).find(".mbsc-input-wrap").append(a.left ? '<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-' + a.left + '"></span>' : "").append(a.right ? '<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-' + a.right + '"></span>' : "")) } function T(e, t) { var a = {}, s = t[0], i = t.parent(), l = t.attr("data-password-toggle"), r = t.attr("data-icon-show") || "eye", o = t.attr("data-icon-hide") || "eye-blocked"; l && (a.right = "password" == s.type ? r : o), C(t, a), l && n(e, i.find(".mbsc-right-ic").addClass("mbsc-input-toggle"), function () { "text" == s.type ? (s.type = "password", wa(this).addClass("mbsc-ic-" + r).removeClass("mbsc-ic-" + o)) : (s.type = "text", wa(this).removeClass("mbsc-ic-" + r).addClass("mbsc-ic-" + o)) }) } function M(e, t) { "button" != t && "submit" != t && "segmented" != t && (e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"), e.contents().filter(function () { return 3 == this.nodeType && this.nodeValue && /\S/.test(this.nodeValue) }).each(function () { wa('<span class="mbsc-label"></span>').insertAfter(this).append(this) })) } function k(e) { var t = e[0], a = e.attr("data-role"), s = e.attr("type") || t.nodeName.toLowerCase(); return /(switch|range|segmented|stepper)/.test(a) && (s = a), s } function D(e) { var t = Y.themes.form[e]; return t && t.addRipple ? t : null } function S() { clearTimeout(La), La = setTimeout(function () { Fa("textarea.mbsc-control").each(function () { V(this) }) }, 100) } function V(e) { var t = void 0, a = void 0, s = void 0, n = Fa(e).attr("rows") || 6; e.offsetHeight && (e.style.height = "", s = e.scrollHeight - e.offsetHeight, t = e.offsetHeight + (s > 0 ? s : 0), a = Math.round(t / 24), a > n ? (e.scrollTop = t, t = 24 * n + (t - 24 * a), Fa(e).addClass("mbsc-textarea-scroll")) : Fa(e).removeClass("mbsc-textarea-scroll"), t && (e.style.height = t + "px")) } function A(e) { var t = Fa(e); if (!t.hasClass("mbsc-textarea-scroll")) { var a = e.scrollHeight - e.offsetHeight, s = e.offsetHeight + a; e.scrollTop = 0, e.style.height = s + "px" } } e = "default" in e ? e.default : e; var Y = Y || {}, I = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, P = function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }, $ = function () { function e(e, t) { for (var a = 0; a < t.length; a++) { var s = t[a]; s.enumerable = s.enumerable || !1, s.configurable = !0, "value" in s && (s.writable = !0), Object.defineProperty(e, s.key, s) } } return function (t, a, s) { return a && e(t.prototype, a), s && e(t, s), t } }(), H = function e(t, a, s) { null === t && (t = Function.prototype); var n = Object.getOwnPropertyDescriptor(t, a); if (void 0 === n) { var i = Object.getPrototypeOf(t); return null === i ? void 0 : e(i, a, s) } if ("value" in n) return n.value; var l = n.get; if (void 0 !== l) return l.call(s) }, O = function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }, E = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }, F = e.extend; Y.presetShort = function (e, a, s) { Y.components[e] = function (n) { return t(this, F(n, { component: a, preset: s === !1 ? void 0 : e }), arguments) } }, Y.$ = e, e.mobiscroll = Y, e.fn.mobiscroll = function (e) { return F(this, Y.components), t(this, e, arguments) }; var W, L, N = [], j = navigator.userAgent, R = j.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i); /Android/i.test(R) ? (W = "android", L = navigator.userAgent.match(/Android\s+([\d\.]+)/i), L && (N = L[0].replace("Android ", "").split("."))) : /iPhone|iPad|iPod/i.test(R) ? (W = "ios", L = navigator.userAgent.match(/OS\s+([\d\_]+)/i), L && (N = L[0].replace(/_/g, ".").replace("OS ", "").split("."))) : /Windows Phone/i.test(R) ? W = "wp" : /Windows|MSIE/i.test(R) && (W = "windows"); var X = { name: W, majorVersion: N[0], minorVersion: N[1] }, q = 0;["mouseover", "mousedown", "mouseup", "click"].forEach(function (e) { document.addEventListener(e, i, !0) }), "android" == X.name && X.majorVersion < 5 && document.addEventListener("change", function (e) { q && 'checkbox' == e.target.type && !e.target.mbscChange && (e.stopPropagation(), e.preventDefault()), delete e.target.mbscChange }, !0); var B, U = function () { }, z = Y.$, K = +new Date, G = {}, Z = z.extend, J = document.createElement("modernizr").style, Q = r(), ee = Q.replace(/^\-/, "").replace(/\-$/, "").replace("moz", "Moz"), te = void 0 !== J.animation ? "animationend" : "webkitAnimationEnd"; B = Z(Y, { $: z, version: "3.2.0", util: { prefix: Q, jsPrefix: ee, animEnd: te, preventClick: a, testTouch: function (e, t) { if ("touchstart" == e.type) z(t).attr("data-touch", "1"); else if (z(t).attr("data-touch")) return z(t).removeAttr("data-touch"), !1; return !0 }, objectToArray: function (e) { var t, a = []; for (t in e) a.push(e[t]); return a }, arrayToObject: function (e) { var t, a = {}; if (e) for (t = 0; t < e.length; t++)a[e[t]] = e[t]; return a }, isNumeric: function (e) { return e - parseFloat(e) >= 0 }, isString: function (e) { return "string" == typeof e }, getCoord: s, getPosition: function (e, t) { var a, s, n = getComputedStyle(e[0]); return z.each(["t", "webkitT", "MozT", "OT", "msT"], function (e, t) { if (void 0 !== n[t + "ransform"]) return a = n[t + "ransform"], !1 }), a = a.split(")")[0].split(", "), s = t ? a[13] || a[5] : a[12] || a[4] }, constrain: function (e, t, a) { return Math.max(t, Math.min(e, a)) }, vibrate: function (e) { "vibrate" in navigator && navigator.vibrate(e || 50) }, throttle: function (e, t) { var a, s; return t = t || 100, function () { var n = this, i = +new Date, l = arguments; a && i < a + t ? (clearTimeout(s), s = setTimeout(function () { a = i, e.apply(n, l) }, t)) : (a = i, e.apply(n, l)) } } }, autoTheme: "mobiscroll", presets: { scroller: {}, numpad: {}, listview: {}, menustrip: {} }, themes: { form: {}, page: {}, frame: {}, scroller: {}, listview: {}, menustrip: {}, progress: {} }, platform: X, i18n: {}, instances: G, classes: {}, components: {}, settings: {}, setDefaults: function (e) { Z(this.settings, e) }, customTheme: function (e, t) { var a, s = Y.themes, n = ["frame", "scroller", "listview", "menustrip", "form", "progress"]; for (a = 0; a < n.length; a++)s[n[a]][e] = Y.$.extend({}, s[n[a]][t], { baseTheme: t }) } }), B.presetShort = B.presetShort || function () { }, B.classes.Base = function (e, t) { function a() { z(e).addClass("mbsc-comp"), e.id ? G[e.id] && G[e.id].destroy() : e.id = "mobiscroll" + ++K, G[e.id] = m, m.__ready = !0 } var s, i, l, r, o, c, d, m = this; m.settings = {}, m._init = U, m._destroy = U, m._processSettings = U, m.init = function (a) { var n; for (n in m.settings) delete m.settings[n]; l = m.settings, Z(t, a), m._hasDef && (d = B.settings), Z(l, m._defaults, d, t), m._hasTheme && (o = l.theme, "auto" != o && o || (o = B.autoTheme), "default" == o && (o = "mobiscroll"), t.theme = o, r = B.themes[m._class] ? B.themes[m._class][o] : {}), m._hasLang && (s = B.i18n[l.lang]), m._hasTheme && c("onThemeLoad", { lang: s, settings: t }), Z(l, r, s, d, t), m._processSettings(), m._hasPreset && (i = B.presets[m._class][l.preset], i && (i = i.call(e, m), Z(l, i, t))), m._init(a), c("onInit") }, m.destroy = function () { m && (m._destroy(), c("onDestroy"), delete G[e.id], m = null) }, m.tap = function (e, t, a, s, i) { n(m, e, t, a, s, i) }, m.trigger = function (a, s) { var n, l, o, c = [d, r, i, t]; for (l = 0; l < 4; l++)o = c[l], o && o[a] && (n = o[a].call(e, s || {}, m)); return n }, m.option = function (e, t) { var a = {}; "object" === ("undefined" == typeof e ? "undefined" : I(e)) ? a = e : a[e] = t, m.init(a) }, m.getInst = function () { return m }, t = t || {}, c = m.trigger, m.__ready || a() }; var ae = 0; Y.util.getJson = d; var se, ne, ie = Y.$, le = Y.platform, re = Y.util, oe = Y.classes, ce = Y.themes, de = re.constrain, me = re.isString, ue = re.getCoord, he = re.animEnd, fe = /(iphone|ipod)/i.test(navigator.userAgent) && le.majorVersion >= 7, pe = "ios" == le.name && 8 == le.majorVersion, be = function () { }, ve = function (e) { e.preventDefault() }, ge = function (e, t, a) { function s(e) { M && M.removeClass("mbsc-fr-btn-a"), M = ie(this), M.hasClass("mbsc-fr-btn-d") || M.hasClass("mbsc-fr-btn-nhl") || M.addClass("mbsc-fr-btn-a"), "mousedown" === e.type ? ie(document).on("mouseup", n) : "pointerdown" === e.type && ie(document).on("pointerup", n) } function n(e) { M && (M.removeClass("mbsc-fr-btn-a"), M = null), "mouseup" === e.type ? ie(document).off("mouseup", n) : "pointerup" === e.type && ie(document).off("pointerup", n) } function i(e) { 13 == e.keyCode ? K.select() : 27 == e.keyCode && K.cancel() } function l(e) { e || E.focus(), K.ariaMessage(N.ariaMessage) } function r(e) { var t = se, a = N.focusOnClose; K._markupRemove(), g.remove(), V && (k.mbscModals-- , N.scrollLock && k.mbscLock-- , k.mbscLock || v.removeClass("mbsc-fr-lock"), k.mbscModals || (v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"), O && (p.css({ top: "", left: "" }), w.scrollLeft(j), w.scrollTop(X)), e || (t || (t = G), setTimeout(function () { void 0 === a || a === !0 ? (ne = !0, t[0].focus()) : a && ie(a)[0].focus() }, 200)))), se = null, K._isVisible = !1, A = !1, B("onHide") } function o(e) { clearTimeout(J[e.type]), J[e.type] = setTimeout(function () { var t, a = "scroll" == e.type; a && !R || (K.position(!a), "orientationchange" == e.type && (F.style.display = "none", t = F.offsetHeight, F.style.display = "")) }, 200) } function c(e) { e.target.nodeType && !F.contains(e.target) && F.focus() } function d(e, t) { e && e(), K.show() !== !1 && (se = t, setTimeout(function () { ne = !1 }, 300)) } function m() { K._fillValue(), B("onSet", { valueText: K._value }) } function u() { B("onCancel", { valueText: K._value }) } function h() { K.setVal(null, !0) } var f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, I, P, $, H, O, E, F, W, L, N, j, R, X, q, B, U, z, K = this, G = ie(e), Z = [], J = {}; oe.Base.call(this, e, t, !0), K.position = function (e) { var t, a, s, n, i, l, r, o, c, d, m, u, h, f, b, v, y = {}, T = 0, M = 0, D = 0, O = 0; !L && A && (K._position(g), u = I.offsetHeight, h = I.offsetWidth, U === h && z === u && e || (K._isFullScreen || /top|bottom/.test(N.display) ? _.width(h) : C.width(""), B("onPosition", { target: I, windowWidth: h, windowHeight: u }) !== !1 && V && (ie(".mbsc-comp", g).each(function () { var e = Y.instances[this.id]; e && e !== K && e.position && e.position() }), !K._isFullScreen && /center|bubble/.test(N.display) && (ie(".mbsc-w-p", g).each(function () { f = this.getBoundingClientRect().width, O += f, D = f > D ? f : D }), C.css({ width: K._isLiquid ? Math.min(N.maxPopupWidth, h - 16) : Math.ceil(O > h ? D : O), "white-space": O > h ? "" : "nowrap" })), P = F.offsetWidth, $ = F.offsetHeight, R = $ <= u && P <= h, H && (T = w.scrollLeft(), M = w.scrollTop()), "center" == N.display ? (v = Math.max(0, T + (h - P) / 2), b = Math.max(0, M + (u - $) / 2)) : "bubble" == N.display ? (t = void 0 === N.anchor ? G : ie(N.anchor), r = ie(".mbsc-fr-arr-i", g)[0], n = t.offset(), i = n.top + (S ? M - p.offset().top : 0), l = n.left + (S ? T - p.offset().left : 0), a = t[0].offsetWidth, s = t[0].offsetHeight, o = r.offsetWidth, c = r.offsetHeight, v = de(l - (P - a) / 2, T + 8, T + h - P - 8), b = i - $ - c / 2, b < M || i > M + u ? (_.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"), b = i + s + c / 2) : _.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"), ie(".mbsc-fr-arr", g).css({ left: de(l + a / 2 - (v + (P - o) / 2), 0, o) }), R = b > M && v > T && b + $ <= M + u && v + P <= T + h) : (v = T, b = "top" == N.display ? M : Math.max(0, M + u - $)), H && (d = Math.max(b + $, S ? k.scrollHeight : ie(document).height()), m = Math.max(v + P, S ? k.scrollWidth : ie(document).width()), x.css({ width: m, height: d }), N.scroll && "bubble" == N.display && (b + $ + 8 > M + u || i > M + u || i + s < M) && (L = !0, setTimeout(function () { L = !1 }, 300), w.scrollTop(Math.min(i, b + $ - u + 8, d - u)))), y.top = Math.floor(b), y.left = Math.floor(v), _.css(y), U = h, z = u))) }, K.attachShow = function (e, t) { var a, s = ie(e), n = s.prop("readonly"); if ("inline" !== N.display) { if ((N.showOnFocus || N.showOnTap) && s.is("input,select") && (s.prop("readonly", !0).on("mousedown.mbsc", function (e) { e.preventDefault() }).on("focus.mbsc", function () { K._isVisible && this.blur() }), a = ie('label[for="' + s.attr("id") + '"]'), a.length || (a = s.closest("label"))), s.is("select")) return; N.showOnFocus && s.on("focus.mbsc", function () { ne || d(t, s) }), N.showOnTap && (s.on("keydown.mbsc", function (e) { 32 != e.keyCode && 13 != e.keyCode || (e.preventDefault(), e.stopPropagation(), d(t, s)) }), K.tap(s, function () { d(t, s) }), a && a.length && K.tap(a, function () { d(t, s) })), Z.push({ readOnly: n, el: s, lbl: a }) } }, K.select = function () { V ? K.hide(!1, "set", !1, m) : m() }, K.cancel = function () { V ? K.hide(!1, "cancel", !1, u) : u() }, K.clear = function () { K._clearValue(), B("onClear"), V && K._isVisible && !K.live ? K.hide(!1, "clear", !1, h) : h() }, K.enable = function () { N.disabled = !1, K._isInput && G.prop("disabled", !1) }, K.disable = function () { N.disabled = !0, K._isInput && G.prop("disabled", !0) }, K.show = function (e, t) { function a() { g.off(he, a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-" + D).find(".mbsc-fr-popup").removeClass("mbsc-anim-" + D), l(t) } var r, d; if (!N.disabled && !K._isVisible) { if (K._readValue(), B("onBeforeShow") === !1) return !1; if (D = N.animate, T = N.buttons || [], H = S || "bubble" == N.display, O = fe && !H && N.scrollLock, r = T.length > 0, D !== !1 && ("top" == N.display ? D = D || "slidedown" : "bottom" == N.display ? D = D || "slideup" : "center" != N.display && "bubble" != N.display || (D = D || "pop")), V && (X = Math.max(0, w.scrollTop()), j = Math.max(0, w.scrollLeft()), U = 0, z = 0, O && !v.hasClass("mbsc-fr-lock-ios") && p.css({ top: -X + "px", left: -j + "px" }), v.addClass((N.scrollLock ? "mbsc-fr-lock" : "") + (O ? " mbsc-fr-lock-ios" : "") + (S ? " mbsc-fr-lock-ctx" : "")), ie(document.activeElement).is("input,textarea") && document.activeElement.blur(), Y.activeInstance && Y.activeInstance.hide(), Y.activeInstance = K, k.mbscModals = k.mbscModals || 0, k.mbscLock = k.mbscLock || 0, k.mbscModals++ , N.scrollLock && k.mbscLock++), d = '<div lang="' + N.lang + '" class="mbsc-fr mbsc-no-touch mbsc-' + N.theme + (N.baseTheme ? " mbsc-" + N.baseTheme : "") + " mbsc-fr-" + N.display + " " + (N.cssClass || "") + " " + (N.compClass || "") + (K._isLiquid ? " mbsc-fr-liq" : "") + (O ? " mbsc-platform-ios" : "") + (r ? T.length >= 3 ? " mbsc-fr-btn-block " : "" : " mbsc-fr-nobtn") + '">' + (V ? '<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">' : "") + '<div class="mbsc-fr-popup' + (N.rtl ? " mbsc-rtl" : " mbsc-ltr") + (N.headerText ? " mbsc-fr-has-hdr" : "") + '">' + ("bubble" === N.display ? '<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>' : "") + '<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>' + (N.headerText ? '<div class="mbsc-fr-hdr">' + (me(N.headerText) ? N.headerText : "") + "</div>" : "") + '<div class="mbsc-fr-c">', d += K._generateContent(), d += "</div>", r && (d += '<div class="mbsc-fr-btn-cont">', ie.each(T, function (e, t) { t = me(t) ? K.buttons[t] : t, "set" === t.handler && (t.parentClass = "mbsc-fr-btn-s"), "cancel" === t.handler && (t.parentClass = "mbsc-fr-btn-c"), d += "<div" + (N.btnWidth ? ' style="width:' + 100 / T.length + '%"' : "") + ' class="mbsc-fr-btn-w ' + (t.parentClass || "") + '"><div tabindex="0" role="button" class="mbsc-fr-btn' + e + " mbsc-fr-btn-e " + (void 0 === t.cssClass ? N.btnClass : t.cssClass) + (t.icon ? " mbsc-ic mbsc-ic-" + t.icon : "") + '">' + (t.text || "") + "</div></div>" }), d += "</div>"), d += "</div></div></div></div>" + (V ? "</div></div>" : ""), g = ie(d), x = ie(".mbsc-fr-persp", g), y = ie(".mbsc-fr-scroll", g), C = ie(".mbsc-fr-w", g), b = ie(".mbsc-fr-hdr", g), _ = ie(".mbsc-fr-popup", g), f = ie(".mbsc-fr-aria", g), I = g[0], E = y[0], F = _[0], K._markup = g, K._header = b, K._isVisible = !0, W = "orientationchange resize", K._markupReady(g), B("onMarkupReady", { target: I }), V) { if (ie(window).on("keydown", i), N.scrollLock && g.on("touchmove mousewheel wheel", function (e) { R && e.preventDefault() }), N.focusTrap && w.on("focusin", c), N.closeOnOverlayTap) { var m, u, h, M; y.on("touchstart mousedown", function (e) { u || e.target != y[0] || (u = !0, m = !1, h = ue(e, "X"), M = ue(e, "Y")) }).on("touchmove mousemove", function (e) { u && !m && (Math.abs(ue(e, "X") - h) > 9 || Math.abs(ue(e, "Y") - M) > 9) && (m = !0) }).on("touchcancel", function () { u = !1 }).on("touchend touchcancel mouseup", function (e) { u && !m && (K.cancel(), "mouseup" != e.type && re.preventClick()), u = !1 }) } H && (W += " scroll") } setTimeout(function () { if (V) g.appendTo(p); else if (G.is("div") && !K._hasContent) G.empty().append(g); else if (G.hasClass("mbsc-control")) { var i = G.closest(".mbsc-control-w"); g.insertAfter(i), i.hasClass("mbsc-select") && i.addClass("mbsc-select-inline") } else g.insertAfter(G); A = !0, K._markupInserted(g), B("onMarkupInserted", { target: I }), g.on("selectstart mousedown", ve).on("click", ".mbsc-fr-btn-e", ve).on("keydown", ".mbsc-fr-btn-e", function (e) { 32 == e.keyCode && (e.preventDefault(), e.stopPropagation(), this.click()) }).on("keydown", function (e) { if (32 == e.keyCode) e.preventDefault(); else if (9 == e.keyCode && V && N.focusTrap) { var t = g.find('[tabindex="0"]').filter(function () { return this.offsetWidth > 0 || this.offsetHeight > 0 }), a = t.index(ie(":focus", g)), s = t.length - 1, n = 0; e.shiftKey && (s = 0, n = -1), a === s && (t.eq(n)[0].focus(), e.preventDefault()) } }).on("touchstart mousedown pointerdown", ".mbsc-fr-btn-e", s).on("touchend", ".mbsc-fr-btn-e", n), ie("input,select,textarea", g).on("selectstart mousedown", function (e) { e.stopPropagation() }).on("keydown", function (e) { 32 == e.keyCode && e.stopPropagation() }), I.addEventListener("touchstart", function () { q || (q = !0, p.find(".mbsc-no-touch").removeClass("mbsc-no-touch")) }, !0), ie.each(T, function (e, t) { K.tap(ie(".mbsc-fr-btn" + e, g), function (e) { t = me(t) ? K.buttons[t] : t, (me(t.handler) ? K.handlers[t.handler] : t.handler).call(this, e, K) }, !0) }), K._attachEvents(g), K.position(), w.on(W, o), V && (D && !e ? g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-" + D).on(he, a).find(".mbsc-fr-popup").addClass("mbsc-anim-" + D) : l(t)), B("onShow", { target: I, valueText: K._tempValue }) }, O ? 100 : 0) } }, K.hide = function (e, t, a, s) { function n() { g.off(he, n), r(e) } return !(!K._isVisible || !a && !K._isValid && "set" == t || !a && B("onBeforeClose", { valueText: K._tempValue, button: t }) === !1) && (V && (ie(document.activeElement).is("input,textarea") && F.contains(document.activeElement) && document.activeElement.blur(), ie(window).off("keydown", i), delete Y.activeInstance), g && (V && D && !e ? g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-" + D).on(he, n).find(".mbsc-fr-popup").addClass("mbsc-anim-" + D) : r(e), K._detachEvents(g), w.off(W, o).off("focusin", c)), s && s(), void B("onClose", { valueText: K._value })) }, K.ariaMessage = function (e) { f.html(""), setTimeout(function () { f.html(e) }, 100) }, K.isVisible = function () { return K._isVisible }, K.setVal = be, K.getVal = be, K._generateContent = be, K._attachEvents = be, K._detachEvents = be, K._readValue = be, K._clearValue = be, K._fillValue = be, K._markupReady = be, K._markupInserted = be, K._markupRemove = be, K._position = be, K.__processSettings = be, K.__init = be, K.__destroy = be, K._destroy = function () { K.hide(!0, !1, !0), G.off(".mbsc"), ie.each(Z, function (e, t) { t.el.off(".mbsc").prop("readonly", t.readOnly), t.lbl && t.lbl.off(".mbsc") }), K.__destroy() }, K._processSettings = function () { var e, t; for (K.__processSettings(), N.buttons = N.buttons || ("inline" !== N.display ? ["set", "cancel"] : []), N.headerText = void 0 === N.headerText ? "inline" !== N.display && "{value}" : N.headerText, T = N.buttons || [], V = "inline" !== N.display, S = "body" != N.context, p = ie(N.context), v = S ? p : ie("body,html"), k = p[0], K._window = w = ie(S ? N.context : window), K.live = !0, t = 0; t < T.length; t++)e = T[t], "ok" != e && "set" != e && "set" != e.handler || (K.live = !1); K.buttons.set = { text: N.setText, icon: N.setIcon, handler: "set" }, K.buttons.cancel = { text: N.cancelText, icon: N.cancelIcon, handler: "cancel" }, K.buttons.close = { text: N.closeText, icon: N.closeIcon, handler: "cancel" }, K.buttons.clear = { text: N.clearText, icon: N.clearIcon, handler: "clear" }, K._isInput = G.is("input") }, K._init = function () { K._isVisible && K.hide(!0, !1, !0), G.off(".mbsc"), K.__init(), K._isLiquid = "liquid" == N.layout, V ? (K._readValue(), K._hasContent || K.attachShow(G)) : K.show(), G.on("change.mbsc", function () { K._preventChange || K.setVal(G.val(), !0, !1), K._preventChange = !1 }) }, K.buttons = {}, K.handlers = { set: K.select, cancel: K.cancel, clear: K.clear }, K._value = null, K._isValid = !0, K._isVisible = !1, N = K.settings, B = K.trigger, a || K.init(t) }; ge.prototype._defaults = { lang: "en", setText: "Set", selectedText: "{count} selected", closeText: "Close", cancelText: "Cancel", clearText: "Clear", context: "body", maxPopupWidth: 600, disabled: !1, closeOnOverlayTap: !0, showOnFocus: !1, showOnTap: !0, display: "center", scroll: !0, scrollLock: !0, tap: !0, btnClass: "mbsc-fr-btn", btnWidth: !0, focusTrap: !0, focusOnClose: !pe }, oe.Frame = ge, ce.frame.mobiscroll = { headerText: !1, btnWidth: !1 }, ce.scroller.mobiscroll = ie.extend({}, ce.frame.mobiscroll, { rows: 5, showLabel: !1, selectedLineBorder: 1, weekDays: "min", checkIcon: "ion-ios7-checkmark-empty", btnPlusClass: "mbsc-ic mbsc-ic-arrow-down5", btnMinusClass: "mbsc-ic mbsc-ic-arrow-up5", btnCalPrevClass: "mbsc-ic mbsc-ic-arrow-left5", btnCalNextClass: "mbsc-ic mbsc-ic-arrow-right5" }), ie(window).on("focus", function () { se && (ne = !0) }); var ye = Y.$, xe = Y.classes, _e = Y.util, we = _e.constrain, Ce = _e.jsPrefix, Te = _e.prefix, Me = _e.getCoord, ke = _e.getPosition, De = _e.testTouch, Se = _e.isNumeric, Ve = _e.isString, Ae = /(iphone|ipod|ipad)/i.test(navigator.userAgent), Ye = function () { }, Ie = window.requestAnimationFrame || function (e) { e() }, Pe = window.cancelAnimationFrame || Ye, $e = function (e, t, a) { function s(e) { q("onStart", { domEvent: e }), Z.stopProp && e.stopPropagation(), (Z.prevDef || "mousedown" == e.type) && e.preventDefault(), Z.readonly || Z.lock && S || De(e, this) && !D && (d && d.removeClass("mbsc-btn-a"), w = !1, S || (d = ye(e.target).closest(".mbsc-btn-e", this), d.length && !d.hasClass("mbsc-btn-d") && (w = !0, m = setTimeout(function () { d.addClass("mbsc-btn-a") }, 100))), D = !0, I = !1, V = !1, z.scrolled = S, W = Me(e, "X"), L = Me(e, "Y"), y = C = W, h = 0, f = 0, p = 0, F = new Date, E = +ke(j, B) || 0, S && c(E, Ae ? 0 : 1), "mousedown" === e.type && ye(document).on("mousemove", n).on("mouseup", l)) } function n(e) { D && (Z.stopProp && e.stopPropagation(), y = Me(e, "X"), x = Me(e, "Y"), h = y - W, f = x - L, p = B ? f : h, w && (Math.abs(f) > Z.thresholdY || Math.abs(h) > Z.thresholdX) && (clearTimeout(m), d.removeClass("mbsc-btn-a"), w = !1), (z.scrolled || !V && Math.abs(p) > X) && (I || q("onGestureStart", _), z.scrolled = I = !0, Y || (Y = !0, A = Ie(i))), B || Z.scrollLock ? e.preventDefault() : z.scrolled ? e.preventDefault() : Math.abs(f) > 7 && (V = !0, z.scrolled = !0, J.trigger("touchend"))) } function i() { M && (p = we(p, -H * M, H * M)), c(we(E + p, k - g, T + g)), Y = !1 } function l(e) { if (D) { var t, a = new Date - F; Z.stopProp && e.stopPropagation(), Pe(A), Y = !1, !V && z.scrolled && (Z.momentum && a < 300 && (t = p / a, p = Math.max(Math.abs(p), t * t / Z.speedUnit) * (p < 0 ? -1 : 1)), o(p)), w && (clearTimeout(m), d.addClass("mbsc-btn-a"), setTimeout(function () { d.removeClass("mbsc-btn-a") }, 100), V || z.scrolled || q("onBtnTap", { target: d[0] })), "mouseup" == e.type && ye(document).off("mousemove", n).off("mouseup", l), D = !1 } } function r(e) { if (e = e.originalEvent || e, p = B ? e.deltaY || e.wheelDelta || e.detail : e.deltaX, q("onStart", { domEvent: e }), Z.stopProp && e.stopPropagation(), p) { if (e.preventDefault(), e.deltaMode && 1 == e.deltaMode && (p *= 5), p = we(-p, -20, 20), E = U, Z.readonly || E + p < k || E + p > T) return; I || (_ = { posX: B ? 0 : U, posY: B ? U : 0, originX: B ? 0 : E, originY: B ? E : 0, direction: p > 0 ? B ? 270 : 360 : B ? 90 : 180 }, q("onGestureStart", _)), Y || (Y = !0, A = Ie(i)), I = !0, clearTimeout(P), P = setTimeout(function () { Pe(A), Y = !1, I = !1, o(p) }, 200) } } function o(e) { var t, a, s; if (M && (e = we(e, -H * M, H * M)), s = we(Math.round((E + e) / H) * H, k, T), K = Math.round(s / H), O) { if (e < 0) { for (t = O.length - 1; t >= 0; t--)if (Math.abs(s) + u >= O[t].breakpoint) { K = t, G = 2, s = O[t].snap2; break } } else if (e >= 0) for (t = 0; t < O.length; t++)if (Math.abs(s) <= O[t].breakpoint) { K = t, G = 1, s = O[t].snap1; break } s = we(s, k, T) } a = Z.time || (U < k || U > T ? 1e3 : Math.max(1e3, Math.abs(s - U) * Z.timeUnit)), _.destinationX = B ? 0 : s, _.destinationY = B ? s : 0, _.duration = a, _.transitionTiming = v, q("onGestureEnd", _), c(s, a) } function c(e, t, a, s) { var n = e != U, i = t > 1, l = function () { clearInterval($), clearTimeout(R), S = !1, U = e, _.posX = B ? 0 : e, _.posY = B ? e : 0, n && q("onMove", _), i && q("onAnimationEnd", _), s && s() }; _ = { posX: B ? 0 : U, posY: B ? U : 0, originX: B ? 0 : E, originY: B ? E : 0, direction: e - U > 0 ? B ? 270 : 360 : B ? 90 : 180 }, U = e, i && (_.destinationX = B ? 0 : e, _.destinationY = B ? e : 0, _.duration = t, _.transitionTiming = v, q("onAnimationStart", _)), N[Ce + "Transition"] = t ? Te + "transform " + Math.round(t) + "ms " + v : "", N[Ce + "Transform"] = "translate3d(" + (B ? "0," + e + "px," : e + "px,0,") + "0)", !n && !S || !t || t <= 1 ? l() : t && (S = !a, clearInterval($), $ = setInterval(function () { var t = +ke(j, B) || 0; _.posX = B ? 0 : t, _.posY = B ? t : 0, q("onMove", _), Math.abs(t - e) < 2 && l() }, 100), clearTimeout(R), R = setTimeout(function () { l() }, t)), Z.sync && Z.sync(e, t, v) } var d, m, u, h, f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, Y, I, P, $, H, O, E, F, W, L, N, j, R, X, q, B, U, z = this, K = 0, G = 1, Z = t, J = ye(e); xe.Base.call(this, e, t, !0), z.scrolled = !1, z.scroll = function (t, a, s, n) { t = Se(t) ? Math.round(t / H) * H : Math.ceil((ye(t, e).length ? Math.round(j.offset()[b] - ye(t, e).offset()[b]) : U) / H) * H, t = we(t, k, T), K = Math.round(t / H), E = U, c(t, a, s, n) }, z.refresh = function (e) { var t; u = void 0 === Z.contSize ? B ? J.height() : J.width() : Z.contSize, k = void 0 === Z.minScroll ? Math.min(0, B ? u - j.height() : u - j.width()) : Z.minScroll, T = void 0 === Z.maxScroll ? 0 : Z.maxScroll, O = null, !B && Z.rtl && (t = T, T = -k, k = -t), Ve(Z.snap) && (O = [], j.find(Z.snap).each(function () { var e = B ? this.offsetTop : this.offsetLeft, t = B ? this.offsetHeight : this.offsetWidth; O.push({ breakpoint: e + t / 2, snap1: -e, snap2: u - e - t }) })), H = Se(Z.snap) ? Z.snap : 1, M = Z.snap ? Z.maxSnapScroll : 0, v = Z.easing, g = Z.elastic ? Se(Z.snap) ? H : Se(Z.elastic) ? Z.elastic : 0 : 0, void 0 === U && (U = Z.initialPos, K = Math.round(U / H)), e || z.scroll(Z.snap ? O ? O[K]["snap" + G] : K * H : U) }, z._processSettings = function () { B = "Y" == Z.axis, b = B ? "top" : "left", j = Z.moveElement || J.children().eq(0), N = j[0].style, X = B ? Z.thresholdY : Z.thresholdX }, z._init = function () { z.refresh(), J.on("touchstart mousedown", s).on("touchmove", n).on("touchend touchcancel", l), Z.mousewheel && J.on("wheel mousewheel", r), e.addEventListener && e.addEventListener("click", function (e) { z.scrolled && (z.scrolled = !1, e.stopPropagation(), e.preventDefault()) }, !0) }, z._destroy = function () { clearInterval($), J.off("touchstart mousedown", s).off("touchmove", n).off("touchend touchcancel", l).off("wheel mousewheel", r) }, Z = z.settings, q = z.trigger, a || z.init(t) }; $e.prototype = { _class: "scrollview", _defaults: { speedUnit: .0022, timeUnit: 3, initialPos: 0, axis: "Y", thresholdX: 10, thresholdY: 5, easing: "cubic-bezier(0.190, 1.000, 0.220, 1.000)", stopProp: !0, momentum: !0, mousewheel: !0, elastic: !0 } }, xe.ScrollView = $e, Y.presetShort("scrollview", "ScrollView", !1); var He = Y.$, Oe = He.extend, Ee = Y.platform, Fe = Y.util, We = Fe.jsPrefix, Le = Fe.prefix, Ne = Fe.getCoord, je = Fe.testTouch, Re = window.CSS, Xe = Re && Re.supports && Re.supports("(transform-style: preserve-3d)"), qe = !Xe || "wp" == Ee.name || "android" == Ee.name; Y.presetShort("scroller", "Scroller", !1); var Be = function (e, t, a) {
                function s(e) { var t = +He(this).attr("data-index"); e.stopPropagation(), "mousedown" === e.type && e.preventDefault(), je(e, this) && !v(t) && (D = He(this).addClass("mbsc-sc-btn-a"), O = Ne(e, "X"), E = Ne(e, "Y"), $ = !0, H = !1, setTimeout(function () { f(t, "inc" == D.attr("data-dir") ? 1 : -1) }, 100), "mousedown" === e.type && He(document).on("mousemove", n).on("mouseup", i)) } function n(e) { (Math.abs(O - Ne(e, "X")) > 7 || Math.abs(E - Ne(e, "Y")) > 7) && p(!0) } function i(e) { p(), e.preventDefault(), "mouseup" === e.type && He(document).off("mousemove", n).off("mouseup", i) } function l(e) { var t, a, s = He(this).attr("data-index"); 38 == e.keyCode ? (t = !0, a = -1) : 40 == e.keyCode ? (t = !0, a = 1) : 32 == e.keyCode && (t = !0, o(s, q[s]._$markup.find('.mbsc-sc-itm[data-val="' + F[s] + '"]'))), t && (e.stopPropagation(), e.preventDefault(), a && !$ && ($ = !0, H = !1, f(s, a))) } function r() { p() } function o(e, t) { var a = q[e], s = t.attr("data-index"), n = h(a, s), i = K._tempSelected[e], l = Fe.isNumeric(a.multiple) ? a.multiple : 1 / 0; R("onItemTap", { target: t[0], index: e, value: n, selected: t.hasClass("mbsc-sc-itm-sel") }) !== !1 && (a.multiple && !a._disabled[n] && (void 0 !== i[n] ? (t.removeClass(Y).removeAttr("aria-selected"), delete i[n]) : (1 == l && (K._tempSelected[e] = i = {}, a._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected")), Fe.objectToArray(i).length < l && (t.addClass(Y).attr("aria-selected", "true"), i[n] = n))), T(a, e, s, z, !0, !0, a.multiple), !K.live || a.multiple || j.setOnTap !== !0 && !j.setOnTap[e] || setTimeout(function () { K.select() }, 200)) } function c(e, t) { return (e._array ? e._map[t] : e.getIndex(t, K)) || 0 } function d(e, t) { var a = e.data; if (t >= e.min && t <= e.max) return e._array ? e.circular ? He(a).get(t % e._length) : a[t] : He.isFunction(a) ? a(t, K) : "" } function m(e) { return He.isPlainObject(e) ? void 0 !== e.value ? e.value : e.display : e } function u(e) { var t = He.isPlainObject(e) ? e.display : e; return void 0 === t ? "" : t } function h(e, t) { return m(d(e, t)) } function f(e, t) { H || b(e, t), $ && (clearInterval(P), P = setInterval(function () { b(e, t) }, j.delay)) } function p(e) { clearInterval(P), H = e, $ = !1, D && D.removeClass("mbsc-sc-btn-a") } function b(e, t) { var a = q[e]; T(a, e, a._current + t, z, 1 == t ? 1 : 2) } function v(e) { return He.isArray(j.readonly) ? j.readonly[e] : j.readonly } function g(e, t, a) {
                    var s = e._index - e._batch; return e.data = e.data || [], e.key = void 0 !== e.key ? e.key : t, e.label = void 0 !== e.label ? e.label : t, e._map = {}, e._array = He.isArray(e.data), e._array && (e._length = e.data.length, He.each(e.data, function (t, a) { e._map[m(a)] = t })), e.circular = void 0 === j.circular ? void 0 === e.circular ? e._array && e._length > j.rows : e.circular : He.isArray(j.circular) ? j.circular[t] : j.circular, e.min = e._array ? e.circular ? -(1 / 0) : 0 : void 0 === e.min ? -(1 / 0) : e.min, e.max = e._array ? e.circular ? 1 / 0 : e._length - 1 : void 0 === e.max ? 1 / 0 : e.max, e._nr = t, e._index = c(e, F[t]), e._disabled = {}, e._batch = 0, e._current = e._index, e._first = e._index - U, e._last = e._index + U, e._offset = e._first, a ? (e._offset -= e._margin / W + (e._index - s), e._margin += (e._index - s) * W) : e._margin = 0,
                        e._refresh = function (t) { var a = -(e.min - e._offset + (e.multiple && !A ? Math.floor(j.rows / 2) : 0)) * W, s = Math.min(a, -(e.max - e._offset - (e.multiple && !A ? Math.floor(j.rows / 2) : 0)) * W); Oe(e._scroller.settings, { minScroll: s, maxScroll: a }), e._scroller.refresh(t) }, B[e.key] = e, e
                } function y(e, t, a, s, n) { var i, l, r, o, c, h, f, p, b = "", v = K._tempSelected[t], g = e._disabled || {}; for (i = a; i <= s; i++)r = d(e, i), c = u(r), o = m(r), l = r && void 0 !== r.cssClass ? r.cssClass : "", h = r && void 0 !== r.label ? r.label : "", f = r && r.invalid, p = void 0 !== o && o == F[t] && !e.multiple, b += '<div role="option" aria-selected="' + !!v[o] + '" class="mbsc-sc-itm ' + (n ? "mbsc-sc-itm-3d " : "") + l + " " + (p ? "mbsc-sc-itm-sel " : "") + (v[o] ? Y : "") + (void 0 === o ? " mbsc-sc-itm-ph" : " mbsc-btn-e") + (f ? " mbsc-sc-itm-inv-h mbsc-btn-d" : "") + (g[o] ? " mbsc-sc-itm-inv mbsc-btn-d" : "") + '" data-index="' + i + '" data-val="' + o + '"' + (h ? ' aria-label="' + h + '"' : "") + (p ? ' aria-selected="true"' : "") + ' style="height:' + W + "px;line-height:" + W + "px;" + (n ? Le + "transform:rotateX(" + (e._offset - i) * V % 360 + "deg) translateZ(" + W * j.rows / 2 + "px);" : "") + '">' + (X > 1 ? '<div class="mbsc-sc-itm-ml" style="line-height:' + Math.round(W / X) + "px;font-size:" + Math.round(W / X * .8) + 'px;">' : "") + c + (X > 1 ? "</div>" : "") + "</div>"; return b } function x(t) { var a = j.headerText; return a ? "function" == typeof a ? a.call(e, t) : a.replace(/\{value\}/i, t) : "" } function _(e, t, a) { var s = Math.round(-a / W) + e._offset, n = s - e._current, i = e._first, l = e._last, r = i + U - S + 1, o = l - U + S; n && (e._first += n, e._last += n, e._current = s, n > 0 ? (e._$scroller.append(y(e, t, Math.max(l + 1, i + n), l + n)), He(".mbsc-sc-itm", e._$scroller).slice(0, Math.min(n, l - i + 1)).remove(), A && (e._$3d.append(y(e, t, Math.max(o + 1, r + n), o + n, !0)), He(".mbsc-sc-itm", e._$3d).slice(0, Math.min(n, o - r + 1)).attr("class", "mbsc-sc-itm-del"))) : n < 0 && (e._$scroller.prepend(y(e, t, i + n, Math.min(i - 1, l + n))), He(".mbsc-sc-itm", e._$scroller).slice(Math.max(n, i - l - 1)).remove(), A && (e._$3d.prepend(y(e, t, r + n, Math.min(r - 1, o + n), !0)), He(".mbsc-sc-itm", e._$3d).slice(Math.max(n, r - o - 1)).attr("class", "mbsc-sc-itm-del"))), e._margin += n * W, e._$scroller.css("margin-top", e._margin + "px")) } function w(e, t, a, s) { var n, i = q[e], l = s || i._disabled, r = c(i, t), o = t, d = t, m = 0, u = 0; if (void 0 === t && (t = h(i, r)), l[t] === !0) { for (n = 0; r - m >= i.min && l[o] && n < 100;)n++ , m++ , o = h(i, r - m); for (n = 0; r + u < i.max && l[d] && n < 100;)n++ , u++ , d = h(i, r + u); t = (u < m && u && 2 !== a || !m || r - m < 0 || 1 == a) && !l[d] ? d : o } return t } function C(t, a, s, n, i, l) { var r, o, d, m, u = K._isVisible; N = !0, m = j.validate.call(e, { values: F.slice(0), index: a, direction: s }, K) || {}, N = !1, m.valid && (K._tempWheelArray = F = m.valid.slice(0)), l || He.each(q, function (e, n) { if (u && n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"), n._disabled = {}, m.disabled && m.disabled[e] && He.each(m.disabled[e], function (e, t) { n._disabled[t] = !0, u && n._$markup.find('.mbsc-sc-itm[data-val="' + t + '"]').addClass("mbsc-sc-itm-inv mbsc-btn-d") }), F[e] = n.multiple ? F[e] : w(e, F[e], s), u) { if (n.multiple && void 0 !== a || n._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected"), n.multiple) { if (void 0 === a) for (var l in K._tempSelected[e]) n._$markup.find('.mbsc-sc-itm[data-val="' + l + '"]').addClass(Y).attr("aria-selected", "true") } else n._$markup.find('.mbsc-sc-itm[data-val="' + F[e] + '"]').addClass("mbsc-sc-itm-sel").attr("aria-selected", "true"); o = c(n, F[e]), r = o - n._index + n._batch, Math.abs(r) > 2 * U + 1 && (d = r + (2 * U + 1) * (r > 0 ? -1 : 1), n._offset += d, n._margin -= d * W, n._refresh()), n._index = o + n._batch, n._scroller.scroll(-(o - n._offset + n._batch) * W, a === e || void 0 === a ? t : z, i) } }), R("onValidated"), K._tempValue = j.formatValue(F, K), u && K._header.html(x(K._tempValue)), K.live && (K._hasValue = n || K._hasValue, M(n, n, 0, !0), n && R("onSet", { valueText: K._value })), n && R("onChange", { valueText: K._tempValue }) } function T(e, t, a, s, n, i, l) { var r = h(e, a); void 0 !== r && (F[t] = r, e._batch = e._array ? Math.floor(a / e._length) * e._length : 0, setTimeout(function () { C(s, t, n, !0, i, l) }, 10)) } function M(e, t, a, s, n) { if (s ? K._tempValue = j.formatValue(K._tempWheelArray, K) : C(a), !n) { K._wheelArray = []; for (var i = 0; i < F.length; i++)K._wheelArray[i] = q[i] && q[i].multiple ? Object.keys(K._tempSelected[i])[0] : F[i]; K._value = K._hasValue ? K._tempValue : null, K._selected = Oe(!0, {}, K._tempSelected) } e && (K._isInput && G.val(K._hasValue ? K._tempValue : ""), R("onFill", { valueText: K._hasValue ? K._tempValue : "", change: t }), t && (K._preventChange = !0, G.trigger("change"))) } var k, D, S, V, A, Y, I, P, $, H, O, E, F, W, L, N, j, R, X, q, B, U = 40, z = 1e3, K = this, G = He(e); ge.call(this, e, t, !0), K.setVal = K._setVal = function (t, a, s, n, i) { K._hasValue = null !== t && void 0 !== t, K._tempWheelArray = F = He.isArray(t) ? t.slice(0) : j.parseValue.call(e, t, K) || [], M(a, void 0 === s ? a : s, i, !1, n) }, K.getVal = K._getVal = function (e) { var t = K._hasValue || e ? K[e ? "_tempValue" : "_value"] : null; return Fe.isNumeric(t) ? +t : t }, K.setArrayVal = K.setVal, K.getArrayVal = function (e) { return e ? K._tempWheelArray : K._wheelArray }, K.changeWheel = function (e, t, a) { var s, n; He.each(e, function (e, t) { n = B[e], s = n._nr, n && (Oe(n, t), g(n, s, !0), K._isVisible && (A && n._$3d.html(y(n, s, n._first + U - S + 1, n._last - U + S, !0)), n._$scroller.html(y(n, s, n._first, n._last)).css("margin-top", n._margin + "px"), n._refresh(N))) }), !K._isVisible || K._isLiquid || N || K.position(), N || C(t, void 0, void 0, a) }, K.getValidValue = w, K._generateContent = function () { var e, t = 0, a = "", s = A ? Le + "transform: translateZ(" + (W * j.rows / 2 + 3) + "px);" : "", n = '<div class="mbsc-sc-whl-l" style="' + s + "height:" + W + "px;margin-top:-" + (W / 2 + (j.selectedLineBorder || 0)) + 'px;"></div>', i = 0; return He.each(j.wheels, function (l, r) { a += '<div class="mbsc-w-p mbsc-sc-whl-gr-c' + (j.showLabel ? " mbsc-sc-lbl-v" : "") + '">' + n + '<div class="mbsc-sc-whl-gr' + (A ? " mbsc-sc-whl-gr-3d" : "") + (I ? " mbsc-sc-cp" : "") + (j.width || j.maxWidth ? '"' : '" style="max-width:' + j.maxPopupWidth + 'px;"') + ">", He.each(r, function (l, r) { K._tempSelected[i] = Oe({}, K._selected[i]), q[i] = g(r, i), t += j.maxWidth ? j.maxWidth[i] || j.maxWidth : j.width ? j.width[i] || j.width : 0, e = void 0 !== r.label ? r.label : l, a += '<div class="mbsc-sc-whl-w ' + (r.cssClass || "") + (r.multiple ? " mbsc-sc-whl-multi" : "") + '" style="' + (j.width ? "width:" + (j.width[i] || j.width) + "px;" : (j.minWidth ? "min-width:" + (j.minWidth[i] || j.minWidth) + "px;" : "") + (j.maxWidth ? "max-width:" + (j.maxWidth[i] || j.maxWidth) + "px;" : "")) + '"><div class="mbsc-sc-whl-o" style="' + s + '"></div>' + n + '<div tabindex="0" aria-live="off" aria-label="' + e + '"' + (r.multiple ? ' aria-multiselectable="true"' : "") + ' role="listbox" data-index="' + i + '" class="mbsc-sc-whl" style="height:' + j.rows * W * (A ? 1.1 : 1) + 'px;">' + (I ? '<div data-index="' + i + '" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus ' + (j.btnPlusClass || "") + '" style="height:' + W + "px;line-height:" + W + 'px;"></div><div data-index="' + i + '" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus ' + (j.btnMinusClass || "") + '" style="height:' + W + "px;line-height:" + W + 'px;"></div>' : "") + '<div class="mbsc-sc-lbl">' + e + '</div><div class="mbsc-sc-whl-c" style="height:' + L + "px;margin-top:-" + (L / 2 + 1) + "px;" + s + '"><div class="mbsc-sc-whl-sc" style="top:' + (L - W) / 2 + 'px;">', a += y(r, i, r._first, r._last) + "</div></div>", A && (a += '<div class="mbsc-sc-whl-3d" style="height:' + W + "px;margin-top:-" + W / 2 + 'px;">', a += y(r, i, r._first + U - S + 1, r._last - U + S, !0), a += "</div>"), a += "</div></div>", i++ }), a += "</div></div>" }), t && (j.maxPopupWidth = t), a }, K._attachEvents = function (e) { He(".mbsc-sc-btn", e).on("touchstart mousedown", s).on("touchmove", n).on("touchend touchcancel", i), He(".mbsc-sc-whl", e).on("keydown", l).on("keyup", r) }, K._detachEvents = function () { for (var e = 0; e < q.length; e++)q[e]._scroller.destroy() }, K._markupReady = function (e) { k = e, He(".mbsc-sc-whl", k).each(function (e) { var t, a = He(this), s = q[e], n = -(s.min - s._offset + (s.multiple && !A ? Math.floor(j.rows / 2) : 0)) * W, i = Math.min(n, -(s.max - s._offset - (s.multiple && !A ? Math.floor(j.rows / 2) : 0)) * W); s._$markup = a, s._$scroller = He(".mbsc-sc-whl-sc", this), s._$3d = He(".mbsc-sc-whl-3d", this), s._scroller = new $e(this, { mousewheel: j.mousewheel, moveElement: s._$scroller, initialPos: (s._first - s._index) * W, contSize: 0, snap: W, minScroll: i, maxScroll: n, maxSnapScroll: U, prevDef: !0, stopProp: !0, timeUnit: 3, easing: "cubic-bezier(0.190, 1.000, 0.220, 1.000)", sync: function (e, t, a) { A && (s._$3d[0].style[We + "Transition"] = t ? Le + "transform " + Math.round(t) + "ms " + a : "", s._$3d[0].style[We + "Transform"] = "rotateX(" + -e / W * V + "deg)") }, onStart: function (t, a) { a.settings.readonly = v(e) }, onGestureStart: function () { a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"), R("onWheelGestureStart", { index: e }) }, onGestureEnd: function (a) { var n = 90 == a.direction ? 1 : 2, i = a.duration, l = a.destinationY; t = Math.round(-l / W) + s._offset, T(s, e, t, i, n) }, onAnimationStart: function () { a.addClass("mbsc-sc-whl-anim") }, onAnimationEnd: function () { a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"), R("onWheelAnimationEnd", { index: e }), s._$3d.find(".mbsc-sc-itm-del").remove() }, onMove: function (t) { _(s, e, t.posY) }, onBtnTap: function (t) { o(e, He(t.target)) } }) }), C() }, K._fillValue = function () { K._hasValue = !0, M(!0, !0, 0, !0) }, K._clearValue = function () { He(".mbsc-sc-whl-multi .mbsc-sc-itm-sel", k).removeClass(Y).removeAttr("aria-selected") }, K._readValue = function () { var t = G.val() || "", a = 0; "" !== t && (K._hasValue = !0), K._tempWheelArray = F = K._hasValue && K._wheelArray ? K._wheelArray.slice(0) : j.parseValue.call(e, t, K) || [], K._tempSelected = Oe(!0, {}, K._selected), He.each(j.wheels, function (e, t) { He.each(t, function (e, t) { q[a] = g(t, a), a++ }) }), M(!1, !1, 0, !0), R("onRead") }, K.__processSettings = function () { j = K.settings, R = K.trigger, X = j.multiline, Y = "mbsc-sc-itm-sel mbsc-ic mbsc-ic-" + j.checkIcon, q = [], B = {} }, K.__init = function () { I = j.showScrollArrows, A = j.scroll3d && !qe && !I, W = j.height, L = A ? 2 * Math.round((W - .03 * (W * j.rows / 2 + 3)) / 2) : W, S = Math.round(1.8 * j.rows), V = 360 / (2 * S), I && (j.rows = Math.max(3, j.rows)), j.cssClass = (j.cssClass || "") + " mbsc-sc" }, K._getItemValue = m, K._tempSelected = {}, K._selected = {}, a || K.init(t)
            }; Be.prototype = { _hasDef: !0, _hasTheme: !0, _hasLang: !0, _hasPreset: !0, _class: "scroller", _defaults: Oe({}, ge.prototype._defaults, { minWidth: 80, height: 40, rows: 3, multiline: 1, delay: 300, readonly: !1, showLabel: !0, setOnTap: !1, wheels: [], preset: "", speedUnit: .0012, timeUnit: .08, checkIcon: "checkmark", validate: function () { }, formatValue: function (e) { return e.join(" ") }, parseValue: function (e, t) { var a, s, n = [], i = [], l = 0; return null !== e && void 0 !== e && (n = (e + "").split(" ")), He.each(t.settings.wheels, function (e, r) { He.each(r, function (e, r) { s = r.data, a = t._getItemValue(s[0]), He.each(s, function (e, s) { if (n[l] == t._getItemValue(s)) return a = t._getItemValue(s), !1 }), i.push(a), l++ }) }), i } }) }, Y.classes.Scroller = Be; var Ue = Y.$, ze = Y.util, Ke = ze.isString, Ge = { inputClass: "", invalid: [], rtl: !1, showInput: !0, groupLabel: "Groups", dataHtml: "html", dataText: "text", dataValue: "value", dataGroup: "group", dataDisabled: "disabled", filterPlaceholderText: "Type to filter", filterEmptyText: "No results", filterClearIcon: "material-close" }; Y.presetShort("select"), Y.presets.scroller.select = function (e) { function t(e) { var t, a, s, n, i, l, r = 0, o = 0, c = {}; if (O = {}, w = {}, k = [], _ = [], Z.length = 0, X) Ue.each(b, function (r, d) { i = d[P.dataText], a = d[P.dataHtml], l = d[P.dataValue], s = d[P.dataGroup], n = { value: l, html: a, text: i, index: r }, O[l] = n, e && !u(i, e) || (k.push(n), q && (void 0 === c[s] ? (t = { text: s, value: o, options: [], index: o }, w[o] = t, c[s] = o, _.push(t), o++) : t = w[c[s]], z && (n.index = t.options.length), n.group = c[s], t.options.push(n)), d[P.dataDisabled] && Z.push(l)) }); else if (q) { var d = !0; Ue("optgroup", Y).each(function (t) { w[t] = { text: this.label, value: t, options: [], index: t }, d = !0, Ue("option", this).each(function (a) { n = { value: this.value, text: this.text, index: z ? a : r++, group: t }, O[this.value] = n, e && !u(this.text, e) || (d && (_.push(w[t]), d = !1), k.push(n), w[t].options.push(n), this.disabled && Z.push(this.value)) }) }) } else Ue("option", Y).each(function (t) { n = { value: this.value, text: this.text, index: t }, O[this.value] = n, e && !u(this.text, e) || (k.push(n), this.disabled && Z.push(this.value)) }); k.length && (v = k[0].value), K && (k = [], r = 0, Ue.each(w, function (e, t) { t.options.length && (l = "__group" + e, n = { text: t.text, value: l, group: e, index: r++, cssClass: "mbsc-sel-gr" }, O[l] = n, k.push(n), Z.push(n.value), Ue.each(t.options, function (e, t) { t.index = r++ , k.push(t) })) })), $ && (k.length ? $.removeClass("mbsc-sel-empty-v") : $.addClass("mbsc-sel-empty-v")) } function a(e, t, a) { var s, n = []; for (s = 0; s < e.length; s++)n.push({ value: e[s].value, display: e[s].html || e[s].text, cssClass: e[s].cssClass }); return { circular: !1, multiple: t, data: n, label: a } } function s() { return a(_, !1, P.groupLabel) } function n() { return a(z ? w[x].options : k, L, R) } function i() { var e, t, a = [[]]; return U && (e = s(), F ? a[0][C] = e : a[C] = [e]), t = n(), F ? a[0][D] = t : a[D] = [t], a } function l(e) { W && (e && Ke(e) && (e = e.split(",")), Ue.isArray(e) && (e = e[0])), M = void 0 !== e && null !== e && "" !== e && O[e] ? e : v, U && (x = O[M] ? O[M].group : null) } function r(t, a) { var s = t ? e._tempWheelArray : e._hasValue ? e._wheelArray : null; return s ? P.group && a ? s : s[D] : null } function o(t) { var a, s, n = []; if (L) { for (a in e._tempSelected[D]) n.push(V[a] || (O[a] ? O[a].text : "")); return n.join(", ") } return s = t[D], O[s] ? O[s].text : "" } function c() { var t = e.getVal(), a = e._tempValue; P.filter && "inline" == P.display || p.val(a), Y.val(t) } function m() { var t = {}; t[D] = n(), S = !0, e.changeWheel(t) } function u(e, t) { return t = t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"), e.match(new RegExp(t, "ig")) } function h(e) { return P.data.dataField ? e[P.data.dataField] : P.data.processResponse ? P.data.processResponse(e) : e } function f(a) { var r = {}; t(a), P.wheels = i(), l(M), r[D] = n(), e._tempWheelArray[D] = M, U && (r[C] = s(), e._tempWheelArray[C] = x), e._isVisible && e.changeWheel(r, 0, !0) } var p, b, v, g, y, x, _, w, C, T, M, k, D, S, V = {}, A = 1e3, Y = Ue(this), I = Ue.extend({}, e.settings), P = Ue.extend(e.settings, Ge, I), $ = Ue('<div class="mbsc-sel-empty">' + P.filterEmptyText + "</div>"), H = P.readonly, O = {}, E = P.layout || (/top|bottom|inline/.test(P.display) || P.filter ? "liquid" : ""), F = "liquid" == E, W = ze.isNumeric(P.select) ? P.select : "multiple" == P.select || Y.prop("multiple"), L = W || !!P.filter && 1, N = this.id + "_dummy", j = Ue('label[for="' + this.id + '"]').attr("for", N), R = void 0 !== P.label ? P.label : j.length ? j.text() : Y.attr("name"), X = !!P.data, q = X ? !!P.group : Ue("optgroup", Y).length, B = P.group, U = q && B && B.groupWheel !== !1, z = q && B && U && B.clustered === !0, K = q && (!B || B.header !== !1 && !z), G = Y.val() || (W ? [] : [""]), Z = []; return e.setVal = function (t, a, s, n, i) { L && (t && !W && (t = [t]), t && Ke(t) && (t = t.split(",")), e._tempSelected[D] = ze.arrayToObject(t), n || (e._selected[D] = ze.arrayToObject(t)), t = t ? t[0] : null), e._setVal(t, a, s, n, i) }, e.getVal = function (t, a) { if (L) { var s = ze.objectToArray(t ? e._tempSelected[D] : e._selected[D]); return W ? s : s.length ? s[0] : null } return r(t, a) }, e.refresh = function (e, t) { e ? b = e : Ue.isArray(P.data) && (b = P.data), !e && T && void 0 === t ? d(P.data.url, function (e) { b = h(e), f() }, P.data.dataType) : f(t) }, P.invalid.length || (P.invalid = Z), U ? (C = 0, D = 1) : (C = -1, D = 0), L && (W && Y.prop("multiple", !0), G && Ke(G) && (G = G.split(",")), e._selected[D] = ze.arrayToObject(G)), e._dummyInput && e._dummyInput.remove(), Y.next().is("input.mbsc-control") ? p = Y.off(".mbsc-form").next().removeAttr("tabindex") : (P.filter && "inline" == P.display ? e._dummyInput = Ue('<div class="mbsc-sel-input-wrap"><input type="text" id="' + N + '" class="mbsc-control ' + P.inputClass + '" readonly /></div>') : (p = Ue('<input type="text" id="' + N + '" class="mbsc-control ' + P.inputClass + '" readonly />'), e._dummyInput = p), P.showInput && (e._dummyInput.insertBefore(Y), p || (p = e._dummyInput.find("#" + N)))), e.attachShow(p.attr("placeholder", P.placeholder || "")), Y.addClass("mbsc-sel-hdn").attr("tabindex", -1), P.filter && (g = P.filter.minLength || 0), T = P.data && P.data.url, T ? e.refresh() : (X && (b = P.data), t(), l(Y.val())), { layout: E, headerText: !1, anchor: p, compClass: "mbsc-sel" + (U ? " mbsc-sel-gr-whl" : "") + (L ? " mbsc-sel-multi" : ""), setOnTap: !U || [!1, !0], formatValue: o, parseValue: function (e) { return l(void 0 === e ? Y.val() : e), U ? [x, M] : [M] }, validate: function (e) { var t = e.index, a = []; return a[D] = P.invalid, z && !S && void 0 === t && m(), S = !1, { disabled: a } }, onRead: c, onFill: c, onMarkupReady: function (e, t) { if (P.filter) { var a, s, n, i = Ue(".mbsc-fr-w", e.target), l = Ue('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-' + P.filterClearIcon + '"></span>'); "inline" == P.display ? (a = p, p.parent().find(".mbsc-sel-filter-clear").remove()) : (i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'), a = i.find(".mbsc-sel-filter-input")), y = "", n = a[0], a.prop("readonly", !1).attr("placeholder", P.filterPlaceholderText).parent().append(l), i.find(".mbsc-fr-c").prepend($), t.tap(l, function () { n.value = "", t.refresh(), l.removeClass("mbsc-sel-filter-show-clear") }), a.on("keydown", function (e) { 13 != e.keyCode && 27 != e.keyCode || (e.stopPropagation(), n.blur()) }).on("keyup", function () { clearTimeout(s), n.value.length ? l.addClass("mbsc-sel-filter-show-clear") : l.removeClass("mbsc-sel-filter-show-clear"), s = setTimeout(function () { y !== n.value && t.trigger("onFilter", { filterText: n.value }) !== !1 && (y = n.value, (y.length >= g || !y.length) && (T && P.data.remoteFilter ? d(P.data.url + encodeURIComponent(y), function (e) { t.refresh(h(e)) }, P.data.dataType) : t.refresh(void 0, y))) }, 500) }) } }, onBeforeShow: function () { W && P.counter && (P.headerText = function () { var t = 0; return Ue.each(e._tempSelected[D], function () { t++ }), (t > 1 ? P.selectedPluralText || P.selectedText : P.selectedText).replace(/{count}/, t) }), l(Y.val()), P.filter && t(void 0), e.settings.wheels = i(), S = !0 }, onWheelGestureStart: function (e) { e.index == C && (P.readonly = [!1, !0]) }, onWheelAnimationEnd: function (t) { var a = e.getArrayVal(!0); t.index == C ? (P.readonly = H, a[C] != x && (x = a[C], M = w[x].options[0].value, a[D] = M, z ? m() : e.setArrayVal(a, !1, !1, !0, A))) : t.index == D && a[D] != M && (M = a[D], U && O[M] && O[M].group != x && (x = O[M].group, a[C] = x, e.setArrayVal(a, !1, !1, !0, A))) }, onItemTap: function (e) { if (e.index == D && (V[e.value] = O[e.value].text, L && !W && e.selected)) return !1 }, onClose: function () { T && P.data.remoteFilter && y && e.refresh() }, onDestroy: function () { e._dummyInput && e._dummyInput.remove(), Y.removeClass("mbsc-sel-hdn").removeAttr("tabindex") } } }; var Ze = Y.$, Je = { defaults: { shortYearCutoff: "+10", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["S", "M", "T", "W", "T", "F", "S"], amText: "am", pmText: "pm", getYear: function (e) { return e.getFullYear() }, getMonth: function (e) { return e.getMonth() }, getDay: function (e) { return e.getDate() }, getDate: m, getMaxDayOfMonth: function (e, t) { return 32 - new Date(e, t, 32, 12).getDate() }, getWeekNumber: function (e) { e = new Date(e), e.setHours(0, 0, 0), e.setDate(e.getDate() + 4 - (e.getDay() || 7)); var t = new Date(e.getFullYear(), 0, 1); return Math.ceil(((e - t) / 864e5 + 1) / 7) } }, adjustedDate: m, formatDate: function (e, t, a) { if (!t) return null; var s, n, i = Ze.extend({}, Je.defaults, a), l = function (t) { for (var a = 0; s + 1 < e.length && e.charAt(s + 1) == t;)a++ , s++; return a }, r = function (e, t, a) { var s = "" + t; if (l(e)) for (; s.length < a;)s = "0" + s; return s }, o = function (e, t, a, s) { return l(e) ? s[t] : a[t] }, c = "", d = !1; for (s = 0; s < e.length; s++)if (d) "'" != e.charAt(s) || l("'") ? c += e.charAt(s) : d = !1; else switch (e.charAt(s)) { case "d": c += r("d", i.getDay(t), 2); break; case "D": c += o("D", t.getDay(), i.dayNamesShort, i.dayNames); break; case "o": c += r("o", (t.getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5, 3); break; case "m": c += r("m", i.getMonth(t) + 1, 2); break; case "M": c += o("M", i.getMonth(t), i.monthNamesShort, i.monthNames); break; case "y": n = i.getYear(t), c += l("y") ? n : (n % 100 < 10 ? "0" : "") + n % 100; break; case "h": var m = t.getHours(); c += r("h", m > 12 ? m - 12 : 0 === m ? 12 : m, 2); break; case "H": c += r("H", t.getHours(), 2); break; case "i": c += r("i", t.getMinutes(), 2); break; case "s": c += r("s", t.getSeconds(), 2); break; case "a": c += t.getHours() > 11 ? i.pmText : i.amText; break; case "A": c += t.getHours() > 11 ? i.pmText.toUpperCase() : i.amText.toUpperCase(); break; case "'": l("'") ? c += "'" : d = !0; break; default: c += e.charAt(s) }return c }, parseDate: function (e, t, a) { var s = Ze.extend({}, Je.defaults, a), n = s.defaultValue && s.defaultValue.getTime ? s.defaultValue : new Date; if (!e || !t) return n; if (t.getTime) return t; t = "object" == ("undefined" == typeof t ? "undefined" : I(t)) ? t.toString() : t + ""; var i, l = s.shortYearCutoff, r = s.getYear(n), o = s.getMonth(n) + 1, c = s.getDay(n), d = -1, m = n.getHours(), u = n.getMinutes(), h = 0, f = -1, p = !1, b = function (t) { var a = i + 1 < e.length && e.charAt(i + 1) == t; return a && i++ , a }, v = function (e) { b(e); var a = "@" == e ? 14 : "!" == e ? 20 : "y" == e ? 4 : "o" == e ? 3 : 2, s = new RegExp("^\\d{1," + a + "}"), n = t.substr(x).match(s); return n ? (x += n[0].length, parseInt(n[0], 10)) : 0 }, g = function (e, a, s) { var n, i = b(e) ? s : a; for (n = 0; n < i.length; n++)if (t.substr(x, i[n].length).toLowerCase() == i[n].toLowerCase()) return x += i[n].length, n + 1; return 0 }, y = function () { x++ }, x = 0; for (i = 0; i < e.length; i++)if (p) "'" != e.charAt(i) || b("'") ? y() : p = !1; else switch (e.charAt(i)) { case "d": c = v("d"); break; case "D": g("D", s.dayNamesShort, s.dayNames); break; case "o": d = v("o"); break; case "m": o = v("m"); break; case "M": o = g("M", s.monthNamesShort, s.monthNames); break; case "y": r = v("y"); break; case "H": m = v("H"); break; case "h": m = v("h"); break; case "i": u = v("i"); break; case "s": h = v("s"); break; case "a": f = g("a", [s.amText, s.pmText], [s.amText, s.pmText]) - 1; break; case "A": f = g("A", [s.amText, s.pmText], [s.amText, s.pmText]) - 1; break; case "'": b("'") ? y() : p = !0; break; default: y() }if (r < 100 && (r += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (r <= ("string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10)) ? 0 : -100)), d > -1) for (o = 1, c = d; ;) { var _ = 32 - new Date(r, o - 1, 32, 12).getDate(); if (c <= _) break; o++ , c -= _ } m = f == -1 ? m : f && m < 12 ? m + 12 : f || 12 != m ? m : 0; var w = s.getDate(r, o - 1, c, m, u, h); return s.getYear(w) != r || s.getMonth(w) + 1 != o || s.getDay(w) != c ? n : w } }; Y.util.datetime = Je; var Qe = Y.$, et = Je.adjustedDate, tt = { separator: " ", dateFormat: "mm/dd/yy", dateDisplay: "MMddyy", timeFormat: "h:ii A", dayText: "Day", monthText: "Month", yearText: "Year", hourText: "Hours", minuteText: "Minutes", ampmText: "&nbsp;", secText: "Seconds", nowText: "Now", todayText: "Today" }, at = function e(t) { function a(e) { return e < 10 ? "0" + e : e } function s(e) { var t, a, s, n = []; if (e) { for (t = 0; t < e.length; t++)if (a = e[t], a.start && a.start.getTime) for (s = new Date(a.start); s <= a.end;)n.push(et(s.getFullYear(), s.getMonth(), s.getDate())), s.setDate(s.getDate() + 1); else n.push(a); return n } return e } function n(e, t, a, s) { return Math.min(s, Math.floor(e / t) * t + a) } function i(e, t, a) { return Math.floor((a - t) / e) * e + t } function l(e) { return W.getYear(e) } function r(e) { return W.getMonth(e) } function o(e) { return W.getDay(e) } function c(e) { var t = e.getHours(); return t = J && t >= 12 ? t - 12 : t, n(t, te, ie, oe) } function d(e) { return n(e.getMinutes(), ae, le, ce) } function m(e) { return n(e.getSeconds(), se, re, de) } function u(e) { return e.getMilliseconds() } function h(e) { return e.getHours() > 11 ? 1 : 0 } function f(e) { return e.getFullYear() + "-" + a(e.getMonth() + 1) + "-" + a(e.getDate()) } function p(e) { return n(Math.round((e.getTime() - new Date(e).setHours(0, 0, 0, 0)) / 1e3), Y, 0, 86400) } function b(e, t, a, s) { var n; return void 0 === $[t] || (n = +e[$[t]], isNaN(n)) ? a ? pe[t](a) : void 0 !== H[t] ? H[t] : pe[t](s) : n } function v(e) { var t, a = new Date((new Date).setHours(0, 0, 0, 0)); if (null === e) return e; void 0 !== $.dd && (t = e[$.dd].split("-"), t = new Date(t[0], t[1] - 1, t[2])), void 0 !== $.tt && (t = t || a, t = new Date(t.getTime() + e[$.tt] % 86400 * 1e3)); var s = b(e, "y", t, a), n = b(e, "m", t, a), i = Math.min(b(e, "d", t, a), W.getMaxDayOfMonth(s, n)), l = b(e, "h", t, a); return W.getDate(s, n, i, J && b(e, "a", t, a) ? l + 12 : l, b(e, "i", t, a), b(e, "s", t, a), b(e, "u", t, a)) } function g(e, t) { var a, s, n = ["y", "m", "d", "a", "h", "i", "s", "u", "dd", "tt"], i = []; if (null === e || void 0 === e) return e; for (a = 0; a < n.length; a++)s = n[a], void 0 !== $[s] && (i[$[s]] = pe[s](e)), t && (H[s] = pe[s](e)); return i } function y(e, t) { return t ? Math.floor(new Date(e) / 864e5) : e.getMonth() + 12 * (e.getFullYear() - 1970) } function x(e) { return { value: e, display: (/yy/i.test(B) ? e : (e + "").substr(2, 2)) + (W.yearSuffix || "") } } function _(e) { return e } function w(e) { var t = /d/i.test(e); return { label: "", cssClass: "mbsc-dt-whl-date", min: K ? y(f(K), t) : void 0, max: G ? y(f(G), t) : void 0, data: function (a) { var s = new Date((new Date).setHours(0, 0, 0, 0)), n = t ? new Date(864e5 * a) : new Date(1970, a, 1); return t && (n = new Date(n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate())), { invalid: t && !D(n, !0), value: f(n), display: s.getTime() == n.getTime() ? W.todayText : Je.formatDate(e, n, W) } }, getIndex: function (e) { return y(e, t) } } } function C(e) { var t, a, s, n = []; for (/s/i.test(e) ? a = se : /i/i.test(e) ? a = 60 * ae : /h/i.test(e) && (a = 3600 * te), Y = he.tt = a, t = 0; t < 86400; t += a)s = new Date((new Date).setHours(0, 0, 0, 0) + 1e3 * t), n.push({ value: t, display: Je.formatDate(e, s, W) }); return { label: "", cssClass: "mbsc-dt-whl-time", data: n } } function T() { var t, s, n, i, l, r, o, c, d = 0, m = [], u = [], h = []; if (e.match(/date/i)) { for (t = X.split(/\|/.test(X) ? "|" : ""), i = 0; i < t.length; i++)if (n = t[i], r = 0, n.length) if (/y/i.test(n) && r++ , /m/i.test(n) && r++ , /d/i.test(n) && r++ , r > 1 && void 0 === $.dd) $.dd = d, d++ , u.push(w(n)), h = u, I = !0; else if (/y/i.test(n) && void 0 === $.y) $.y = d, d++ , u.push({ cssClass: "mbsc-dt-whl-y", label: W.yearText, min: K ? W.getYear(K) : void 0, max: G ? W.getYear(G) : void 0, data: x, getIndex: _ }); else if (/m/i.test(n) && void 0 === $.m) { for ($.m = d, o = [], d++ , l = 0; l < 12; l++)c = B.replace(/[dy]/gi, "").replace(/mm/, a(l + 1) + (W.monthSuffix || "")).replace(/m/, l + 1 + (W.monthSuffix || "")), o.push({ value: l, display: /MM/.test(c) ? c.replace(/MM/, '<span class="mbsc-dt-month">' + W.monthNames[l] + "</span>") : c.replace(/M/, '<span class="mbsc-dt-month">' + W.monthNamesShort[l] + "</span>") }); u.push({ cssClass: "mbsc-dt-whl-m", label: W.monthText, data: o }) } else if (/d/i.test(n) && void 0 === $.d) { for ($.d = d, o = [], d++ , l = 1; l < 32; l++)o.push({ value: l, display: (/dd/i.test(B) ? a(l) : l) + (W.daySuffix || "") }); u.push({ cssClass: "mbsc-dt-whl-d", label: W.dayText, data: o }) } m.push(u) } if (e.match(/time/i)) { for (s = q.split(/\|/.test(q) ? "|" : ""), i = 0; i < s.length; i++)if (n = s[i], r = 0, n.length && (/h/i.test(n) && r++ , /i/i.test(n) && r++ , /s/i.test(n) && r++ , /a/i.test(n) && r++), r > 1 && void 0 === $.tt) $.tt = d, d++ , h.push(C(n)); else if (/h/i.test(n) && void 0 === $.h) { for (o = [], $.h = d, d++ , l = ie; l < (J ? 12 : 24); l += te)o.push({ value: l, display: J && 0 === l ? 12 : /hh/i.test(U) ? a(l) : l }); h.push({ cssClass: "mbsc-dt-whl-h", label: W.hourText, data: o }) } else if (/i/i.test(n) && void 0 === $.i) { for (o = [], $.i = d, d++ , l = le; l < 60; l += ae)o.push({ value: l, display: /ii/i.test(U) ? a(l) : l }); h.push({ cssClass: "mbsc-dt-whl-i", label: W.minuteText, data: o }) } else if (/s/i.test(n) && void 0 === $.s) { for (o = [], $.s = d, d++ , l = re; l < 60; l += se)o.push({ value: l, display: /ss/i.test(U) ? a(l) : l }); h.push({ cssClass: "mbsc-dt-whl-s", label: W.secText, data: o }) } else /a/i.test(n) && void 0 === $.a && ($.a = d, d++ , h.push({ cssClass: "mbsc-dt-whl-a", label: W.ampmText, data: /A/.test(n) ? [{ value: 0, display: W.amText.toUpperCase() }, { value: 1, display: W.pmText.toUpperCase() }] : [{ value: 0, display: W.amText }, { value: 1, display: W.pmText }] })); h != u && m.push(h) } return m } function M(e) { var t, a, s, n = {}; if (e.is("input")) { switch (e.attr("type")) { case "date": t = "yy-mm-dd"; break; case "datetime": t = "yy-mm-ddTHH:ii:ssZ"; break; case "datetime-local": t = "yy-mm-ddTHH:ii:ss"; break; case "month": t = "yy-mm", n.dateOrder = "mmyy"; break; case "time": t = "HH:ii:ss" }n.format = t, a = e.attr("min"), s = e.attr("max"), a && (n.min = Je.parseDate(t, a)), s && (n.max = Je.parseDate(t, s)) } return n } function k(e, t) { var a, s, n = !1, i = !1, l = 0, r = 0, o = K ? v(g(K)) : -(1 / 0), c = G ? v(g(G)) : 1 / 0; if (D(e)) return e; if (e < o && (e = o), e > c && (e = c), a = e, s = e, 2 !== t) for (n = D(a); !n && a < c;)a = new Date(a.getTime() + 864e5), n = D(a), l++; if (1 !== t) for (i = D(s); !i && s > o;)s = new Date(s.getTime() - 864e5), i = D(s), r++; return 1 === t && n ? a : 2 === t && i ? s : r <= l && i ? s : a } function D(e, t) { return !(!t && e < K) && (!(!t && e > G) && (!!S(e, N) || !S(e, L))) } function S(e, t) { var a, s, n; if (t) for (s = 0; s < t.length; s++)if (a = t[s], n = a + "", !a.start) if (a.getTime) { if (e.getFullYear() == a.getFullYear() && e.getMonth() == a.getMonth() && e.getDate() == a.getDate()) return !0 } else if (n.match(/w/i)) { if (n = +n.replace("w", ""), n == e.getDay()) return !0 } else if (n = n.split("/"), n[1]) { if (n[0] - 1 == e.getMonth() && n[1] == e.getDate()) return !0 } else if (n[0] == e.getDate()) return !0; return !1 } function V(e, t, a, s, n, i, l) { var r, o, c, d; if (e) for (o = 0; o < e.length; o++)if (r = e[o], d = r + "", !r.start) if (r.getTime) W.getYear(r) == t && W.getMonth(r) == a && (i[W.getDay(r)] = l); else if (d.match(/w/i)) for (d = +d.replace("w", ""), c = d - s; c < n; c += 7)c >= 0 && (i[c + 1] = l); else d = d.split("/"), d[1] ? d[0] - 1 == a && (i[d[1]] = l) : i[d[0]] = l } function A(e, t, a, s, i, l, r, o) { var c, d, m, u, h, f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V = {}, A = W.getDate(s, i, l), I = ["a", "h", "i", "s"]; if (e) { for (p = 0; p < e.length; p++)y = e[p], y.start && (y.apply = !1, m = y.d, M = m + "", k = M.split("/"), m && (m.getTime && s == W.getYear(m) && i == W.getMonth(m) && l == W.getDay(m) || !M.match(/w/i) && (k[1] && l == k[1] && i == k[0] - 1 || !k[1] && l == k[0]) || M.match(/w/i) && A.getDay() == +M.replace("w", "")) && (y.apply = !0, V[A] = !0)); for (p = 0; p < e.length; p++)if (y = e[p], c = 0, T = 0, b = me[a], v = ue[a], w = !0, C = !0, d = !1, y.start && (y.apply || !y.d && !V[A])) { for (x = y.start.split(":"), _ = y.end.split(":"), g = 0; g < 3; g++)void 0 === x[g] && (x[g] = 0), void 0 === _[g] && (_[g] = 59), x[g] = +x[g], _[g] = +_[g]; if ("tt" == a) b = n(Math.round((new Date(A).setHours(x[0], x[1], x[2]) - new Date(A).setHours(0, 0, 0, 0)) / 1e3), Y, 0, 86400), v = n(Math.round((new Date(A).setHours(_[0], _[1], _[2]) - new Date(A).setHours(0, 0, 0, 0)) / 1e3), Y, 0, 86400); else { for (x.unshift(x[0] > 11 ? 1 : 0), _.unshift(_[0] > 11 ? 1 : 0), J && (x[1] >= 12 && (x[1] = x[1] - 12), _[1] >= 12 && (_[1] = _[1] - 12)), g = 0; g < t; g++)void 0 !== O[g] && (D = n(x[g], he[I[g]], me[I[g]], ue[I[g]]), S = n(_[g], he[I[g]], me[I[g]], ue[I[g]]), u = 0, h = 0, f = 0, J && 1 == g && (u = x[0] ? 12 : 0, h = _[0] ? 12 : 0, f = O[0] ? 12 : 0), w || (D = 0), C || (S = ue[I[g]]), (w || C) && D + u < O[g] + f && O[g] + f < S + h && (d = !0), O[g] != D && (w = !1), O[g] != S && (C = !1)); if (!o) for (g = t + 1; g < 4; g++)x[g] > 0 && (c = he[a]), _[g] < ue[I[g]] && (T = he[a]); d || (D = n(x[t], he[a], me[a], ue[a]) + c, S = n(_[t], he[a], me[a], ue[a]) - T, w && (b = D), C && (v = S)) } if (w || C || d) for (g = b; g <= v; g += he[a])r[g] = !o } } } var Y, I, P, $ = {}, H = {}, O = [], E = M(Qe(this)), F = Qe.extend({}, t.settings), W = Qe.extend(t.settings, Je.defaults, tt, E, F), L = s(W.invalid), N = s(W.valid), e = W.preset, j = "datetime" == e ? W.dateFormat + W.separator + W.timeFormat : "time" == e ? W.timeFormat : W.dateFormat, R = E.format || j, X = W.dateWheels || W.dateFormat, q = W.timeWheels || W.timeFormat, B = W.dateWheels || W.dateDisplay, U = q, z = W.baseTheme || W.theme, K = W.min, G = W.max, Z = /time/i.test(e), J = /h/.test(U), Q = /D/.test(B), ee = W.steps || {}, te = ee.hour || W.stepHour || 1, ae = ee.minute || W.stepMinute || 1, se = ee.second || W.stepSecond || 1, ne = ee.zeroBased, ie = ne || !K ? 0 : K.getHours() % te, le = ne || !K ? 0 : K.getMinutes() % ae, re = ne || !K ? 0 : K.getSeconds() % se, oe = i(te, ie, J ? 11 : 23), ce = i(ae, le, 59), de = i(ae, le, 59), me = { y: K ? K.getFullYear() : -(1 / 0), m: 0, d: 1, h: ie, i: le, s: re, a: 0, tt: 0 }, ue = { y: G ? G.getFullYear() : 1 / 0, m: 11, d: 31, h: oe, i: ce, s: de, a: 1, tt: 86400 }, he = { y: 1, m: 1, d: 1, h: te, i: ae, s: se, a: 1, tt: 1 }, fe = { "android-holo": 40, bootstrap: 46, ios: 50, jqm: 46, material: 46, mobiscroll: 46, wp: 50 }, pe = { y: l, m: r, d: o, h: c, i: d, s: m, u: u, a: h, dd: f, tt: p }; return t.getDate = t.getVal = function (e) { return t._hasValue || e ? v(t.getArrayVal(e)) : null }, t.setDate = function (e, a, s, n, i) { t.setArrayVal(g(e), a, i, n, s) }, P = T(), t.format = j, t.order = $, t.handlers.now = function () { t.setDate(new Date, t.live, 1e3, !0, !0) }, t.buttons.now = { text: W.nowText, icon: W.nowIcon, handler: "now" }, { minWidth: I && Z ? fe[z] : void 0, compClass: "mbsc-dt", wheels: P, headerText: !!W.headerText && function () { return Je.formatDate(j, v(t.getArrayVal(!0)), W) }, formatValue: function (e) { return Je.formatDate(R, v(e), W) }, parseValue: function (e) { return e || (H = {}), g(e ? Je.parseDate(R, e, W) : W.defaultValue && W.defaultValue.getTime ? W.defaultValue : new Date, !!e && !!e.getTime) }, validate: function (e) { var a, s, n, i, l = e.values, r = e.index, o = e.direction, c = t.settings.wheels[0][$.d], d = k(v(l), o), m = g(d), u = [], h = {}, f = pe.y(d), p = pe.m(d), b = W.getMaxDayOfMonth(f, p), y = !0, x = !0; if (Qe.each(["dd", "y", "m", "d", "tt", "a", "h", "i", "s"], function (e, t) { if (void 0 !== $[t]) { var a = me[t], n = ue[t], i = pe[t](d); if (u[$[t]] = [], y && K && (a = pe[t](K)), x && G && (n = pe[t](G)), "y" != t && "dd" != t) for (s = me[t]; s <= ue[t]; s += he[t])(s < a || s > n) && u[$[t]].push(s); if (i < a && (i = a), i > n && (i = n), y && (y = i == a), x && (x = i == n), "d" == t) { var l = W.getDate(f, p, 1).getDay(), r = {}; V(L, f, p, l, b, r, 1), V(N, f, p, l, b, r, 0), Qe.each(r, function (e, a) { a && u[$[t]].push(e) }) } } }), Z && Qe.each(["a", "h", "i", "s", "tt"], function (e, a) { var s = pe[a](d), n = pe.d(d), i = {}; void 0 !== $[a] && (A(L, e, a, f, p, n, i, 0), A(N, e, a, f, p, n, i, 1), Qe.each(i, function (e, t) { t && u[$[a]].push(e) }), O[e] = t.getValidValue($[a], s, o, i)) }), c && (c._length !== b || Q && (void 0 === r || r === $.y || r === $.m))) { for (h[$.d] = c, c.data = [], a = 1; a <= b; a++)i = W.getDate(f, p, a).getDay(), n = B.replace(/[my]/gi, "").replace(/dd/, (a < 10 ? "0" + a : a) + (W.daySuffix || "")).replace(/d/, a + (W.daySuffix || "")), c.data.push({ value: a, display: n.match(/DD/) ? n.replace(/DD/, '<span class="mbsc-dt-day">' + W.dayNames[i] + "</span>") : n.replace(/D/, '<span class="mbsc-dt-day">' + W.dayNamesShort[i] + "</span>") }); t._tempWheelArray[$.d] = m[$.d], t.changeWheel(h) } return { disabled: u, valid: m } } } }; Qe.each(["date", "time", "datetime"], function (e, t) { Y.presets.scroller[t] = at }), Y.$.each(["date", "time", "datetime"], function (e, t) { Y.presetShort(t) }); var st = Y.$, nt = { inputClass: "", values: 5, order: "desc", style: "icon", invalid: [], icon: { filled: "star3", empty: "star3" } }; Y.presetShort("rating"), Y.presets.scroller.rating = function (e) {
                var t, a, s, n, i, l, r, o, c, d, m = st.extend({}, e.settings), u = st.extend(e.settings, nt, m), h = st(this), f = this.id + "_dummy", p = st('label[for="' + this.id + '"]').attr("for", f), b = void 0 !== u.label ? u.label : p.length ? p.text() : h.attr("name"), v = u.defaultValue, g = [[]], y = {
                    data: [], label: b, circular: !1
                }, x = {}, _ = [], w = !1, C = "grade" === u.style ? "circle" : "icon"; if (h.is("select") && (u.values = {}, st("option", h).each(function () { u.values[st(this).val()] = st(this).text() }), st("#" + f).remove()), st.isArray(u.values)) for (a = 0; a < u.values.length; a++)o = +u.values[a], isNaN(o) && (o = a + 1, w = !0), _.push({ order: o, key: u.values[a], value: u.values[a] }); else if (st.isPlainObject(u.values)) { a = 1, w = !0; for (c in u.values) o = +c, isNaN(o) && (o = a), _.push({ order: o, key: c, value: u.values[c] }), a++ } else for (a = 1; a <= u.values; a++)_.push({ order: a, key: a, value: a }); for (void 0 === u.showText && w && (u.showText = !0), void 0 === u.icon.empty && (u.icon.empty = u.icon.filled), _.sort(function (e, t) { return "desc" == u.order ? t.order - e.order : e.order - t.order }), d = "desc" == u.order ? _[0].order : _[_.length - 1].order, a = 0; a < _.length; a++) { for (r = _[a].order, i = _[a].key, l = _[a].value, n = "", s = 1; s < r + 1; s++)n += '<span class="mbsc-rating-' + C + ("circle" === C ? "" : " mbsc-ic mbsc-ic-" + u.icon.filled) + ' ">' + ("circle" == C ? s : " ") + "</span>"; for (s = r + 1; s <= d; s++)n += '<span class="mbsc-rating-' + C + ("circle" === C ? " mbsc-rating-circle-unf" : " mbsc-ic mbsc-ic-" + (u.icon.empty ? u.icon.empty + " mbsc-rating-icon-unf" : "") + (u.icon.empty === u.icon.filled ? " mbsc-rating-icon-same" : "")) + '"></span>'; void 0 === v && (v = i), n += u.showText ? '<span class="mbsc-rating-txt">' + l + "</span>" : "", y.data.push({ value: i, display: n, label: l }), x[i] = l } return h.is("select") && (t = st('<input type="text" id="' + f + '" value="' + x[h.val()] + '" class="' + u.inputClass + '" placeholder="' + (u.placeholder || "") + '" readonly />').insertBefore(h)), g[0].push(y), t && e.attachShow(t), h.is("select") && h.hide().closest(".ui-field-contain").trigger("create"), e.getVal = function (t) { var a = e._hasValue ? e[t ? "_tempWheelArray" : "_wheelArray"][0] : null; return Y.util.isNumeric(a) ? +a : a }, { anchor: t, wheels: g, headerText: !1, compClass: "mbsc-rating", setOnTap: !0, formatValue: function (e) { return x[e[0]] }, parseValue: function (e) { var a; for (a in x) if (t && a == e || !t && x[a] == e) return [a]; return [v] }, validate: function () { return { disabled: [u.invalid] } }, onFill: function (a) { t && (t.val(a.valueText), h.val(e._tempWheelArray[0])) }, onDestroy: function () { t && t.remove(), h.show() } }
            }; var it = Y.$, lt = Y.presets.scroller, rt = Y.classes, ot = Y.util, ct = ot.datetime.adjustedDate, dt = ot.jsPrefix, mt = ot.testTouch, ut = ot.getCoord, ht = ot.animEnd, ft = new Date, pt = { min: new Date(ft.getFullYear() - 100, 0, 1), max: new Date(ft.getFullYear() + 1, 11, 31, 23, 59, 59), controls: ["calendar"], firstDay: 0, weekDays: "short", maxMonthWidth: 170, months: 1, preMonths: 1, highlight: !0, outerMonthChange: !0, quickNav: !0, yearChange: !0, todayClass: "mbsc-cal-today", btnCalPrevClass: "mbsc-ic mbsc-ic-arrow-left6", btnCalNextClass: "mbsc-ic mbsc-ic-arrow-right6", dateText: "Date", timeText: "Time", calendarText: "Calendar", todayText: "Today", prevMonthText: "Previous Month", nextMonthText: "Next Month", prevYearText: "Previous Year", nextYearText: "Next Year" }; lt.calbase = function (e) { function t(e) { var t; we = it(this), Ce = !1, "keydown" != e.type ? (xe = ut(e, "X"), _e = ut(e, "Y"), t = mt(e, this)) : t = 32 === e.keyCode, Te || !t || we.hasClass("mbsc-fr-btn-d") || (Te = !0, setTimeout(n, 100), "mousedown" == e.type && it(document).on("mousemove", a).on("mouseup", s)) } function a(e) { (Math.abs(xe - ut(e, "X")) > 7 || Math.abs(_e - ut(e, "Y")) > 7) && (Te = !1, we.removeClass("mbsc-fr-btn-a")) } function s(e) { "touchend" == e.type && e.preventDefault(), we && !Ce && n(), Te = !1, "mouseup" == e.type && it(document).off("mousemove", a).off("mouseup", s) } function n() { Ce = !0, we.hasClass("mbsc-cal-prev-m") ? C() : we.hasClass("mbsc-cal-next-m") ? w() : we.hasClass("mbsc-cal-prev-y") ? M(we) : we.hasClass("mbsc-cal-next-y") && T(we) } function i(e) { return !(e < ct(oe.getFullYear(), oe.getMonth(), oe.getDate())) && (!(e > ce) && (void 0 === be[e] || void 0 !== pe[e])) } function l(e, t, a) { var s, n, i, l, r = {}, o = et + De; return e && it.each(e, function (e, c) { if (s = c.d || c.start || c, n = s + "", c.start && c.end) for (l = new Date(c.start); l <= c.end;)i = ct(l.getFullYear(), l.getMonth(), l.getDate()), r[i] = r[i] || [], r[i].push(c), l.setDate(l.getDate() + 1); else if (s.getTime) i = ct(s.getFullYear(), s.getMonth(), s.getDate()), r[i] = r[i] || [], r[i].push(c); else if (n.match(/w/i)) { var d = +n.replace("w", ""), m = 0, u = Re.getDate(t, a - et - Se, 1).getDay(); for (Re.firstDay - u + 1 > 1 && (m = 7), P = 0; P < 5 * ke; P++)i = Re.getDate(t, a - et - Se, 7 * P - m - u + 1 + d), r[i] = r[i] || [], r[i].push(c) } else if (n = n.split("/"), n[1]) a + o >= 11 && (i = Re.getDate(t + 1, n[0] - 1, n[1]), r[i] = r[i] || [], r[i].push(c)), a - o <= 1 && (i = Re.getDate(t - 1, n[0] - 1, n[1]), r[i] = r[i] || [], r[i].push(c)), i = Re.getDate(t, n[0] - 1, n[1]), r[i] = r[i] || [], r[i].push(c); else for (P = 0; P < ke; P++)i = Re.getDate(t, a - et - Se + P, n[0]), Re.getDay(i) == n[0] && (r[i] = r[i] || [], r[i].push(c)) }), r } function r(t, a) { be = l(Re.invalid, t, a), pe = l(Re.valid, t, a), e.onGenMonth(t, a) } function o(e, t, a, s, n, i, l) { var r = '<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-' + e + "-c " + (Re.calendarClass || "") + '"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">'; for (I = 1; I <= t; I++)r += I <= 12 || I > a ? '<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>' : '<div tabindex="0" role="button"' + (i ? ' aria-label="' + i[I - 13] + '"' : "") + ' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-' + e + '-s" data-val=' + (s + I - 13) + '><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">' + (l ? l[I - 13] : s + I - 13 + n) + "</div></div></div>", I < t && (I % 12 === 0 ? r += '</div></div></div><div class="mbsc-cal-sc-p" style="' + (Je ? "top" : Ke ? "right" : "left") + ":" + 100 * Math.round(I / 12) + '%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">' : I % 3 === 0 && (r += '</div><div class="mbsc-cal-sc-row">')); return r += "</div></div></div></div></div>" } function c(t, a) { var s, n, l, r, o, c, d, m, u, h, f, p, b, v, g, y, x = 1, _ = 0, w = Re.getDate(t, a, 1), C = Re.getYear(w), T = Re.getMonth(w), M = null !== Re.defaultValue || e._hasValue ? e.getDate(!0) : null, k = Re.getDate(C, T, 1).getDay(), D = '<div class="mbsc-cal-table">', S = '<div class="mbsc-cal-week-nr-c">'; for (Re.firstDay - k + 1 > 1 && (_ = 7), y = 0; y < 42; y++)g = y + Re.firstDay - _, s = Re.getDate(C, T, g - k + 1), l = s.getFullYear(), r = s.getMonth(), o = s.getDate(), c = Re.getMonth(s), d = Re.getDay(s), v = Re.getMaxDayOfMonth(l, r), m = l + "-" + r + "-" + o, u = it.extend({ valid: i(s), selected: M && M.getFullYear() === l && M.getMonth() === r && M.getDate() === o }, e.getDayProps(s, M)), h = u.valid, f = u.selected, n = u.cssClass, p = new Date(s).setHours(12, 0, 0, 0) === (new Date).setHours(12, 0, 0, 0), b = c !== T, Le[m] = u, y % 7 === 0 && (D += (y ? "</div>" : "") + '<div class="mbsc-cal-row' + (Re.highlight && M && M - s >= 0 && M - s < 6048e5 ? " mbsc-cal-week-hl" : "") + '">'), qe && 1 == s.getDay() && ("month" == qe && b && x > 1 ? x = 1 == o ? 1 : 2 : "year" == qe && (x = Re.getWeekNumber(s)), S += '<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">' + x + "</div></div>", x++), D += '<div role="button" tabindex="-1" aria-label="' + (p ? Re.todayText + ", " : "") + Re.dayNames[s.getDay()] + ", " + Re.monthNames[c] + " " + d + " " + (u.ariaLabel ? ", " + u.ariaLabel : "") + '"' + (b && !Ae ? ' aria-hidden="true"' : "") + (f ? ' aria-selected="true"' : "") + (h ? "" : ' aria-disabled="true"') + ' data-day="' + g % 7 + '" data-full="' + m + '"class="mbsc-cal-day ' + (Re.dayClass || "") + (f ? " mbsc-cal-day-sel" : "") + (p ? " " + Re.todayClass : "") + (n ? " " + n : "") + (1 == d ? " mbsc-cal-day-first" : "") + (d == v ? " mbsc-cal-day-last" : "") + (b ? " mbsc-cal-day-diff" : "") + (h ? " mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl" : " mbsc-cal-day-inv") + '"><div class="mbsc-cal-day-i ' + (f ? bt : "") + " " + (Re.innerDayClass || "") + '"><div class="mbsc-cal-day-fg">' + d + "</div>" + (u.markup || "") + '<div class="mbsc-cal-day-frame"></div></div></div>'; return D += "</div></div>" + S + "</div>" } function d(e, t, a) { var s = Re.getDate(e, t, 1), n = Re.getYear(s), i = Re.getMonth(s), l = n + ft; if (Qe) { if (Pe && Pe.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(bt), $e && $e.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(bt), Pe = it('.mbsc-cal-year-s[data-val="' + n + '"]', O).addClass("mbsc-cal-sc-sel").attr("aria-selected", "true"), $e = it('.mbsc-cal-month-s[data-val="' + i + '"]', O).addClass("mbsc-cal-sc-sel").attr("aria-selected", "true"), Pe.find(".mbsc-cal-sc-cell-i").addClass(bt), $e.find(".mbsc-cal-sc-cell-i").addClass(bt), Ie && Ie.scroll(Pe, a), it(".mbsc-cal-month-s", O).removeClass("mbsc-fr-btn-d"), n === ae) for (I = 0; I < ne; I++)it('.mbsc-cal-month-s[data-val="' + I + '"]', O).addClass("mbsc-fr-btn-d"); if (n === se) for (I = ie + 1; I <= 12; I++)it('.mbsc-cal-month-s[data-val="' + I + '"]', O).addClass("mbsc-fr-btn-d") } for (1 == ee.length && ee.attr("aria-label", n).html(l), I = 0; I < Me; ++I)s = Re.getDate(e, t - Se + I, 1), n = Re.getYear(s), i = Re.getMonth(s), l = n + ft, it(J[I]).attr("aria-label", Re.monthNames[i] + (tt ? "" : " " + n)).html((!tt && te < Q ? l + " " : "") + K[i] + (!tt && te > Q ? " " + l : "")), ee.length > 1 && it(ee[I]).html(l); Re.getDate(e, t - Se - 1, 1) < le ? u(it(".mbsc-cal-prev-m", O)) : m(it(".mbsc-cal-prev-m", O)), Re.getDate(e, t + Me - Se, 1) > re ? u(it(".mbsc-cal-next-m", O)) : m(it(".mbsc-cal-next-m", O)), Re.getDate(e, t, 1).getFullYear() <= le.getFullYear() ? u(it(".mbsc-cal-prev-y", O)) : m(it(".mbsc-cal-prev-y", O)), Re.getDate(e, t, 1).getFullYear() >= re.getFullYear() ? u(it(".mbsc-cal-next-y", O)) : m(it(".mbsc-cal-next-y", O)) } function m(e) { e.removeClass(yt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled") } function u(e) { e.addClass(yt).find(".mbsc-cal-btn-txt").attr("aria-disabled", "true") } function h(t) { e.trigger("onDayHighlight", { date: t }), Re.highlight && (it(".mbsc-cal-day-sel .mbsc-cal-day-i", F).removeClass(bt), it(".mbsc-cal-day-sel", F).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"), it(".mbsc-cal-week-hl", F).removeClass("mbsc-cal-week-hl"), (null !== Re.defaultValue || e._hasValue) && it('.mbsc-cal-day[data-full="' + t.getFullYear() + "-" + t.getMonth() + "-" + t.getDate() + '"]', F).addClass("mbsc-cal-day-sel").attr("aria-selected", "true").find(".mbsc-cal-day-i").addClass(bt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl")) } function f(t, a) { if (R && ("calendar" === ge || a)) { var s, n, i = Re.getDate(me, ue, 1), l = Math.abs(12 * (Re.getYear(t) - Re.getYear(i)) + Re.getMonth(t) - Re.getMonth(i)); e.needsSlide && l && (me = Re.getYear(t), ue = Re.getMonth(t), t > i ? (n = l > et - Se + Me - 1, ue -= n ? 0 : l - et, s = "next") : t < i && (n = l > et + Se, ue += n ? 0 : l - et, s = "prev"), g(me, ue, s, Math.min(l, et), n, !0)), a || (de = t, h(t)), e.needsSlide = !0 } } function p(t, a, s) { for (s || e.trigger("onMonthLoading", { year: t, month: a }), r(t, a), I = 0; I < ke; I++)Ee[I].html(c(t, a - Se - et + I)); v(), Ve = void 0, e.trigger("onMonthLoaded", { year: t, month: a }) } function b(e, t) { for (var a = et, s = et; s && Re.getDate(e, t + s + Me - Se - 1, 1) > re;)s--; for (; a && Re.getDate(e, t - a - Se, 1) < le;)a--; it.extend(G.settings, { contSize: Me * L, snap: L, minScroll: N - (Ke ? a : s) * L, maxScroll: N + (Ke ? s : a) * L }), G.refresh() } function v() { qe && B.html(it(".mbsc-cal-week-nr-c", Ee[et]).html()), it(".mbsc-cal-slide-a .mbsc-cal-day", W).attr("tabindex", 0) } function g(t, a, s, n, i, l, o) { if (t && Fe.push({ y: t, m: a, dir: s, slideNr: n, load: i, active: l, callback: o }), !ye) { var m, u = Fe.shift(); if (t = u.y, a = u.m, s = "next" === u.dir, n = u.slideNr, i = u.load, l = u.active, o = u.callback || Ne, m = Re.getDate(t, a, 1), t = Re.getYear(m), a = Re.getMonth(m), ye = !0, e.changing = !0, e.trigger("onMonthChange", { year: t, month: a }), e.trigger("onMonthLoading", { year: t, month: a }), r(t, a), i) for (I = 0; I < Me; I++)Ee[s ? ke - Me + I : I].html(c(t, a - Se + I)); l && Oe.addClass("mbsc-cal-slide-a"), setTimeout(function () { e.ariaMessage(Re.monthNames[a] + " " + t), d(t, a, 200), N = s ? N - L * n * Ge : N + L * n * Ge, G.scroll(N, l ? 200 : 0, !1, function () { var l; if (Ee.length) { if (Oe.removeClass("mbsc-cal-slide-a").attr("aria-hidden", "true"), s) for (l = Ee.splice(0, n), I = 0; I < n; I++)Ee.push(l[I]), x(Ee[Ee.length - 1], +Ee[Ee.length - 2].attr("data-curr") + 100 * Ge); else for (l = Ee.splice(ke - n, n), I = n - 1; I >= 0; I--)Ee.unshift(l[I]), x(Ee[0], +Ee[1].attr("data-curr") - 100 * Ge); for (I = 0; I < n; I++)Ee[s ? ke - n + I : I].html(c(t, a - Se - et + I + (s ? ke - n : 0))), i && Ee[s ? I : ke - n + I].html(c(t, a - Se - et + I + (s ? 0 : ke - n))); for (I = 0; I < Me; I++)Ee[et + I].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"); b(t, a), ye = !1 } Fe.length ? setTimeout(function () { g() }, 10) : (me = t, ue = a, e.changing = !1, it(".mbsc-cal-day", W).attr("tabindex", -1), v(), void 0 !== Ve ? p(t, a, Ve) : e.trigger("onMonthLoaded", { year: t, month: a }), o()) }) }, 10) } } function y() { var t = it(this), a = e.live, s = e.getDate(!0), n = t.attr("data-full"), i = n.split("-"), l = ct(i[0], i[1], i[2]), r = ct(l.getFullYear(), l.getMonth(), l.getDate(), s.getHours(), s.getMinutes(), s.getSeconds()), o = t.hasClass("mbsc-cal-day-sel"); !Ae && t.hasClass("mbsc-cal-day-diff") || e.trigger("onDayChange", it.extend(Le[n], { date: r, target: this, selected: o })) !== !1 && (e.needsSlide = !1, j = !0, e.setDate(r, a, .2, !a, !0), Re.outerMonthChange && (Te = !0, l < Re.getDate(me, ue - Se, 1) ? C() : l > Re.getDate(me, ue - Se + Me, 0) && w(), Te = !1), e.live && e.trigger("onSet", { valueText: e._value })) } function x(e, t) { e.attr("data-curr", t), e[0].style[dt + "Transform"] = "translate3d(" + (Je ? "0," + t + "%," : t + "%,0,") + "0)" } function _(t) { e.isVisible() && R && (e.changing ? Ve = t : p(me, ue, t)) } function w() { Te && Re.getDate(me, ue + Me - Se, 1) <= re && g(me, ++ue, "next", 1, !1, !0, w) } function C() { Te && Re.getDate(me, ue - Se - 1, 1) >= le && g(me, --ue, "prev", 1, !1, !0, C) } function T(e) { Te && Re.getDate(me, ue, 1) <= Re.getDate(Re.getYear(re) - 1, Re.getMonth(re) - De, 1) ? g(++me, ue, "next", et, !0, !0, function () { T(e) }) : Te && !e.hasClass("mbsc-fr-btn-d") && g(Re.getYear(re), Re.getMonth(re) - De, "next", et, !0, !0) } function M(e) { Te && Re.getDate(me, ue, 1) >= Re.getDate(Re.getYear(le) + 1, Re.getMonth(le) + Se, 1) ? g(--me, ue, "prev", et, !0, !0, function () { M(e) }) : Te && !e.hasClass("mbsc-fr-btn-d") && g(Re.getYear(le), Re.getMonth(le) + Se, "prev", et, !0, !0) } function k(t, a) { t.hasClass("mbsc-cal-v") || (t.addClass("mbsc-cal-v" + (a ? "" : " mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"), e.trigger("onSelectShow")) } function D(e, t) { e.hasClass("mbsc-cal-v") && e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h" + (t ? "" : " mbsc-cal-p-out")) } function S(e, t) { (t || e).hasClass("mbsc-cal-v") ? D(e) : k(e) } function V() { it(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in") } function A(e) { return e[0].innerWidth || e.innerWidth() } var Y, I, P, $, H, O, E, F, W, L, N, j, R, X, q, B, U, z, K, G, Z, J, Q, ee, te, ae, se, ne, ie, le, re, oe, ce, de, me, ue, he, fe, pe, be, ve, ge, ye, xe, _e, we, Ce, Te, Me, ke, De, Se, Ve, Ae, Ye, Ie, Pe, $e, He = this, Oe = [], Ee = [], Fe = [], We = {}, Le = {}, Ne = function () { }, je = it.extend({}, e.settings), Re = it.extend(e.settings, pt, je), Xe = "full" == Re.weekDays ? "" : "min" == Re.weekDays ? "Min" : "Short", qe = Re.weekCounter, Be = Re.layout || (/top|bottom|inline/.test(Re.display) ? "liquid" : ""), Ue = "liquid" == Be && "bubble" !== Re.display, ze = "center" == Re.display, Ke = Re.rtl, Ge = Ke ? -1 : 1, Ze = Ue ? null : Re.calendarWidth, Je = "vertical" == Re.calendarScroll, Qe = Re.quickNav, et = Re.preMonths, tt = Re.yearChange, at = Re.controls.join(","), st = (Re.tabs === !0 || Re.tabs !== !1 && Ue) && Re.controls.length > 1, nt = !st && void 0 === Re.tabs && !Ue && Re.controls.length > 1, ft = Re.yearSuffix || "", bt = Re.activeClass || "", vt = "mbsc-cal-tab-sel " + (Re.activeTabClass || ""), gt = Re.activeTabInnerClass || "", yt = "mbsc-fr-btn-d " + (Re.disabledClass || ""), xt = "", _t = ""; return at.match(/calendar/) ? R = !0 : Qe = !1, at.match(/date/) && (We.date = 1), at.match(/time/) && (We.time = 1), R && We.date && (st = !0, nt = !1), Re.layout = Be, Re.preset = (We.date || R ? "date" : "") + (We.time ? "time" : ""), "inline" == Re.display && it(this).closest('[data-role="page"]').on("pageshow", function () { e.position() }), e.changing = !1, e.needsSlide = !0, e.getDayProps = Ne, e.onGenMonth = Ne, e.prepareObj = l, e.refresh = function () { _(!1) }, e.redraw = function () { _(!0) }, e.navigate = function (t, a) { var s, n, i = e.isVisible(); a && i ? f(t, !0) : (s = Re.getYear(t), n = Re.getMonth(t), !i || s == me && n == ue || (e.trigger("onMonthChange", { year: s, month: n }), d(s, n), p(s, n), b(t.getFullYear(), t.getMonth())), me = s, ue = n) }, e.showMonthView = function () { Qe && !z && (D(_t, !0), D(xt, !0), k(U, !0), z = !0) }, e.changeTab = function (t) { e._isVisible && We[t] && ge != t && (ge = t, it(".mbsc-cal-pnl", O).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"), it(".mbsc-cal-tab", O).removeClass(vt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(gt), it('.mbsc-cal-tab[data-control="' + t + '"]', O).addClass(vt).attr("aria-selected", "true").find(".mbsc-cal-tab-i").addClass(gt), We[ge].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"), "calendar" == ge && (Y = e.getDate(!0), Y.getFullYear() === de.getFullYear() && Y.getMonth() === de.getMonth() && Y.getDate() === de.getDate() || f(Y)), e.showMonthView(), e.trigger("onTabChange", { tab: ge })) }, $ = lt.datetime.call(this, e), Q = (Re.dateWheels || Re.dateFormat).search(/m/i), te = (Re.dateWheels || Re.dateFormat).search(/y/i), it.extend($, { ariaMessage: Re.calendarText, onMarkupReady: function (n) { var i, l, r = ""; if (O = it(n.target), E = "inline" == Re.display ? it(this).is("div") ? it(this) : it(this).parent() : e._window, de = e.getDate(!0), me || (me = Re.getYear(de), ue = Re.getMonth(de)), N = 0, q = !0, ye = !1, K = Re.monthNames, ge = "calendar", Re.min && (le = ct(Re.min.getFullYear(), Re.min.getMonth(), 1), oe = Re.min), Re.max && (re = ct(Re.max.getFullYear(), Re.max.getMonth(), 1), ce = Re.max), O.addClass("mbsc-calendar"), H = it(".mbsc-fr-popup", O), ve = it(".mbsc-fr-c", O), We.date ? We.date = it(".mbsc-sc-whl-gr-c", O).eq(0) : R && it(".mbsc-sc-whl-gr-c", O).eq(0).addClass("mbsc-cal-hdn"), We.time && (We.time = it(".mbsc-sc-whl-gr-c", O).eq(1)), R) { for (Me = "auto" == Re.months ? Math.max(1, Math.min(3, Math.floor((Ze || A(E)) / 280))) : Re.months, ke = Me + 2 * et, De = Math.floor(Me / 2), Se = Math.round(Me / 2) - 1, Ae = void 0 === Re.showOuterDays ? Me < 2 : Re.showOuterDays, Je = Je && Me < 2, l = '<div class="mbsc-cal-btnw"><div class="' + (Ke ? "mbsc-cal-next-m" : "mbsc-cal-prev-m") + ' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt ' + (Re.btnCalPrevClass || "") + '" aria-label="' + Re.prevMonthText + '"></div></div>', I = 0; I < Me; ++I)l += '<div class="mbsc-cal-btnw-m" style="width: ' + 100 / Me + '%"><span role="button" class="mbsc-cal-month"></span></div>'; for (l += '<div class="' + (Ke ? "mbsc-cal-prev-m" : "mbsc-cal-next-m") + ' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt ' + (Re.btnCalNextClass || "") + '" aria-label="' + Re.nextMonthText + '"></div></div></div>', tt && (r = '<div class="mbsc-cal-btnw"><div class="' + (Ke ? "mbsc-cal-next-y" : "mbsc-cal-prev-y") + ' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt ' + (Re.btnCalPrevClass || "") + '" aria-label="' + Re.prevYearText + '"></div></div><span role="button" class="mbsc-cal-year"></span><div class="' + (Ke ? "mbsc-cal-prev-y" : "mbsc-cal-next-y") + ' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt ' + (Re.btnCalNextClass || "") + '" aria-label="' + Re.nextYearText + '"></div></div></div>'), Qe && (ae = Re.getYear(le), se = Re.getYear(re), ne = Re.getMonth(le), ie = Re.getMonth(re), fe = Math.ceil((se - ae + 1) / 12) + 2, xt = o("month", 36, 24, 0, "", Re.monthNames, Re.monthNamesShort), _t = o("year", 12 * fe, se - ae + 13, ae, ft)), X = '<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now ' + (Me > 1 ? " mbsc-cal-multi " : "") + (qe ? " mbsc-cal-weeks " : "") + (Je ? " mbsc-cal-vertical" : "") + (Ae ? "" : " mbsc-cal-hide-diff ") + (Re.calendarClass || "") + '"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc ' + (tt ? "mbsc-cal-btnc-ym" : "mbsc-cal-btnc-m") + '">' + (te < Q || Me > 1 ? r + l : l + r) + '</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">', P = 0; P < Me; ++P) { for (X += '<div aria-hidden="true" class="mbsc-cal-days" style="width: ' + 100 / Me + '%"><table cellpadding="0" cellspacing="0"><tr>', I = 0; I < 7; I++)X += "<th>" + Re["dayNames" + Xe][(I + Re.firstDay) % 7] + "</th>"; X += "</tr></table></div>" } for (X += '</div><div class="mbsc-cal-week-nrs-c ' + (Re.weekNrClass || "") + '"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c ' + (Re.calendarClass || "") + '"><div class="mbsc-cal-anim">', I = 0; I < Me + 2 * et; I++)X += '<div class="mbsc-cal-slide" aria-hidden="true"></div>'; X += "</div></div></div>" + xt + _t + "</div></div></div>", We.calendar = it(X) } if (it.each(Re.controls, function (e, t) { We[t] = it('<div class="mbsc-cal-pnl" id="' + (He.id + "_dw_pnl_" + e) + '"></div>').append(it('<div class="mbsc-cal-pnl-i"></div>').append(We[t])).appendTo(ve) }), i = '<div class="mbsc-cal-tabs"><ul role="tablist">', it.each(Re.controls, function (e, t) { We[t] && (i += '<li role="tab" aria-controls="' + (He.id + "_dw_pnl_" + e) + '" class="mbsc-cal-tab ' + (e ? "" : vt) + '" data-control="' + t + '"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i ' + (e ? "" : gt) + '">' + Re[t + "Text"] + "</a></li>") }), i += "</ul></div>", ve.before(i), F = it(".mbsc-cal-anim-c", O), W = it(".mbsc-cal-anim", F), B = it(".mbsc-cal-week-nrs", O), R) { for (z = !0, Oe = it(".mbsc-cal-slide", W).each(function (e, t) { Ee.push(it(t)) }), Oe.slice(et, et + Me).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"), I = 0; I < ke; I++)x(Ee[I], 100 * (I - et) * Ge); p(me, ue), G = new rt.ScrollView(F[0], { axis: Je ? "Y" : "X", easing: "", contSize: 0, snap: 1, maxSnapScroll: et, moveElement: W, mousewheel: Re.mousewheel, time: 200, lock: !0, stopProp: !1, minScroll: -(1 / 0), maxScroll: 1 / 0, onAnimationEnd: function (e) { var t = Math.round(((Je ? e.posY : e.posX) - N) / L) * Ge; t && g(me, ue - t, t > 0 ? "prev" : "next", t > 0 ? t : -t) } }) } J = it(".mbsc-cal-month", O), ee = it(".mbsc-cal-year", O), U = it(".mbsc-cal-m-c", O), Qe && (U.on(ht, V), xt = it(".mbsc-cal-month-c", O).on(ht, V), _t = it(".mbsc-cal-year-c", O).on(ht, V), Ye = it(".mbsc-cal-sc-p", O), he = { axis: Je ? "Y" : "X", contSize: 0, snap: 1, maxSnapScroll: 1, rtl: Re.rtl, mousewheel: Re.mousewheel, time: 200, stopProp: !1, minScroll: -(1 / 0), maxScroll: 1 / 0 }, Ie = new rt.ScrollView(_t[0], he), Z = new rt.ScrollView(xt[0], he)), Ue ? O.addClass("mbsc-cal-liq") : it(".mbsc-cal", O).width(Ze || 280 * Me), Re.calendarHeight && it(".mbsc-cal-anim-c", O).height(Re.calendarHeight), e.tap(F, function (e) { var t = it(e.target); ye || G.scrolled || Re.readonly === !0 || (t = t.closest(".mbsc-cal-day", this), t.hasClass("mbsc-cal-day-v") && y.call(t[0])) }), it(".mbsc-cal-btn", O).on("touchstart mousedown keydown", t).on("touchmove", a).on("touchend touchcancel keyup", s), it(".mbsc-cal-tab", O).on("touchstart click", function (t) { mt(t, this) && e.changeTab(it(this).attr("data-control")) }), Qe && (e.tap(it(".mbsc-cal-month", O), function () { _t.hasClass("mbsc-cal-v") || (S(U), z = U.hasClass("mbsc-cal-v")), S(xt), D(_t) }), e.tap(it(".mbsc-cal-year", O), function () { _t.hasClass("mbsc-cal-v") || Ie.scroll(Pe), xt.hasClass("mbsc-cal-v") || (S(U), z = U.hasClass("mbsc-cal-v")), S(_t), D(xt) }), e.tap(it(".mbsc-cal-month-s", O), function () { Z.scrolled || it(this).hasClass("mbsc-fr-btn-d") || e.navigate(Re.getDate(me, it(this).attr("data-val"), 1)) }), e.tap(it(".mbsc-cal-year-s", O), function () { Ie.scrolled || (Y = Re.getDate(it(this).attr("data-val"), ue, 1), e.navigate(new Date(ot.constrain(Y, le, re)))) }), e.tap(_t, function () { Ie.scrolled || (D(_t), k(U), z = !0) }), e.tap(xt, function () { Z.scrolled || (D(xt), k(U), z = !0) })) }, onShow: function () { R && d(me, ue) }, onPosition: function (t) { var a, s, n, i, l, r, o = 0, c = 0, d = 0, m = t.windowHeight; if (Ue && (ze && F.height(""), ve.height(""), W.width("")), L && (l = L), R && (L = Math.round(Math.round(F[0][Je ? "offsetHeight" : "offsetWidth"]) / Me)), L && (O.removeClass("mbsc-cal-m mbsc-cal-l"), L > 1024 ? O.addClass("mbsc-cal-l") : L > 640 && O.addClass("mbsc-cal-m")), (st && (q || Ue) || nt) && (it(".mbsc-cal-pnl", O).removeClass("mbsc-cal-pnl-h"), it.each(We, function (e, t) { a = t[0].offsetWidth, o = Math.max(o, a), c = Math.max(c, t[0].offsetHeight), d += a }), st || nt && d > A(E) ? (s = !0, ge = it(".mbsc-cal-tabs .mbsc-cal-tab-sel", O).attr("data-control"), H.addClass("mbsc-cal-tabbed")) : (ge = "calendar", o = "", c = "", H.removeClass("mbsc-cal-tabbed"), ve.css({ width: "", height: "" }))), Ue && ze && R && (e._isFullScreen = !0, s && ve.height(We.calendar[0].offsetHeight), i = H[0].offsetHeight, m >= i && F.height(m - i + F[0].offsetHeight), c = Math.max(c, We.calendar[0].offsetHeight)), s && (ve.css({ width: Ue ? "" : o, height: c }), R && (L = Math.round(Math.round(F[0][Je ? "offsetHeight" : "offsetWidth"]) / Me))), L) { if (W[Je ? "height" : "width"](L), L !== l) { if (tt) for (K = Re.maxMonthWidth > it(".mbsc-cal-btnw-m", O).width() ? Re.monthNamesShort : Re.monthNames, I = 0; I < Me; ++I)it(J[I]).text(K[Re.getMonth(Re.getDate(me, ue - Se + I, 1))]); Qe && (r = _t[0][Je ? "offsetHeight" : "offsetWidth"], it.extend(Ie.settings, { contSize: r, snap: r, minScroll: (2 - fe) * r, maxScroll: -r }), it.extend(Z.settings, { contSize: r, snap: r, minScroll: -r, maxScroll: -r }), Ie.refresh(), Z.refresh(), _t.hasClass("mbsc-cal-v") && Ie.scroll(Pe)), Ue && !q && l && (n = N / l, N = n * L), b(me, ue) } } else L = l; s && (it(".mbsc-cal-pnl", O).addClass("mbsc-cal-pnl-h"), We[ge].removeClass("mbsc-cal-pnl-h")), e.trigger("onCalResize"), q = !1 }, onHide: function () { Fe = [], Ee = [], ge = null, me = null, ue = null, ye = !0, L = 0, G && G.destroy(), Qe && Ie && Z && (Ie.destroy(), Z.destroy()) }, onValidated: function (t) { var a, s, n; if (s = e.getDate(!0), j) a = "calendar"; else for (n in e.order) n && e.order[n] === t && (a = /[mdy]/.test(n) ? "date" : "time"); e.trigger("onSetDate", { date: s, control: a }), f(s), j = !1 } }), $ }; var bt = Y.$, vt = bt.extend, gt = Y.util, yt = gt.datetime, xt = yt.adjustedDate, _t = Y.presets.scroller, wt = {}; Y.presetShort("calendar"), _t.calendar = function (e) { function t(e) { if (e) { if (u[e]) return u[e]; var t = bt('<div style="background-color:' + e + ';"></div>').appendTo("body"), a = window.getComputedStyle ? getComputedStyle(t[0]) : t[0].style, s = a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g, "").split(","), n = .299 * s[0] + .587 * s[1] + .114 * s[2], i = n > 130 ? "#000" : "#fff"; return t.remove(), u[e] = i, i } } function a(e) { return xt(e.getFullYear(), e.getMonth(), e.getDate()) } function s(e) { if (y = {}, e && e.length) for (o = 0; o < e.length; o++)y[a(e[o])] = e[o] } function n() { e.refresh() } var i, l, r, o, c, d, m, u = {}, h = vt({}, e.settings), f = vt(e.settings, wt, h), p = f.activeClass || "", b = "multiple" == f.select || f.select > 1 || "week" == f.selectType, v = gt.isNumeric(f.select) ? f.select : 1 / 0, g = !!f.events, y = {}; if (m = _t.calbase.call(this, e), i = vt({}, m), r = void 0 === f.firstSelectDay ? f.firstDay : f.firstSelectDay, b && f.defaultValue && f.defaultValue.length) for (o = 0; o < f.defaultValue.length; o++)y[a(f.defaultValue[o])] = f.defaultValue[o]; return e.onGenMonth = function (t, a) { c = e.prepareObj(f.events || f.marked, t, a) }, e.getDayProps = function (e) { var a, s = b ? void 0 !== y[e] : void 0, n = !!c[e] && c[e], i = n && n[0] && n[0].text, l = n && n[0] && n[0].color, r = g && i ? t(l) : "", o = "", d = ""; if (n) { for (a = 0; a < n.length; a++)n[a].icon && (o += '<span class="mbsc-ic mbsc-ic-' + n[a].icon + '"' + (n[a].text ? "" : n[a].color ? ' style="color:' + n[a].color + ';"' : "") + "></span>\n"); for (d = '<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">', a = 0; a < n.length; a++)d += '<div class="mbsc-cal-day-m-c"' + (n[a].color ? ' style="background:' + n[a].color + ';"' : "") + "></div>"; d += "</div></div>" } return { marked: n, selected: s, cssClass: n ? "mbsc-cal-day-marked" : "", ariaLabel: g ? i : "", markup: g && i ? '<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="' + bt("<div>" + i + "</div>").text() + '"' + (l ? ' style="background:' + l + ";color:" + r + ';text-shadow:none;"' : "") + ">" + o + i + "</div></div>" : g && o ? '<div class="mbsc-cal-day-ic-c">' + o + "</div>" : n ? d : "" } }, e.addValue = function (e) { y[a(e)] = e, n() }, e.removeValue = function (e) { delete y[a(e)], n() }, e.setVal = function (t, a, i, l, r) { b && (s(t), t = t ? t[0] : null), e._setVal(t, a, i, l, r), n() }, e.getVal = function (t) { return b ? gt.objectToArray(y) : e.getDate(t) }, vt(m, { highlight: !b, outerMonthChange: !b, parseValue: function (t) { var s, n; if (b && t && "string" == typeof t) { for (y = {}, t = t.split(","), s = 0; s < t.length; s++)n = yt.parseDate(e.format, t[s].replace(/^\s+|\s+$/g, ""), f), y[a(n)] = n; t = t[0] } return b && f.defaultValue && f.defaultValue.length && (f.defaultValue = f.defaultValue[0]), i.parseValue.call(this, t) }, formatValue: function (t) { var a, s = []; if (b) { for (a in y) s.push(yt.formatDate(e.format, y[a], f)); return s.join(", ") } return i.formatValue.call(this, t) }, onClear: function () { b && (y = {}, e.refresh()) }, onBeforeShow: function () { void 0 !== f.setOnDayTap || f.buttons && f.buttons.length || (f.setOnDayTap = !0), f.setOnDayTap && "inline" != f.display && (f.outerMonthChange = !1), f.counter && b && (f.headerText = function () { var e = 0, t = "week" == f.selectType ? 7 : 1; return bt.each(y, function () { e++ }), e = Math.round(e / t), (e > 1 ? f.selectedPluralText || f.selectedText : f.selectedText).replace(/{count}/, e) }) }, onMarkupReady: function (e) { i.onMarkupReady.call(this, e), l = bt(e.target), b && (bt(".mbsc-fr-hdr", l).attr("aria-live", "off"), d = vt({}, y)), g && bt(".mbsc-cal", l).addClass("mbsc-cal-ev") }, onDayChange: function (t) { var s = t.date, i = a(s), o = bt(t.target), c = t.selected; if (b) if ("week" == f.selectType) { var d, m, u = i.getDay() - r; for (u = u < 0 ? 7 + u : u, "multiple" != f.select && (y = {}), d = 0; d < 7; d++)m = xt(i.getFullYear(), i.getMonth(), i.getDate() - u + d), c ? delete y[m] : gt.objectToArray(y).length / 7 < v && (y[m] = m); n() } else { var h = bt('.mbsc-cal .mbsc-cal-day[data-full="' + o.attr("data-full") + '"]', l); c ? (h.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p), delete y[i]) : gt.objectToArray(y).length < v && (h.addClass("mbsc-cal-day-sel").attr("aria-selected", "true").find(".mbsc-cal-day-i").addClass(p), y[i] = i) } if (f.setOnDayTap && "multiple" != f.select && "inline" != f.display) return e.needsSlide = !1, e.setDate(s), e.select(), !1 }, onCancel: function () { !e.live && b && (y = vt({}, d)) } }), m }; var Ct = Y.$, Tt = Y.presets.scroller, Mt = Y.util.datetime, kt = Y.util, Dt = kt.testTouch, St = { autoCorrect: !0, showSelector: !0, minRange: 1, rangeTap: !0, fromText: "Start", toText: "End" }; Y.presetShort("range"), Tt.range = function (e) {
                function t(e, t) { e && (e.setFullYear(t.getFullYear()), e.setMonth(t.getMonth()), e.setDate(t.getDate())) } function a(t) { e._startDate = k = g, e._endDate = D = x, Y.startInput && (Ct(Y.startInput).val(b), t && Ct(Y.startInput).trigger("change")), Y.endInput && (Ct(Y.endInput).val(v), t && Ct(Y.endInput).trigger("change")) } function s(e, t) { var a = !0; return e && g && x && (x - g > Y.maxRange - 1 && (S ? g = new Date(x - Y.maxRange + 1) : x = new Date(+g + Y.maxRange - 1)), x - g < Y.minRange - 1 && (S ? g = new Date(x - Y.minRange + 1) : x = new Date(+g + Y.minRange - 1))), g && x || (a = !1), t && r(), a } function n() { return g && x ? Math.max(1, Math.round((new Date(x).setHours(0, 0, 0, 0) - new Date(g).setHours(0, 0, 0, 0)) / 864e5) + 1) : 0 } function i(e) { e.addClass("mbsc-range-btn-sel").attr("aria-checked", "true").find(".mbsc-range-btn").addClass($) } function l() { M && d && (Ct(".mbsc-range-btn-c", d).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn", d).removeClass($), i(Ct(".mbsc-range-btn-c", d).eq(S))) } function r() { var e, t, a, s, n, i = 0, l = P || !S ? " mbsc-cal-day-hl mbsc-cal-sel-start" : " mbsc-cal-sel-start", r = P || S ? " mbsc-cal-day-hl mbsc-cal-sel-end" : " mbsc-cal-sel-end"; if (b = g ? Mt.formatDate(u, g, Y) : "", v = x ? Mt.formatDate(u, x, Y) : "", d && (Ct(".mbsc-range-btn-v-start", d).html(b || "&nbsp;"), Ct(".mbsc-range-btn-v-end", d).html(v || "&nbsp;"), e = g ? new Date(g) : null, a = x ? new Date(x) : null, !e && a && (e = new Date(a)), !a && e && (a = new Date(e)), n = S ? a : e, Ct(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i", d).removeClass($), Ct(".mbsc-cal-table .mbsc-cal-day-hl", d).removeClass(O), Ct(".mbsc-cal-table .mbsc-cal-day-sel", d).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"), e && a)) for (t = e.setHours(0, 0, 0, 0), s = a.setHours(0, 0, 0, 0); a >= e && i < 84;)Ct('.mbsc-cal-day[data-full="' + n.getFullYear() + "-" + n.getMonth() + "-" + n.getDate() + '"]', d).addClass("mbsc-cal-day-sel" + (n.getTime() === t ? l : "") + (n.getTime() === s ? r : "")).attr("aria-selected", "true").find(".mbsc-cal-day-i ").addClass($), n.setDate(n.getDate() + (S ? -1 : 1)), i++ } function o(e, t) { return { h: e ? e.getHours() : t ? 23 : 0, i: e ? e.getMinutes() : t ? 59 : 0, s: e ? e.getSeconds() : t ? 59 : 0 } } var c, d, m, u, h, f, p, b, v, g, y, x, _, w, C, T, M, k = e._startDate, D = e._endDate, S = 0, V = new Date, A = Ct.extend({}, e.settings), Y = Ct.extend(e.settings, St, A), I = Y.anchor, P = Y.rangeTap, $ = Y.activeClass || "", H = "mbsc-fr-btn-d " + (Y.disabledClass || ""), O = "mbsc-cal-day-hl", E = null === Y.defaultValue ? [] : Y.defaultValue || [new Date(V.setHours(0, 0, 0, 0)), new Date(V.getFullYear(), V.getMonth(), V.getDate() + 6, 23, 59, 59, 999)]; return P && (Y.tabs = !0), h = Tt.calbase.call(this, e), c = Ct.extend({}, h), u = e.format, w = "time" === Y.controls.join(""), M = 1 != Y.controls.length || "calendar" != Y.controls[0] || Y.showSelector, Y.startInput && (C = Ct(Y.startInput).prop("readonly"), e.attachShow(Ct(Y.startInput).prop("readonly", !0), function () { S = 0, Y.anchor = I || Ct(Y.startInput) })), Y.endInput && (T = Ct(Y.endInput).prop("readonly"), e.attachShow(Ct(Y.endInput).prop("readonly", !0), function () { S = 1, Y.anchor = I || Ct(Y.endInput) })), e.setVal = function (t, a, s, n, i) { var l = t || [], r = t; (void 0 === l[0] || null === l[0] || l[0].getTime) && (p = !0, g = l[0] || null, b = g ? Mt.formatDate(u, g, Y) : "", S || (r = c.parseValue(b, e))), (void 0 === l[1] || null === l[1] || l[1].getTime) && (p = !0, x = l[1] || null, v = x ? Mt.formatDate(u, x, Y) : "", S && (r = c.parseValue(v, e))), n || (e._startDate = k = g, e._endDate = D = x), e._setVal(r, a, s, n, i) }, e.getVal = function (t) { return t ? [g, x] : e._hasValue ? [k, D] : null }, e.getDayProps = function (e) { var t = g ? new Date(g.getFullYear(), g.getMonth(), g.getDate()) : null, a = x ? new Date(x.getFullYear(), x.getMonth(), x.getDate()) : null; return { selected: t && a && e >= t && e <= x, cssClass: ((P || !S) && t && t.getTime() === e.getTime() || (P || S) && a && a.getTime() === e.getTime() ? O : "") + (t && t.getTime() === e.getTime() ? " mbsc-cal-sel-start" : "") + (a && a.getTime() === e.getTime() ? " mbsc-cal-sel-end" : "") } }, e.setActiveDate = function (t) {
                    var a; S = "start" == t ? 0 : 1, a = "start" == t ? g : x, e.isVisible() && (l(), P || (Ct(".mbsc-cal-table .mbsc-cal-day-hl", d).removeClass(O), a && Ct('.mbsc-cal-day[data-full="' + a.getFullYear() + "-" + a.getMonth() + "-" + a.getDate() + '"]', d).addClass(O)), a && (f = !0, e.setDate(a, !1, 1e3, !0)));
                }, e.getValue = e.getVal, Ct.extend(h, { highlight: !1, outerMonthChange: !1, formatValue: function () { return b + (Y.endInput ? "" : v ? " - " + v : "") }, parseValue: function (t) { var a = t ? t.split(" - ") : []; return Y.defaultValue = E[1], D = Y.endInput ? Ct(Y.endInput).val() ? Mt.parseDate(u, Ct(Y.endInput).val(), Y) : E[1] : a[1] ? Mt.parseDate(u, a[1], Y) : E[1], Y.defaultValue = E[0], k = Y.startInput ? Ct(Y.startInput).val() ? Mt.parseDate(u, Ct(Y.startInput).val(), Y) : E[0] : a[0] ? Mt.parseDate(u, a[0], Y) : E[0], Y.defaultValue = E[S], b = k ? Mt.formatDate(u, k, Y) : "", v = D ? Mt.formatDate(u, D, Y) : "", e._startDate = k, e._endDate = D, c.parseValue(S ? v : b, e) }, onFill: function (e) { a(e.change) }, onBeforeClose: function (t) { if ("set" === t.button && !s(!0, !0)) return e.setActiveDate(S ? "start" : "end"), !1 }, onHide: function () { c.onHide.call(e), S = 0, d = null, Y.anchor = I }, onClear: function () { P && (S = 0) }, onBeforeShow: function () { Y.headerText = !1, g = k, x = D, y = o(g, 0), _ = o(x, 1), Y.counter && (Y.headerText = function () { var e = n(); return (e > 1 ? Y.selectedPluralText || Y.selectedText : Y.selectedText).replace(/{count}/, e) }), p = !0 }, onMarkupReady: function (t) { var a; g && (f = !0, e.setDate(g, !1, 0, !0), g = e.getDate(!0)), x && (f = !0, e.setDate(x, !1, 0, !0), x = e.getDate(!0)), (S && x || !S && g) && (f = !0, e.setDate(S ? x : g, !1, 0, !0)), r(), c.onMarkupReady.call(this, t), d = Ct(t.target), d.addClass("mbsc-range"), M && (a = '<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">' + Y.fromText + '<div class="mbsc-range-btn-v mbsc-range-btn-v-start">' + (b || "&nbsp;") + '</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">' + Y.toText + '<div class="mbsc-range-btn-v mbsc-range-btn-v-end">' + (v || "&nbsp;") + "</div></div></div></div>", Ct(".mbsc-cal-tabs", d).before(a), l()), Ct(".mbsc-range-btn-c", d).on("touchstart click", function (t) { Dt(t, this) && (e.showMonthView(), e.setActiveDate(Ct(this).index() ? "end" : "start")) }) }, onDayChange: function (e) { e.active = S ? "end" : "start", m = !0 }, onSetDate: function (a) { var n = a.date, i = e.order; f || (void 0 === i.h && n.setHours(S ? 23 : 0), void 0 === i.i && n.setMinutes(S ? 59 : 0), void 0 === i.s && n.setSeconds(S ? 59 : 0), n.setMilliseconds(S ? 999 : 0), p && !m || (P && m && (1 == S && n < g && (S = 0), S ? n.setHours(_.h, _.i, _.s, 999) : n.setHours(y.h, y.i, y.s, 0)), S ? (x = new Date(n), _ = o(x)) : (g = new Date(n), y = o(g)), w && (t(g, n), t(x, n)), P && m && !S && (x = null))), e._isValid = s(p || m || Y.autoCorrect, !f), a.active = S ? "end" : "start", !f && P && (m && (S = S ? 0 : 1), l()), e.isVisible() && (e._isValid ? Ct(".mbsc-fr-btn-s .mbsc-fr-btn", e._markup).removeClass(H) : Ct(".mbsc-fr-btn-s .mbsc-fr-btn", e._markup).addClass(H)), m = !1, p = !1, f = !1 }, onTabChange: function (t) { "calendar" != t.tab && e.setDate(S ? x : g, !1, 1e3, !0), s(!0, !0) }, onDestroy: function () { Ct(Y.startInput).prop("readonly", C), Ct(Y.endInput).prop("readonly", T) } }), h
            }; var Vt, At = Y.$, Yt = At.extend, It = Y.classes, Pt = Y.util, $t = Pt.prefix, Ht = Pt.jsPrefix, Ot = Pt.getCoord, Et = Pt.testTouch, Ft = Pt.vibrate, Wt = Pt.animEnd, Lt = 1, Nt = function () { }, jt = window.requestAnimationFrame || function (e) { e() }, Rt = window.cancelAnimationFrame || Nt, Xt = "transparent", qt = function (e, t) { function a() { ct = !1, tt = !1, z = 0, gt = 0, yt = new Date, Ee = ee.width(), se = A(ee), Le = se.index(Fe), We = Fe[0].offsetHeight, na = Fe[0].offsetTop, qt = Bt[Fe.attr("data-type") || "defaults"], vt = qt.stages } function s(e) { var t; "touchstart" === e.type && (at = !0, clearTimeout(st)), !Et(e, this) || q || aa || Vt || oa || (q = !0, K = !0, xt = Ot(e, "X"), _t = Ot(e, "Y"), ce = 0, de = 0, Fe = At(this), t = Fe, a(), kt = ut.onItemTap || qt.tap || Fe.hasClass("mbsc-lv-parent") || Fe.hasClass("mbsc-lv-back"), Be = ta.offset().top, Re = Fe.offset().top, kt && (U = setTimeout(function () { t.addClass("mbsc-lv-item-active"), ge("onItemActivate", { target: t[0], domEvent: e }) }, 120)), Qt.sortable && !Fe.hasClass("mbsc-lv-back") && (Qt.sortable.group || (Qe = Fe.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"), nt = Fe.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")), ze = (Qt.sortable.group ? ee.children(je).eq(0) : nt.length ? nt.eq(-1) : Fe)[0].offsetTop - na, Ue = (Qt.sortable.group ? ee.children(je).eq(-1) : Qe.length ? Qe.eq(-1) : Fe)[0].offsetTop - na, Qt.sortable.handle ? At(e.target).hasClass("mbsc-lv-handle") && (clearTimeout(U), "Moz" === Ht ? (e.preventDefault(), c()) : St = setTimeout(function () { c() }, 100)) : St = setTimeout(function () { ye.appendTo(Fe), ye[0].style[Ht + "Animation"] = "mbsc-lv-fill " + (ut.sortDelay - 100) + "ms linear", clearTimeout(pe), clearTimeout(U), K = !1, St = setTimeout(function () { ye[0].style[Ht + "Animation"] = "", c() }, ut.sortDelay - 80) }, 80)), "mousedown" == e.type && At(document).on("mousemove", n).on("mouseup", i)) } function n(e) { var t = !1, a = !0; if (q) if (be = Ot(e, "X"), ve = Ot(e, "Y"), ce = be - xt, de = ve - _t, clearTimeout(pe), he || Ct || ht || Fe.hasClass("mbsc-lv-back") || (Math.abs(de) > 10 ? (ht = !0, i(Yt({}, e, { type: "mousemove" == e.type ? "mouseup" : "touchend" })), clearTimeout(U)) : Math.abs(ce) > 7 && l()), Ct) e.preventDefault(), z = ce / Ee * 100, r(); else if (he) { e.preventDefault(); var s, n = Kt.scrollTop(), o = Math.max(ze, Math.min(de + Zt, Ue)), c = Te ? Re - Jt + n - Zt : Re; Gt + n < c + o + We ? (Kt.scrollTop(c + o - Gt + We), s = !0) : c + o < n && (Kt.scrollTop(c + o), s = !0), s && (Zt += Kt.scrollTop() - n), Ze && (Qt.sortable.multiLevel && Ge.hasClass("mbsc-lv-parent") ? na + We / 4 + o > Ze ? t = !0 : na + We - We / 4 + o > Ze && (me = Ge.addClass("mbsc-lv-item-hl"), a = !1) : na + We / 2 + o > Ze && (Ge.hasClass("mbsc-lv-back") ? Qt.sortable.multiLevel && (ue = Ge.addClass("mbsc-lv-item-hl"), a = !1) : t = !0), t && (it.insertAfter(Ge), lt = Ge, Ge = H(Ge, "next"), rt = Ze, Ze = Ge.length && Ge[0].offsetTop, Q++)), !t && rt && (Qt.sortable.multiLevel && lt.hasClass("mbsc-lv-parent") ? na + We - We / 4 + o < rt ? t = !0 : na + We / 4 + o < rt && (me = lt.addClass("mbsc-lv-item-hl"), a = !1) : na + We / 2 + o < rt && (lt.hasClass("mbsc-lv-back") ? Qt.sortable.multiLevel && (ue = lt.addClass("mbsc-lv-item-hl"), a = !1) : t = !0), t && (it.insertBefore(lt), Ge = lt, lt = H(lt, "prev"), Ze = rt, rt = lt.length && lt[0].offsetTop + lt[0].offsetHeight, Q--)), a && (me && (me.removeClass("mbsc-lv-item-hl"), me = !1), ue && (ue.removeClass("mbsc-lv-item-hl"), ue = !1)), t && ge("onSortChange", [Fe, Q]), _(Fe, o), ge("onSort", [Fe, Q]) } else (Math.abs(ce) > 5 || Math.abs(de) > 5) && w() } function i(e) { var t, a, s, l, r = Fe; q && (q = !1, w(), "mouseup" == e.type && At(document).off("mousemove", n).off("mouseup", i), ht || (st = setTimeout(function () { at = !1 }, 300)), (Ct || ht || he) && (tt = !0), Ct ? o() : he ? (s = ee, me ? (k(Fe.detach()), a = ra[me.attr("data-ref")], Q = A(a.child).length, me.removeClass("mbsc-lv-item-hl"), ut.navigateOnDrop ? N(me, function () { Qt.add(null, Fe, null, null, me, !0), W(Fe), d(Fe, Le, s, !0) }) : (Qt.add(null, Fe, null, null, me, !0), d(Fe, Le, s, !0))) : ue ? (k(Fe.detach()), a = ra[ue.attr("data-back")], Q = A(a.parent).index(a.item) + 1, ue.removeClass("mbsc-lv-item-hl"), ut.navigateOnDrop ? N(ue, function () { Qt.add(null, Fe, Q, null, ee, !0), W(Fe), d(Fe, Le, s, !0) }) : (Qt.add(null, Fe, Q, null, a.parent, !0), d(Fe, Le, s, !0))) : (t = it[0].offsetTop - na, _(Fe, t, 6 * Math.abs(t - Math.max(ze, Math.min(de + Zt, Ue))), function () { k(Fe), Fe.insertBefore(it), d(Fe, Le, s, Q !== Le) })), he = !1) : !ht && Math.abs(ce) < 5 && Math.abs(de) < 5 && (qt.tap && (l = qt.tap.call(ea, { target: Fe, index: Le, domEvent: e }, Qt)), kt && ("touchend" === e.type && Pt.preventClick(), Fe.addClass("mbsc-lv-item-active"), ge("onItemActivate", { target: Fe[0], domEvent: e })), l = ge("onItemTap", { target: Fe[0], index: Le, domEvent: e }), l !== !1 && N(Fe)), clearTimeout(U), setTimeout(function () { r.removeClass("mbsc-lv-item-active"), ge("onItemDeactivate", { target: r[0] }) }, 100), ht = !1, ne = null) } function l() { Ct = D(qt.swipe, { target: Fe[0], index: Le, direction: ce > 0 ? "right" : "left" }), Ct && (w(), clearTimeout(U), qt.actions ? (B = F(qt, ce), Ke.html(qt.icons).show().children().css("width", B + "%"), He.hide(), At(".mbsc-lv-ic-m", Oe).removeClass("mbsc-lv-ic-disabled"), At(qt.leftMenu).each(p), At(qt.rightMenu).each(p)) : (He.show(), Ke.hide(), ie = qt.start + (ce > 0 ? 0 : 1), ot = vt[ie - 1], Je = vt[ie]), Fe.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"), Dt.css("line-height", We + "px"), Oe.css({ top: na, height: We, backgroundColor: O(ce) }).addClass("mbsc-lv-stage-c-v").appendTo(ee.parent()), ut.iconSlide && Fe.append(He), ge("onSlideStart", { target: Fe[0], index: Le })) } function r() { var e = !1; mt || (qt.actions ? Oe.attr("class", "mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-" + (z < 0 ? "right" : "left")) : (ot && z <= ot.percent ? (ie-- , Je = ot, ot = vt[ie], e = !0) : Je && z >= Je.percent && (ie++ , ot = Je, Je = vt[ie], e = !0), e && (ne = z > 0 ? ot : Je, ne && (C(ne, ut.iconSlide), ge("onStageChange", { target: Fe[0], index: Le, stage: ne })))), ft || (mt = !0, dt = jt(g))) } function o(e) { var t, a, s, n = !1, i = !0; Rt(dt), mt = !1, ft || g(), qt.actions ? Math.abs(z) > 10 && B && (x(Fe, z < 0 ? -B : B, 200), n = !0, Vt = !0, G = Fe, Z = Le, At(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf", function (t) { t.preventDefault(), y(Fe, !0, e) })) : z && (ut.quickSwipe && !ft && (s = new Date - yt, t = s < 300 && ce < -50, a = s < 300 && ce > 50, t ? (ct = !0, ne = qt.left, C(ne, ut.iconSlide)) : a && (ct = !0, ne = qt.right, C(ne, ut.iconSlide))), ne && ne.action && (oe = D(ne.disabled, { target: Fe[0], index: Le }), oe || (n = !0, Vt = ft || D(ne.confirm, { target: Fe[0], index: Le }), Vt ? (x(Fe, (z < 0 ? -1 : 1) * He[0].offsetWidth * 100 / Ee, 200, !0), v(ne, Fe, Le, !1, e)) : b(ne, Fe, Le, e)))), n || y(Fe, i, e), Ct = !1 } function c() { he = !0, me = !1, ue = !1, Zt = 0, Q = Le, ut.vibrate && Ft(), Ge = H(Fe, "next"), Ze = Ge.length && Ge[0].offsetTop, lt = H(Fe, "prev"), rt = lt.length && lt[0].offsetTop + lt[0].offsetHeight, it.height(We).insertAfter(Fe), Fe.css({ top: na }).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(fe), ge("onSortStart", { target: Fe[0], index: Q }) } function d(e, t, a, s) { e.removeClass("mbsc-lv-item-dragging"), it.remove(), ge("onSortEnd", { target: e[0], index: Q }), ut.vibrate && Ft(), s && (Qt.addUndoAction(function (s) { Qt.move(e, t, null, s, a, !0) }, !0), ge("onSortUpdate", { target: e[0], index: Q })) } function m() { at || (clearTimeout(Ye), Vt && At(document).trigger("touchstart"), Se && (Qt.close(De, Ve), Se = !1, De = null)) } function u() { clearTimeout(le), le = setTimeout(function () { Gt = Kt[0].innerHeight || Kt.innerHeight(), Jt = Te ? Kt.offset().top : 0, q && (na = Fe[0].offsetTop, We = Fe[0].offsetHeight, Oe.css({ top: na, height: We })) }, 200) } function h(e) { tt && (e.stopPropagation(), e.preventDefault(), tt = !1) } function f() { if (he || !q) { var e, t = Kt.scrollTop(), a = ta.offset().top, s = ta[0].offsetHeight, n = Te ? Kt.offset().top : t; At(".mbsc-lv-gr-title", ta).each(function (t, a) { At(a).offset().top < n && (e = a) }), a < n && a + s > n ? _e.show().empty().append(At(e).clone()) : _e.hide() } } function p(e, t) { D(t.disabled, { target: Fe[0], index: Le }) && At(".mbsc-ic-" + t.icon, Oe).addClass("mbsc-lv-ic-disabled") } function b(e, t, a, s) { var n, i = { icon: "undo2", text: ut.undoText, color: "#b1b1b1", action: function () { Qt.undo() } }; e.undo && (Qt.startActionTrack(), At.isFunction(e.undo) && Qt.addUndoAction(function () { e.undo.call(ea, { target: t[0], index: a }, Qt) }), Ut = t.attr("data-ref")), n = e.action.call(ea, { target: t[0], index: a }, Qt), e.undo ? (Qt.endActionTrack(), n !== !1 && x(t, +t.attr("data-pos") < 0 ? -100 : 100, 200), it.height(We).insertAfter(t), t.css("top", na).addClass("mbsc-lv-item-undo"), Ke.hide(), He.show(), Oe.append(He), C(i), v(i, t, a, !0, s)) : y(t, n, s) } function v(e, t, a, s, n) { var i, l; Vt = !0, At(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf", function (e) { e.preventDefault(), s && M(t), y(t, !0, n) }), re || He.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf", function (e) { e.stopPropagation(), i = Ot(e, "X"), l = Ot(e, "Y") }).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf", function (r) { r.preventDefault(), "touchend" === r.type && Pt.preventClick(), Math.abs(Ot(r, "X") - i) < 10 && Math.abs(Ot(r, "Y") - l) < 10 && (b(e, t, a, n), s && (zt = null, M(t))) }) } function g() { x(Fe, gt + 100 * ce / Ee), mt = !1 } function y(e, t, a) { At(document).off(".mbsc-lv-conf"), He.off(".mbsc-lv-conf"), t !== !1 ? x(e, 0, "0" !== e.attr("data-pos") ? 200 : 0, !1, function () { T(e, a), k(e) }) : T(e, a), Vt = !1 } function x(e, t, a, s, n) { t = Math.max("right" == Ct ? 0 : -100, Math.min(t, "left" == Ct ? 0 : 100)), wt = e[0].style, e.attr("data-pos", t), wt[Ht + "Transform"] = "translate3d(" + (s ? Ee * t / 100 + "px" : t + "%") + ",0,0)", wt[Ht + "Transition"] = $t + "transform " + (a || 0) + "ms", n && (aa++ , setTimeout(function () { n(), aa-- }, a)), z = t } function _(e, t, a, s) { t = Math.max(ze, Math.min(t, Ue)), wt = e[0].style, wt[Ht + "Transform"] = "translate3d(0," + t + "px,0)", wt[Ht + "Transition"] = $t + "transform " + (a || 0) + "ms ease-out", s && (aa++ , setTimeout(function () { s(), aa-- }, a)) } function w() { clearTimeout(St), !K && Qt.sortable && (K = !0, ye.remove()) } function C(e, t) { var a = D(e.text, { target: Fe[0], index: Le }) || ""; D(e.disabled, { target: Fe[0], index: Le }) ? Oe.addClass("mbsc-lv-ic-disabled") : Oe.removeClass("mbsc-lv-ic-disabled"), Oe.css("background-color", e.color || (0 === e.percent ? O(z) : Xt)), He.attr("class", "mbsc-lv-ic-c mbsc-lv-ic-" + (t ? "move-" : "") + (z < 0 ? "right" : "left")), $e.attr("class", " mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-" + (e.icon || "none")), Dt.attr("class", "mbsc-lv-ic-text" + (e.icon ? "" : " mbsc-lv-ic-text-only") + (a ? "" : " mbsc-lv-ic-only")).html(a || "&nbsp;"), ut.animateIcons && (ct ? $e.addClass("mbsc-lv-ic-v") : setTimeout(function () { $e.addClass("mbsc-lv-ic-a") }, 10)) } function T(e, t) { q || ($e.attr("class", "mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"), Oe.attr("style", "").removeClass("mbsc-lv-stage-c-v"), Dt.html("")), Oe.removeClass("mbsc-lv-left mbsc-lv-right"), e && (ge("onSlideEnd", { target: e[0], index: Le }), t && t()) } function M(e) { e.css("top", "").removeClass("mbsc-lv-item-undo"), zt ? Qt.animate(it, "collapse", function () { it.remove() }) : it.remove(), T(), Ut = null, zt = null } function k(e) { wt = e[0].style, wt[Ht + "Transform"] = "", wt[Ht + "Transition"] = "", wt.top = "", e.removeClass("mbsc-lv-item-swiping") } function D(e, t) { return At.isFunction(e) ? e.call(this, t, Qt) : e } function S(e) { var t; if (e.attr("data-ref") || (t = Lt++ , e.attr("data-ref", t), ra[t] = { item: e, child: e.children(qe), parent: e.parent(), ref: e.parent()[0] === ea ? null : e.parent().parent().attr("data-ref") }), e.addClass("mbsc-lv-item"), Qt.sortable.handle && "list-divider" != e.attr("data-role") && !e.children(".mbsc-lv-handle-c").length && e.append(Me), ut.enhance && !e.hasClass("mbsc-lv-item-enhanced")) { var a = e.attr("data-icon"), s = e.find("img").eq(0).addClass("mbsc-lv-img"); s.is(":first-child") ? e.addClass("mbsc-lv-img-" + (ut.rtl ? "right" : "left")) : s.length && e.addClass("mbsc-lv-img-" + (ut.rtl ? "left" : "right")), e.addClass("mbsc-lv-item-enhanced").children().each(function (e, t) { t = At(t), t.is("p, h1, h2, h3, h4, h5, h6") && t.addClass("mbsc-lv-txt") }), a && e.addClass("mbsc-lv-item-ic-" + (e.attr("data-icon-align") || (ut.rtl ? "right" : "left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-' + a + '"></div>') } } function V(e) { At(je, e).not(".mbsc-lv-item").each(function () { S(At(this)) }), At(je + '[data-role="list-divider"]', e).removeClass("mbsc-lv-item").addClass("mbsc-lv-gr-title"), At(qe, e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Ie).parent().addClass("mbsc-lv-parent").prepend(Pe), At(".mbsc-lv-back", e).each(function () { At(this).attr("data-back", At(this).parent().parent().attr("data-ref")) }) } function A(e) { return e.children(je).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph") } function P(e) { return "object" !== ("undefined" == typeof e ? "undefined" : I(e)) && (e = At(je + '[data-id="' + e + '"]', J)), At(e) } function $(e) { for (var t = 0, a = ra[e.attr("data-ref")]; a && a.ref;)t++ , a = ra[a.ref]; return t } function H(e, t) { for (e = e[t](); e.length && (!e.hasClass("mbsc-lv-item") || e.hasClass("mbsc-lv-ph") || e.hasClass("mbsc-lv-item-dragging"));) { if (!Qt.sortable.group && e.hasClass("mbsc-lv-gr-title")) return !1; e = e[t]() } return e } function O(e) { return (e > 0 ? qt.right : qt.left).color || Xt } function E(e) { return Pt.isNumeric(e) ? e + "" : 0 } function F(e, t) { return +(t < 0 ? E((e.actionsWidth || 0).right) || E(e.actionsWidth) || E(ut.actionsWidth.right) || E(ut.actionsWidth) : E((e.actionsWidth || 0).left) || E(e.actionsWidth) || E(ut.actionsWidth.left) || E(ut.actionsWidth)) } function W(e, t) { if (e) { var a = Kt.scrollTop(), s = e.is(".mbsc-lv-item") ? e[0].offsetHeight : 0, n = e.offset().top + (Te ? a - Jt : 0); t ? (n < a || n + s > a + Gt) && Kt.scrollTop(n) : n < a ? Kt.scrollTop(n) : n + s > a + Gt && Kt.scrollTop(Math.min(n, n + s - Gt / 2)) } } function L(e, t, a, s, n) { var i = t.parent(), l = t.prev(); s = s || Nt, l[0] === He[0] && (l = He.prev()), ee[0] !== t[0] ? (ge("onNavStart", { level: sa, direction: e, list: t[0] }), pt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")), W(J), j(pt, "mbsc-lv-sl-" + e, function () { ee.removeClass("mbsc-lv-sl-curr"), t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"), te && te.length ? ee.removeClass("mbsc-lv-v").insertAfter(te) : ae.append(ee.removeClass("mbsc-lv-v")), te = l, ae = i, ee = t, W(a, n), s.call(ea, a), ge("onNavEnd", { level: sa, direction: e, list: t[0] }) })) : (W(a, n), s.call(ea, a)) } function N(e, t) { aa || (e.hasClass("mbsc-lv-parent") ? (sa++ , L("r", ra[e.attr("data-ref")].child, null, t)) : e.hasClass("mbsc-lv-back") && (sa-- , L("l", ra[e.attr("data-back")].parent, ra[e.attr("data-back")].item, t))) } function j(e, t, a) { function s() { clearTimeout(n), aa-- , e.off(Wt, s).removeClass(t), a.call(ea, e) } var n; a = a || Nt, ut.animation && "mbsc-lv-item-none" !== t ? (aa++ , e.on(Wt, s).addClass(t), n = setTimeout(s, 500)) : a.call(ea, e) } function R(e, t) { var a, s = e.attr("data-ref"); a = la[s] = la[s] || [], t && a.push(t), e.attr("data-action") || (t = a.shift(), e.attr("data-action", 1), t(function () { e.removeAttr("data-action"), a.length ? R(e) : delete la[s] })) } function X(e, t, a) { var s, n; e && e.length && (s = 100 / (e.length + 2), At.each(e, function (i, l) { void 0 === l.key && (l.key = bt++), void 0 === l.percent && (l.percent = t * s * (i + 1), a && (n = Yt({}, l), n.key = bt++ , n.percent = -s * (i + 1), e.push(n), ia[n.key] = n)), ia[l.key] = l })) } var q, B, U, z, K, G, Z, J, Q, ee, te, ae, se, ne, ie, le, re, oe, ce, de, me, ue, he, fe, pe, be, ve, ge, ye, xe, _e, we, Ce, Te, Me, ke, De, Se, Ve, Ae, Ye, Ie, Pe, $e, He, Oe, Ee, Fe, We, Le, Ne, je, Re, Xe, qe, Be, Ue, ze, Ke, Ge, Ze, Je, Qe, et, tt, at, st, nt, it, lt, rt, ot, ct, dt, mt, ut, ht, ft, pt, bt, vt, gt, yt, xt, _t, wt, Ct, Tt, Mt, kt, Dt, St, qt, Bt, Ut, zt, Kt, Gt, Zt, Jt, Qt = this, ea = e, ta = At(ea), aa = 0, sa = 0, na = 0, ia = {}, la = {}, ra = {}; It.Base.call(this, e, t, !0), Qt.animate = function (e, t, a) { j(e, "mbsc-lv-item-" + t, a) }, Qt.add = function (e, t, a, s, n, i) { var l, r, o, c, d, m, u = "", h = void 0 === n ? ta : P(n), f = h, p = "object" !== ("undefined" == typeof t ? "undefined" : I(t)) ? At("<" + Ne + ' data-ref="' + Lt++ + '" data-id="' + e + '">' + t + "</" + Ne + ">") : t, b = p.attr("data-pos") < 0 ? "left" : "right", v = p.attr("data-ref"); s = s || Nt, v || (v = Lt++ , p.addClass("mbsc-lv-item").attr("data-ref", v)), S(p), i || Qt.addUndoAction(function (e) { c ? Qt.navigate(h, function () { f.remove(), h.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(), d.child = h.children(qe), Qt.remove(p, null, e, !0) }) : Qt.remove(p, null, e, !0) }, !0), R(p, function (e) { k(p.css("top", "").removeClass("mbsc-lv-item-undo")), h.is(je) ? (m = h.attr("data-ref"), h.children(qe).length || (c = !0, h.append("<" + Xe + "></" + Xe + ">"))) : m = h.children(".mbsc-lv-back").attr("data-back"), d = ra[m], d && (d.child.length ? f = d.child : (h.addClass("mbsc-lv-parent").prepend(Pe), f = h.children(qe).prepend(Ie).addClass("mbsc-lv"), d.child = f, At(".mbsc-lv-back", h).attr("data-back", m))), ra[v] = { item: p, child: p.children(qe), parent: f, ref: m }, o = A(f), r = o.length, void 0 !== a && null !== a || (a = r), i && (u = "mbsc-lv-item-new-" + (i ? b : "")), V(p.addClass(u)), a !== !1 && (r ? a < r ? p.insertBefore(o.eq(a)) : p.insertAfter(o.eq(r - 1)) : (l = At(".mbsc-lv-back", f), l.length ? p.insertAfter(l) : f.append(p))), f.hasClass("mbsc-lv-v") ? Qt.animate(p.height(p[0].offsetHeight), i && Ut === v ? "none" : "expand", function (t) { Qt.animate(t.height(""), i ? "add-" + b : "pop-in", function (t) { s.call(ea, t.removeClass(u)), e() }) }) : (s.call(ea, p.removeClass(u)), e()), J.trigger("mbsc-refresh"), ge("onItemAdd", { target: p[0] }) }) }, Qt.swipe = function (e, t, s, n, i) { e = P(e), Fe = e, re = n, ft = !0, q = !0, s = void 0 === s ? 300 : s, ce = t > 0 ? 1 : -1, a(), l(), x(e, t, s), clearTimeout(Mt), clearInterval(Tt), Tt = setInterval(function () { z = Pt.getPosition(e) / Ee * 100, r() }, 10), Mt = setTimeout(function () { clearInterval(Tt), z = t, r(), o(i), re = !1, ft = !1, q = !1 }, s) }, Qt.openStage = function (e, t, a, s) { ia[t] && Qt.swipe(e, ia[t].percent, a, s) }, Qt.openActions = function (e, t, a, s) { e = P(e); var n = F(Bt[e.attr("data-type") || "defaults"], "left" == t ? -1 : 1); Qt.swipe(e, "left" == t ? -n : n, a, s) }, Qt.close = function (e, t) { Qt.swipe(e, 0, t) }, Qt.remove = function (e, t, a, s) { var n, i, l; a = a || Nt, e = P(e), e.length && (i = e.parent(), n = A(i).index(e), l = e[0].style, s || (e.attr("data-ref") === Ut && (zt = !0), Qt.addUndoAction(function (t) { Qt.add(null, e, n, t, i, !0) }, !0)), R(e, function (n) { t = t || (e.attr("data-pos") < 0 ? "left" : "right"), i.hasClass("mbsc-lv-v") ? Qt.animate(e.addClass("mbsc-lv-removed"), s ? "pop-out" : "remove-" + t, function (e) { l.height = e[0].offsetHeight + "px", Qt.animate(e, "collapse", function (e) { l.height = "", k(e.removeClass("mbsc-lv-removed")), a.call(ea, e) !== !1 && e.remove(), n() }) }) : (a.call(ea, e) !== !1 && e.remove(), n()), ge("onItemRemove", { target: e[0] }) })) }, Qt.move = function (e, t, a, s, n, i) { e = P(e), i || Qt.startActionTrack(), Oe.append(He), Qt.remove(e, a, null, i), Qt.add(null, e, t, s, n, i), i || Qt.endActionTrack() }, Qt.navigate = function (e, t) { var a, s; e = P(e), a = ra[e.attr("data-ref")], s = $(e), a && (L(s >= sa ? "r" : "l", a.parent, e, t, !0), sa = s) }, Qt._processSettings = function () { ta.is("[mbsc-enhance]") && (we = !0, ta.removeAttr("mbsc-enhance")) }, Qt._init = function () { var e, t, a, l = ta.find(qe).length ? "left" : "right", r = 0, o = "", c = "", d = ""; Xe = ut.listNode, qe = ut.listSelector, Ne = ut.itemNode, je = ut.itemSelector, a = ut.sort || ut.sortable || !1, "group" === a && (a = { group: !1, multiLevel: !0 }), a === !0 && (a = { group: !0, multiLevel: !0, handle: ut.sortHandle }), a && void 0 === a.handle && (a.handle = ut.sortHandle), a.handle && (Ce = a.handle === !0 ? l : a.handle, Me = '<div class="mbsc-lv-handle-c mbsc-lv-item-h-' + Ce + ' mbsc-lv-handle"><div class="' + ut.handleClass + ' mbsc-lv-handle-bar-c mbsc-lv-handle">' + ut.handleMarkup + "</div></div>"), Ie = "<" + Ne + ' class="mbsc-lv-item mbsc-lv-back">' + ut.backText + '<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic ' + ut.leftArrowClass + '"></div></' + Ne + ">", Pe = '<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic ' + ut.rightArrowClass + '"></div>', e = "mbsc-lv-cont mbsc-lv-" + ut.theme + (ut.rtl ? " mbsc-lv-rtl" : "") + (ut.baseTheme ? " mbsc-lv-" + ut.baseTheme : "") + (ut.animateIcons ? " mbsc-lv-ic-anim" : "") + (ut.striped ? " mbsc-lv-alt-row" : "") + (ut.fixedHeader ? " mbsc-lv-has-fixed-header" : "") + (a.handle ? " mbsc-lv-handle-" + Ce : ""), Qt.sortable = a || !1, J ? (J.attr("class", e), a.handle && At(".mbsc-lv-handle-c", ta).remove(), At(je + ":not(.mbsc-lv-back)", ta).removeClass("mbsc-lv-item")) : (o += '<div class="mbsc-lv-multi-c"></div>', o += '<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>', ta.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(), Oe = At('<div class="mbsc-lv-stage-c">' + o + "</div>"), He = At(".mbsc-lv-ic-c", Oe), Ke = At(".mbsc-lv-multi-c", Oe), $e = At(".mbsc-lv-ic-s", Oe), Dt = At(".mbsc-lv-ic-text", Oe), it = At("<" + Ne + ' class="mbsc-lv-item mbsc-lv-ph"></' + Ne + ">"), ye = At('<div class="mbsc-lv-fill-item"></div>'), J = At('<div class="' + e + '"><' + Xe + ' class="mbsc-lv mbsc-lv-dummy"></' + Xe + '><div class="mbsc-lv-sl-c"></div></div>'), Te = "body" !== ut.context, Kt = At(Te ? ut.context : window), fe = At(".mbsc-lv-dummy", J), J.insertAfter(ta), Kt.on("orientationchange resize", u), u(), J.on("touchstart mousedown", ".mbsc-lv-item", s).on("touchmove", ".mbsc-lv-item", n).on("touchend touchcancel", ".mbsc-lv-item", i), ea.addEventListener("click", h, !0), J.on("touchstart mousedown", ".mbsc-lv-ic-m", function (e) { re || (e.stopPropagation(), e.preventDefault()), xt = Ot(e, "X"), _t = Ot(e, "Y") }).on("touchend mouseup", ".mbsc-lv-ic-m", function (e) { re || ("touchend" === e.type && Pt.preventClick(), Vt && !At(this).hasClass("mbsc-lv-ic-disabled") && Math.abs(Ot(e, "X") - xt) < 10 && Math.abs(Ot(e, "Y") - _t) < 10 && b((z < 0 ? qt.rightMenu : qt.leftMenu)[At(this).index()], G, Z)) }), pt = At(".mbsc-lv-sl-c", J).append(ta.addClass("mbsc-lv-sl-curr")).attr("data-ref", Lt++), ee = ta, ae = J), V(ta), bt = 0, Bt = ut.itemGroups || {}, Bt.defaults = { swipeleft: ut.swipeleft, swiperight: ut.swiperight, stages: ut.stages, actions: ut.actions, actionsWidth: ut.actionsWidth }, At.each(Bt, function (e, t) { if (t.swipe = void 0 !== t.swipe ? t.swipe : ut.swipe, t.stages = t.stages || [], X(t.stages, 1, !0), X(t.stages.left, 1), X(t.stages.right, -1), (t.stages.left || t.stages.right) && (t.stages = [].concat(t.stages.left || [], t.stages.right || [])), xe = !1, t.stages.length || (t.swipeleft && t.stages.push({ percent: -30, action: t.swipeleft }), t.swiperight && t.stages.push({ percent: 30, action: t.swiperight })), At.each(t.stages, function (e, t) { if (0 === t.percent) return xe = !0, !1 }), xe || t.stages.push({ percent: 0 }), t.stages.sort(function (e, t) { return e.percent - t.percent }), At.each(t.stages, function (e, a) { if (0 === a.percent) return t.start = e, !1 }), xe ? t.left = t.right = t.stages[t.start] : (t.left = t.stages[t.start - 1] || {}, t.right = t.stages[t.start + 1] || {}), t.actions) { for (t.leftMenu = t.actions.left || t.actions, t.rightMenu = t.actions.right || t.leftMenu, c = "", d = "", r = 0; r < t.leftMenu.length; r++)c += "<div " + (t.leftMenu[r].color ? 'style="background-color: ' + t.leftMenu[r].color + '"' : "") + ' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-' + t.leftMenu[r].icon + '">' + (t.leftMenu[r].text || "") + "</div>"; for (r = 0; r < t.rightMenu.length; ++r)d += "<div " + (t.rightMenu[r].color ? 'style="background-color: ' + t.rightMenu[r].color + '"' : "") + ' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-' + t.rightMenu[r].icon + '">' + (t.rightMenu[r].text || "") + "</div>"; t.actions.left && (t.swipe = t.actions.right ? t.swipe : "right"), t.actions.right && (t.swipe = t.actions.left ? t.swipe : "left"), t.icons = '<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">' + c + '</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">' + d + "</div>" } }), ut.fixedHeader && (t = "mbsc-lv-fixed-header" + (Te ? " mbsc-lv-fixed-header-ctx mbsc-lv-" + ut.theme + (ut.baseTheme ? " mbsc-lv-" + ut.baseTheme : "") : ""), _e ? _e.attr("class", t) : (_e = At('<div class="' + t + '"></div>'), Te ? Kt.before(_e) : J.prepend(_e), et = Pt.throttle(f, 200), Kt.on("scroll touchmove", et))), ut.hover && (Ve || J.on("mouseover.mbsc-lv", ".mbsc-lv-item", function () { De && De[0] == this || (m(), De = At(this), Bt[De.attr("data-type") || "defaults"].actions && (Ye = setTimeout(function () { at ? De = null : (Se = !0, Qt.openActions(De, ke, Ve, !1)) }, Ae))) }).on("mouseleave.mbsc-lv", m), Ve = ut.hover.time || 200, Ae = ut.hover.timeout || 200, ke = ut.hover.direction || ut.hover || "right"), we && J.attr("mbsc-enhance", ""), J.trigger("mbsc-enhance", [{ theme: ut.theme, lang: ut.lang }]) }, Qt._destroy = function () { var e; ae.append(ee), Te && _e && _e.remove(), we && (ta.attr("mbsc-enhance", ""), e = Y.instances[J[0].id], e && e.destroy()), ea.removeEventListener("click", h, !0), J.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"), J.find(qe).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(je).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"), At(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic", J).remove(), ta.insertAfter(J), J.remove(), Oe.remove(), Kt.off("orientationchange resize", u), et && Kt.off("scroll touchmove", et) }; var oa, ca = [], da = [], ma = [], ua = 0; Qt.startActionTrack = function () { ua || (ma = []), ua++ }, Qt.endActionTrack = function () { ua-- , ua || da.push(ma) }, Qt.addUndoAction = function (e, t) { var a = { action: e, async: t }; ua ? ma.push(a) : (da.push([a]), da.length > ut.undoLimit && da.shift()) }, Qt.undo = function () { function e() { s < 0 ? (oa = !1, t()) : (a = n[s], s-- , a.async ? a.action(e) : (a.action(), e())) } function t() { n = ca.shift(), n && (oa = !0, s = n.length - 1, e()) } var a, s, n; da.length && ca.push(da.pop()), oa || t() }, ut = Qt.settings, ge = Qt.trigger, Qt.init(t) }; qt.prototype = { _class: "listview", _hasDef: !0, _hasTheme: !0, _hasLang: !0, _defaults: { context: "body", actionsWidth: 90, sortDelay: 250, undoLimit: 10, swipe: !0, quickSwipe: !0, animateIcons: !0, animation: !0, revert: !0, vibrate: !0, handleClass: "", handleMarkup: '<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>', listNode: "ul", listSelector: "ul,ol", itemNode: "li", itemSelector: "li", leftArrowClass: "mbsc-ic-arrow-left4", rightArrowClass: "mbsc-ic-arrow-right4", backText: "Back", undoText: "Undo", stages: [] } }, It.ListView = qt, Y.themes.listview.mobiscroll = { leftArrowClass: "mbsc-ic-arrow-left5", rightArrowClass: "mbsc-ic-arrow-right5" }, Y.presetShort("listview", "ListView"); var Bt = Y.$, Ut = { batch: 50, min: 0, max: 100, defaultUnit: "", units: null, unitNames: null, invalid: [], sign: !1, step: .05, scale: 2, convert: function (e) { return e }, signText: "&nbsp;", wholeText: "Whole", fractionText: "Fraction", unitText: "Unit" }; Y.presets.scroller.measurement = function (e) { function t(e) { return Math.max(y, Math.min(x, E ? e < 0 ? Math.ceil(e) : Math.floor(e) : i(Math.round(e - R), N) + R)) } function a(e) { return E ? i((Math.abs(e) - Math.abs(t(e))) * L - X, N) + X : 0 } function s(e) { var s = t(e), n = a(e), i = e < 0 ? "-" : "+"; return n >= L && (e < 0 ? s-- : s++ , n = 0), [i, s, n] } function n(e) { var t = +e[p], a = E ? e[f] / L * (t < 0 ? -1 : 1) : 0; return (P && "-" == e[0] ? -1 : 1) * (t + a) } function i(e, t) { return Math.round(e / t) * t } function l(e, t) { for (e += ""; e.length < t;)e = "0" + e; return e } function r(e, t, a) { return t !== a && k.convert ? k.convert.call(this, e, t, a) : e } function o(e, t, a) { return e = e > a ? a : e, e = e < t ? t : e } function c(e) { var t, s; v = r(k.min, H, e), g = r(k.max, H, e), E ? (y = v < 0 ? Math.ceil(v) : Math.floor(v), x = g < 0 ? Math.ceil(g) : Math.floor(g), _ = a(v), w = a(g)) : (y = Math.round(v), x = Math.round(g), x = y + Math.floor((x - y) / N) * N, R = y % N), t = y, s = x, P && (s = Math.abs(t) > Math.abs(s) ? Math.abs(t) : Math.abs(s), t = t < 0 ? 0 : t), A.min = t < 0 ? Math.ceil(t / F) : Math.floor(t / F), A.max = s < 0 ? Math.ceil(s / F) : Math.floor(s / F) } function d(e) { return n(e).toFixed(E ? W : 0) + ($ ? " " + O[e[b]] : "") } var m, u, h, f, p, b, v, g, y, x, _, w, C, T, M = Bt.extend({}, e.settings), k = Bt.extend(e.settings, Ut, M), D = {}, S = [[]], V = {}, A = {}, Y = {}, I = [], P = k.sign, $ = k.units && k.units.length, H = $ ? k.defaultUnit || k.units[0] : "", O = [], E = k.step < 1, F = k.step > 1 ? k.step : 1, W = E ? Math.max(k.scale, (k.step + "").split(".")[1].length) : 1, L = Math.pow(10, W), N = Math.round(E ? k.step * L : k.step), j = -1, R = 0, X = 0, q = 0; if (e.setVal = function (t, a, s, n, i) { e._setVal(Bt.isArray(t) ? d(t) : t, a, s, n, i) }, k.units) for (T = 0; T < k.units.length; ++T)C = k.units[T], O.push(k.unitNames ? k.unitNames[C] || C : C); if (P) if (P = !1, $) for (T = 0; T < k.units.length; T++)r(k.min, H, k.units[T]) < 0 && (P = !0); else P = k.min < 0; if (P && (S[0].push({ data: ["-", "+"], label: k.signText }), j = q++), A = { label: k.wholeText, data: function (e) { return y % F + e * F }, getIndex: function (e) { return Math.round((e - y % F) / F) } }, S[0].push(A), p = q++ , c(H), E) { for (S[0].push(Y), Y.data = [], Y.label = k.fractionText, T = X; T < L; T += N)I.push(T), Y.data.push({ value: T, display: "." + l(T, W) }); f = q++ , m = Math.ceil(100 / N), k.invalid && k.invalid.length && (Bt.each(k.invalid, function (e, t) { var a = t > 0 ? Math.floor(t) : Math.ceil(t); 0 === a && (a = t <= 0 ? -.001 : .001), V[a] = (V[a] || 0) + 1, 0 === t && (a = .001, V[a] = (V[a] || 0) + 1) }), Bt.each(V, function (e, t) { t < m ? delete V[e] : V[e] = e })) } if ($) { for (D = { data: [], label: k.unitText, cssClass: "mbsc-msr-whl-unit", circular: !1 }, T = 0; T < k.units.length; T++)D.data.push({ value: T, display: O[T] }); S[0].push(D) } return b = q, { wheels: S, minWidth: P && E ? 70 : 80, showLabel: !1, formatValue: d, compClass: "mbsc-msr", parseValue: function (e) { var t, a = ("number" == typeof e ? e + "" : e) || k.defaultValue, n = (a + "").split(" "), i = +n[0], l = [], r = ""; return $ && (r = Bt.inArray(n[1], O), r = r == -1 ? Bt.inArray(H, k.units) : r, r = r == -1 ? 0 : r), h = $ ? k.units[r] : "", c(h), i = isNaN(i) ? 0 : i, i = o(i, v, g), t = s(i), t[1] = o(t[1], y, x), u = i, P && (l[0] = t[0], t[1] = Math.abs(t[1])), l[p] = t[1], E && (l[f] = t[2]), $ && (l[b] = r), l }, onCancel: function () { u = void 0 }, validate: function (t) { var a, l, d, m, C, T = t.values, M = t.index, D = t.direction, S = {}, Y = [], O = {}, W = $ ? k.units[T[b]] : ""; if (P && 0 === M && (u = Math.abs(u) * ("-" == T[0] ? -1 : 1)), (M === p || M === f && E || void 0 === u || void 0 === M) && (u = n(T), h = W), ($ && M === b && h !== W || void 0 === M) && (c(W), u = r(u, h, W), h = W, l = s(u), void 0 !== M && (O[p] = A, e.changeWheel(O)), P && (T[0] = l[0])), Y[p] = [], P) for (Y[0] = [], v > 0 && (Y[0].push("-"), T[0] = "+"), g < 0 && (Y[0].push("+"), T[0] = "-"), C = Math.abs("-" == T[0] ? y : x), q = C + F; q < C + 20 * F; q += F)Y[p].push(q), S[q] = !0; if (u = o(u, v, g), l = s(u), d = P ? Math.abs(l[1]) : l[1], a = P ? "-" == T[0] : u < 0, T[p] = d, a && (l[0] = "-"), E && (T[f] = l[2]), Bt.each(E ? V : k.invalid, function (e, t) { if (P && a) { if (!(t <= 0)) return; t = Math.abs(t) } t = i(r(t, H, W), E ? 1 : N), S[t] = !0, Y[p].push(t) }), T[p] = e.getValidValue(p, d, D, S), l[1] = T[p] * (P && a ? -1 : 1), E) { Y[f] = []; var L = P ? T[0] + T[1] : (u < 0 ? "-" : "+") + Math.abs(l[1]), j = (v < 0 ? "-" : "+") + Math.abs(y), R = (g < 0 ? "-" : "+") + Math.abs(x); L === j && Bt(I).each(function (e, t) { (a ? t > _ : t < _) && Y[f].push(t) }), L === R && Bt(I).each(function (e, t) { (a ? t < w : t > w) && Y[f].push(t) }), Bt.each(k.invalid, function (e, t) { m = s(r(t, H, W)), (l[0] === m[0] || 0 === l[1] && 0 === m[1] && 0 === m[2]) && l[1] === m[1] && Y[f].push(m[2]) }) } return { disabled: Y, valid: T } } } }, Y.presetShort("measurement"), Y.presets.scroller.number = Y.presets.scroller.measurement, Y.presetShort("number"); var zt = Y.$, Kt = Y.util, Gt = Y.presets.numpad, Zt = Kt.testTouch, Jt = Kt.getCoord, Qt = Kt.isNumeric, ea = function () { }, ta = function (e, t, a) {
                function s(t) {
                    var a, s = g.validate.call(e, { values: S.slice(0), variables: E }, $) || [], i = s && s.disabled || []; if ($._isValid = !s.invalid, $._tempValue = g.formatValue.call(e, S.slice(0), E, $), v = S.length, V = s.length || Y, $._isVisible) {
                        if (zt(".mbsc-np-ph", f).each(function (e) { zt(this).html("ltr" == g.fill ? e >= v ? b : y || S[e] : e >= Y - V ? e + v < Y ? b : y || S[e + v - Y] : "") }), zt(".mbsc-np-cph", f).each(function () { zt(this).html(E[zt(this).attr("data-var")] || zt(this).attr("data-ph")) }), v === Y) for (a = 0; a <= 9; a++)i.push(a); for (zt(".mbsc-np-btn", f).removeClass(p), a = 0; a < i.length; a++)zt('.mbsc-np-btn[data-val="' + i[a] + '"]', f).addClass(p); $._isValid ? zt(".mbsc-fr-btn-s .mbsc-fr-btn", f).removeClass(p) : zt(".mbsc-fr-btn-s .mbsc-fr-btn", f).addClass(p), $.live && ($._hasValue = t || $._hasValue,
                            n(t, !1, t), t && A("onSet", { valueText: $._value }))
                    }
                } function n(e, t, a, n) { t && s(), n || (I = S.slice(0), F = zt.extend({}, E), H = O.slice(0), $._value = $._hasValue ? $._tempValue : null), e && ($._isInput && P.val($._hasValue && $._isValid ? $._value : ""), A("onFill", { valueText: $._hasValue ? $._tempValue : "", change: a }), a && ($._preventChange = !0, P.trigger("change"))) } function i(e) { var t, a, s = e || [], n = []; for (O = [], E = {}, t = 0; t < s.length; t++)/:/.test(s[t]) ? (a = s[t].split(":"), E[a[0]] = a[1], O.push(a[0])) : (n.push(s[t]), O.push("digit")); return n } function l(e, t) { !(v || t || g.allowLeadingZero) || e.hasClass("mbsc-fr-btn-d") || e.hasClass("mbsc-np-btn-empty") || v < Y && (O.push("digit"), S.push(t), s(!0)) } function r(e) { var t, a, n = e.attr("data-val"), i = "false" !== e.attr("data-track"), l = e.attr("data-var"); if (!e.hasClass("mbsc-fr-btn-d")) { if (l && (a = l.split(":"), i && O.push(a[0]), E[a[0]] = void 0 === a[2] ? a[1] : E[a[0]] == a[1] ? a[2] : a[1]), n.length + v <= V) for (t = 0; t < n.length; ++t)a = Qt(n[t]) ? +n[t] : n[t], (g.allowLeadingZero || v || a) && (O.push("digit"), S.push(a), v = S.length); s(!0) } } function o() { var e, t, a = O.pop(); if (v || "digit" !== a) { if ("digit" !== a && E[a]) for (delete E[a], t = O.slice(0), O = [], e = 0; e < t.length; e++)t[e] !== a && O.push(t[e]); else S.pop(); s(!0) } } function c(e) { k = !0, x = Jt(e, "X"), _ = Jt(e, "Y"), clearInterval(D), clearTimeout(D), o(), D = setInterval(function () { o() }, 150) } function d() { clearInterval(D), k = !1 } function m(e) { Zt(e, this) && (c(e), "mousedown" === e.type && zt(document).on("mousemove", u).on("mouseup", h)) } function u(e) { k && (w = Jt(e, "X"), C = Jt(e, "Y"), T = w - x, M = C - _, (Math.abs(T) > 7 || Math.abs(M) > 7) && d()) } function h(e) { k && (e.preventDefault(), d(), "mouseup" === e.type && zt(document).off("mousemove", u).off("mouseup", h)) } var f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, Y, I, P = zt(e), $ = this, H = [], O = [], E = {}, F = {}, W = { 107: "+", 109: "-" }, L = { 48: 0, 49: 1, 50: 2, 51: 3, 52: 4, 53: 5, 54: 6, 55: 7, 56: 8, 57: 9, 96: 0, 97: 1, 98: 2, 99: 3, 100: 4, 101: 5, 102: 6, 103: 7, 104: 8, 105: 9 }; ge.call(this, e, t, !0), $.setVal = $._setVal = function (t, a, s, l) { $._hasValue = null !== t && void 0 !== t, S = i(zt.isArray(t) ? t.slice(0) : g.parseValue.call(e, t, $)), n(a, !0, void 0 === s ? a : s, l) }, $.getVal = $._getVal = function (e) { return $._hasValue || e ? $[e ? "_tempValue" : "_value"] : null }, $.setArrayVal = $.setVal, $.getArrayVal = function (e) { return e ? S.slice(0) : $._hasValue ? I.slice(0) : null }, $._readValue = function () { var t = P.val() || ""; "" !== t && ($._hasValue = !0), y ? (E = {}, O = [], S = []) : (E = $._hasValue ? F : {}, O = $._hasValue ? H : [], S = $._hasValue && I ? I.slice(0) : i(g.parseValue.call(e, t, $)), n(!1, !0)) }, $._fillValue = function () { $._hasValue = !0, n(!0, !1, !0) }, $._generateContent = function () { var e, t, a, s = 1, n = "", i = ""; for (i += '<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="' + g.deleteText + '" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-' + g.deleteIcon + '"></div><div class="mbsc-np-dsp">', n = g.template.replace(/d/g, '<span class="mbsc-np-ph">' + b + "</span>").replace(/&#100;/g, "d"), n = n.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g, '<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'), i += n, i += "</div></div>", i += '<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">', e = 0; e < 4; e++) { for (i += '<div class="mbsc-np-row">', t = 0; t < 3; t++)a = s, 10 == s || 12 == s ? a = "" : 11 == s && (a = 0), i += "" === a ? 10 == s && g.leftKey ? '<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" ' + (g.leftKey.variable ? 'data-var="' + g.leftKey.variable + '"' : "") + ' data-val="' + (g.leftKey.value || "") + '" ' + (void 0 !== g.leftKey.track ? ' data-track="' + g.leftKey.track + '"' : "") + ">" + g.leftKey.text + "</div>" : 12 == s && g.rightKey ? '<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" ' + (g.rightKey.variable ? 'data-var="' + g.rightKey.variable + '"' : "") + ' data-val="' + (g.rightKey.value || "") + '" ' + (void 0 !== g.rightKey.track ? ' data-track="' + g.rightKey.track + '"' : "") + " >" + g.rightKey.text + "</div>" : '<div class="mbsc-np-btn mbsc-np-btn-empty"></div>' : '<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="' + a + '">' + a + "</div>", s++; i += "</div>" } return i += "</div></div>" }, $._markupReady = function () { f = $._markup, s() }, $._attachEvents = function (e) { e.on("keydown", function (t) { var a; void 0 !== W[t.keyCode] ? (a = zt('.mbsc-np-btn[data-var="sign:-:"]', e), a.length && (E.sign = 107 == t.keyCode ? "-" : "", r(a))) : void 0 !== L[t.keyCode] ? l(zt('.mbsc-np-btn[data-val="' + L[t.keyCode] + '"]', e), L[t.keyCode]) : 8 == t.keyCode && (t.preventDefault(), o()) }), $.tap(zt(".mbsc-np-btn", e), function () { var e = zt(this); e.hasClass("mbsc-np-btn-custom") ? r(e) : l(e, +e.attr("data-val")) }, !1, 30, !0), zt(".mbsc-np-del", e).on("touchstart mousedown keydown", m).on("touchmove mousemove", u).on("keyup mouseup touchend", h) }, $.__init = function () { g = $.settings, g.cssClass = (g.cssClass || "") + " mbsc-np", g.template = g.template.replace(/\\d/, "&#100;"), b = g.placeholder, Y = (g.template.match(/d/g) || []).length, p = "mbsc-fr-btn-d " + (g.disabledClass || ""), y = g.mask, A = $.trigger, y && P.is("input") && P.attr("type", "password") }, $._indexOf = function (e, t) { var a; for (a = 0; a < e.length; ++a)if (e[a].toString() === t.toString()) return a; return -1 }, a || $.init(t)
            }; ta.prototype = { _hasDef: !0, _hasTheme: !0, _hasLang: !0, _hasPreset: !0, _class: "numpad", _defaults: zt.extend({}, ge.prototype._defaults, { template: "dd.dd", placeholder: "0", deleteIcon: "backspace", allowLeadingZero: !1, headerText: !1, fill: "rtl", deleteText: "Delete", decimalSeparator: ".", thousandsSeparator: ",", validate: ea, parseValue: ea, formatValue: function (e, t, a) { var s, n = 1, i = a.settings, l = i.placeholder, r = i.template, o = e.length, c = r.length, d = ""; for (s = 0; s < c; s++)"d" == r[c - s - 1] ? (d = n <= o ? e[o - n] + d : l + d, n++) : d = r[c - s - 1] + d; return zt.each(t, function (e, t) { d = d.replace("{" + e + "}", t) }), zt("<div>" + d + "</div>").text() } }) }, Y.classes.Numpad = ta, Y.themes.numpad = Y.themes.frame, Y.presetShort("numpad", "Numpad", !1); var aa = { min: 0, max: 99.99, scale: 2, prefix: "", suffix: "", returnAffix: !1 }; Gt.decimal = function (e) { function t(e, t) { for (var a, s = e.slice(0), i = 0; s.length;)i = 10 * i + s.shift(); for (a = 0; a < n.scale; a++)i /= 10; return t ? i * -1 : i } function a(e) { var a = t(e).toFixed(n.scale).replace(".", n.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g, n.thousandsSeparator); return a } var s = zt.extend({}, e.settings), n = zt.extend(e.settings, aa, s), i = n.min < 0; return e.getVal = function (t) { var a = e._getVal(t), s = (a + "").replace(n.decimalSeparator, ".").replace(n.thousandsSeparator, ""); return Kt.isNumeric(s) ? +s : a }, { template: (i ? "{sign}" : "") + n.prefix.replace(/d/g, "\\d") + Array((Math.floor(Math.max(n.max, Math.abs(n.min))) + "").length + 1).join("d") + (n.scale ? "." + Array(n.scale + 1).join("d") : "") + n.suffix.replace(/d/g, "\\d"), leftKey: i ? { text: "-/+", variable: "sign:-:", track: !1 } : void 0, parseValue: function (e) { var t, a, s = e || n.defaultValue, i = []; if (s && (s = (s + "").replace(n.decimalSeparator, ".").replace(n.thousandsSeparator, ""), a = s.match(/\d+\.?\d*/g))) for (a = (+a[0]).toFixed(n.scale), t = 0; t < a.length; t++)"." != a[t] && (+a[t] ? i.push(+a[t]) : i.length && i.push(0)); return e < 0 && i.push("sign:-"), i }, formatValue: function (e, s) { var i = a(e), l = t(e, s && "-" == s.sign); return (l < 0 ? "-" : "") + (n.returnAffix ? n.prefix + i + n.suffix : i) }, validate: function (s) { var i = s.values, l = a(i), r = t(i, s.variables && "-" == s.variables.sign), o = []; return i.length || n.allowLeadingZero || o.push(0), e.isVisible() && zt(".mbsc-np-dsp", e._markup).html((s.variables.sign || "") + n.prefix + l + n.suffix), { disabled: o, invalid: r > n.max || r < n.min || !!n.invalid && e._indexOf(n.invalid, r) != -1 } } } }; var sa = ["h", "m", "s"], na = { min: 0, max: 362439, defaultValue: 0, hourTextShort: "h", minuteTextShort: "m", secTextShort: "s" }; Gt.timespan = function (e) { function t(e) { var t, a = "", s = 3600; return zt(sa).each(function (i, l) { t = Math.floor(e / s), e -= t * s, s /= 60, (t > 0 || "s" == l && !a) && (a = a + (a ? " " : "") + t + n[l]) }), a } var a = zt.extend({}, e.settings), s = zt.extend(e.settings, na, a), n = { h: s.hourTextShort.replace(/d/g, "\\d"), m: s.minuteTextShort.replace(/d/g, "\\d"), s: s.secTextShort.replace(/d/g, "\\d") }, i = 'd<span class="mbsc-np-sup mbsc-np-time">' + n.s + "</span>"; return s.max > 9 && (i = "d" + i), s.max > 99 && (i = '<span class="mbsc-np-ts-m">' + (s.max > 639 ? "d" : "") + 'd</span><span class="mbsc-np-sup mbsc-np-time">' + n.m + "</span>" + i), s.max > 6039 && (i = '<span class="mbsc-np-ts-h">' + (s.max > 38439 ? "d" : "") + 'd</span><span class="mbsc-np-sup mbsc-np-time">' + n.h + "</span>" + i), e.setVal = function (a, s, n, i) { return Kt.isNumeric(a) && (a = t(a)), e._setVal(a, s, n, i) }, e.getVal = function (t) { return e._hasValue || t ? u(e.getArrayVal(t)) : null }, { template: i, parseValue: function (e) { var a, i = e || t(s.defaultValue), l = []; return i && zt(sa).each(function (e, t) { a = new RegExp("(\\d+)" + n[t], "gi").exec(i), a ? (a = +a[1], a > 9 ? (l.push(Math.floor(a / 10)), l.push(a % 10)) : (l.length && l.push(0), (a || l.length) && l.push(a))) : l.length && (l.push(0), l.push(0)) }), l }, formatValue: function (e) { return t(u(e)) }, validate: function (t) { var a = t.values, n = u(a.slice(0)), i = []; return a.length || i.push(0), { disabled: i, invalid: n > s.max || n < s.min || !!s.invalid && e._indexOf(s.invalid, +n) != -1 } } } }; var ia = { timeFormat: "hh:ii A", amText: "am", pmText: "pm" }; Gt.time = function (e) { function t(e, t) { var a, s = ""; for (a = 0; a < e.length; ++a)s += e[a] + (a % 2 == (e.length % 2 == 1 ? 0 : 1) && a != e.length - 1 ? ":" : ""); return zt.each(t, function (e, t) { s += " " + t }), s } function a(e) { var t, a, s, r, o, b, v, g, y, x, _ = [], w = 2 * i.length; if (c = w, e.length || (l && (_.push(0), _.push(n.leftKey.value)), _.push(n.rightKey.value)), !l && (w - e.length < 2 || 1 != e[0] && (e[0] > 2 || e[1] > 3) && w - e.length <= 2) && (_.push("30"), _.push("00")), (l ? e[0] > 1 || e[1] > 2 : 1 != e[0] && (e[0] > 2 || e[1] > 3)) && e[0] && (e.unshift(0), c = w - 1), e.length == w) for (t = 0; t <= 9; ++t)_.push(t); else if (1 == e.length && l && 1 == e[0] || e.length && e.length % 2 === 0 || !l && 2 == e[0] && e[1] > 3 && e.length % 2 == 1) for (t = 6; t <= 9; ++t)_.push(t); if (y = void 0 !== e[1] ? "" + e[0] + e[1] : "", x = +h == +(void 0 !== e[3] ? "" + e[2] + e[3] : ""), n.invalid) for (t = 0; t < n.invalid.length; ++t)if (b = n.invalid[t].getHours(), v = n.invalid[t].getMinutes(), g = n.invalid[t].getSeconds(), b == +y) { if (2 == i.length && (v < 10 ? 0 : +("" + v)[0]) == +e[2]) { _.push(v < 10 ? v : +("" + v)[1]); break } if ((g < 10 ? 0 : +("" + g)[0]) == +e[4]) { _.push(g < 10 ? g : +("" + g)[1]); break } } if (n.min || n.max) { if (a = +d == +y, s = +m == +y, o = s && x, r = a && x, 0 === e.length) { for (t = l ? 2 : d > 19 ? d[0] : 3; t <= (1 == d[0] ? 9 : d[0] - 1); ++t)_.push(t); if (d >= 10 && (_.push(0), 2 == d[0])) for (t = 3; t <= 9; ++t)_.push(t); if (m && m < 10 || d && d >= 10) for (t = m && m < 10 ? +m[0] + 1 : 0; t < (d && d >= 10 ? d[0] : 10); ++t)_.push(t) } if (1 == e.length) { if (0 === e[0]) for (t = 0; t < d[0]; ++t)_.push(t); if (d && 0 !== e[0] && (l ? 1 == e[0] : 2 == e[0])) for (t = l ? 3 : 4; t <= 9; ++t)_.push(t); if (e[0] == d[0]) for (t = 0; t < d[1]; ++t)_.push(t); if (e[0] == m[0] && !l) for (t = +m[1] + 1; t <= 9; ++t)_.push(t) } if (2 == e.length && (a || s)) for (t = s ? +h[0] + 1 : 0; t < (a ? +u[0] : 10); ++t)_.push(t); if (3 == e.length && (s && e[2] == h[0] || a && e[2] == u[0])) for (t = s && e[2] == h[0] ? +h[1] + 1 : 0; t < (a && e[2] == u[0] ? +u[1] : 10); ++t)_.push(t); if (4 == e.length && (r || o)) for (t = o ? +p[0] + 1 : 0; t < (r ? +f[0] : 10); ++t)_.push(t); if (5 == e.length && (r && e[4] == f[0] || o && e[4] == p[0])) for (t = o && e[4] == p[0] ? +p[1] + 1 : 0; t < (r && e[4] == f[0] ? +f[1] : 10); ++t)_.push(t) } return _ } var s = zt.extend({}, e.settings), n = zt.extend(e.settings, ia, s), i = n.timeFormat.split(":"), l = n.timeFormat.match(/a/i), r = l ? "a" == l[0] ? n.amText : n.amText.toUpperCase() : "", o = l ? "a" == l[0] ? n.pmText : n.pmText.toUpperCase() : "", c = 0, d = n.min ? "" + n.min.getHours() : "", m = n.max ? "" + n.max.getHours() : "", u = n.min ? "" + (n.min.getMinutes() < 10 ? "0" + n.min.getMinutes() : n.min.getMinutes()) : "", h = n.max ? "" + (n.max.getMinutes() < 10 ? "0" + n.max.getMinutes() : n.max.getMinutes()) : "", f = n.min ? "" + (n.min.getSeconds() < 10 ? "0" + n.min.getSeconds() : n.min.getSeconds()) : "", p = n.max ? "" + (n.max.getSeconds() < 10 ? "0" + n.max.getSeconds() : n.max.getSeconds()) : ""; return n.min ? n.min.setFullYear(2014, 7, 20) : "", n.max ? n.max.setFullYear(2014, 7, 20) : "", { placeholder: "-", allowLeadingZero: !0, template: (3 == i.length ? "dd:dd:dd" : 2 == i.length ? "dd:dd" : "dd") + (l ? '<span class="mbsc-np-sup">{ampm:--}</span>' : ""), leftKey: l ? { text: r, variable: "ampm:" + r, value: "00" } : { text: ":00", value: "00" }, rightKey: l ? { text: o, variable: "ampm:" + o, value: "00" } : { text: ":30", value: "30" }, parseValue: function (e) { var t, a, s = e || n.defaultValue, i = []; if (s) { if (s += "", a = s.match(/\d/g)) for (t = 0; t < a.length; t++)i.push(+a[t]); l && i.push("ampm:" + (s.match(new RegExp(n.pmText, "gi")) ? o : r)) } return i }, formatValue: function (e, a) { return t(e, a) }, validate: function (s) { var i = s.values, r = s.variables, o = t(i, r), d = i.length >= 3 ? new Date(2014, 7, 20, "" + i[0] + (i.length % 2 === 0 ? i[1] : ""), "" + i[i.length % 2 === 0 ? 2 : 1] + i[i.length % 2 === 0 ? 3 : 2]) : ""; return { disabled: a(i), length: c, invalid: (l ? !new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:" + n.amText + "|" + n.pmText + ")$", "i").test(o) : !/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o)) || !!n.invalid && e._indexOf(n.invalid, d) != -1 || !((!n.min || n.min <= d) && (!n.max || d <= n.max)) } } } }; var la = { dateOrder: "mdy", dateFormat: "mm/dd/yy", delimiter: "/" }; Gt.date = function (e) { function t(e) { return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0 } function a(e) { var a, s, r, o, c, m = [], g = void 0 !== e[n + 3] ? "" + e[n] + e[n + 1] + e[n + 2] + e[n + 3] : "", y = void 0 !== e[i + 1] ? "" + e[i] + e[i + 1] : "", x = void 0 !== e[l + 1] ? "" + e[l] + e[l + 1] : "", _ = "" + d.getMaxDayOfMonth(g || 2012, y - 1 || 0), w = b === g && +u === +y, C = v === g && +h === +y; if (d.invalid) for (a = 0; a < d.invalid.length; ++a) { if (r = d.getYear(d.invalid[a]), o = d.getMonth(d.invalid[a]), c = d.getDay(d.invalid[a]), r == +g && o + 1 == +y && (c < 10 ? 0 : +("" + c)[0]) == +e[l]) { m.push(c < 10 ? c : +("" + c)[1]); break } if (o + 1 == +y && c == +x && ("" + r).substring(0, 3) == "" + e[n] + e[n + 1] + e[n + 2]) { m.push(("" + r)[3]); break } if (r == +g && c == +x && (o < 10 ? 0 : +("" + (o + 1))[0]) == +e[i]) { m.push(o < 10 ? o : +("" + (o + 1))[1]); break } } if ("31" != x || e.length != i && e.length != i + 1 || (1 != e[i] ? m.push(2, 4, 6, 9, 11) : m.push(1)), "30" == x && 0 === e[i] && e.length <= i + 1 && m.push(2), e.length == i) { for (a = v === g && +h < 10 ? 1 : 2; a <= 9; ++a)m.push(a); b === g && +u >= 10 && m.push(0) } if (e.length == i + 1) { if (1 == e[i]) { for (a = v === g ? +h[1] + 1 : 3; a <= 9; ++a)m.push(a); if (b == g) for (a = 0; a < +u[1]; ++a)m.push(a) } if (0 === e[i] && (m.push(0), v === g || b === g)) for (a = v === g ? +x > +p ? +h : +h + 1 : 0; a <= (b === g ? +x < +f ? +u - 1 : +u - 1 : 9); ++a)m.push(a) } if (e.length == l) { for (a = C ? (+p > 10 ? +p[0] : 0) + 1 : +_[0] + 1; a <= 9; ++a)m.push(a); if (w) for (a = 0; a < (+f < 10 ? 0 : f[0]); ++a)m.push(a) } if (e.length == l + 1) { if (e[l] >= 3 || "02" == y) for (a = +_[1] + 1; a <= 9; ++a)m.push(a); if (C && +p[0] == e[l]) for (a = +p[1] + 1; a <= 9; ++a)m.push(a); if (w && f[0] == e[l]) for (a = 0; a < +f[1]; ++a)m.push(a); if (0 === e[l] && (m.push(0), C || w)) for (a = C ? +p + 1 : 1; a <= (w ? +f - 1 : 9); ++a)m.push(a) } if (void 0 !== e[n + 2] && "02" == y && "29" == x) for (s = +("" + e[n] + e[n + 1] + e[n + 2] + 0); s <= +("" + e[n] + e[n + 1] + e[n + 2] + 9); ++s)m.push(t(s) ? "" : s % 10); if (e.length == n) { if (d.min) for (a = 0; a < +b[0]; ++a)m.push(a); if (d.max) for (a = +v[0] + 1; a <= 9; ++a)m.push(a); m.push(0) } if (d.min || d.max) for (s = 1; s < 4; ++s)if (e.length == n + s) { if (e[n + s - 1] == +b[s - 1] && (3 != s || e[n + s - 2] == +b[s - 2])) for (a = 0; a < +b[s] + (3 == s && e[i + 1] && +u > +y ? 1 : 0); ++a)m.push(a); if (e[n + s - 1] == +v[s - 1] && (3 != s || e[n + s - 2] == +v[s - 2])) for (a = +v[s] + (3 == s && +h < +y ? 0 : 1); a <= 9; ++a)m.push(a) } return m } function s(e) { return new Date(+("" + e[n] + e[n + 1] + e[n + 2] + e[n + 3]), +("" + e[i] + e[i + 1]) - 1, +("" + e[l] + e[l + 1])) } var n, i, l, r, o = [], c = zt.extend({}, e.settings), d = zt.extend(e.settings, Je.defaults, la, c), m = d.dateOrder, u = d.min ? "" + (d.getMonth(d.min) + 1) : 0, h = d.max ? "" + (d.getMonth(d.max) + 1) : 0, f = d.min ? "" + d.getDay(d.min) : 0, p = d.max ? "" + d.getDay(d.max) : 0, b = d.min ? "" + d.getYear(d.min) : 0, v = d.max ? "" + d.getYear(d.max) : 0; for (m = m.replace(/y+/gi, "yyyy"), m = m.replace(/m+/gi, "mm"), m = m.replace(/d+/gi, "dd"), n = m.toUpperCase().indexOf("Y"), i = m.toUpperCase().indexOf("M"), l = m.toUpperCase().indexOf("D"), m = "", o.push({ val: n, n: "yyyy" }, { val: i, n: "mm" }, { val: l, n: "dd" }), o.sort(function (e, t) { return e.val - t.val }), zt.each(o, function (e, t) { m += t.n }), n = m.indexOf("y"), i = m.indexOf("m"), l = m.indexOf("d"), m = "", r = 0; r < 8; ++r)m += "d", r + 1 != n && r + 1 != i && r + 1 != l || (m += d.delimiter); return e.getVal = function (t) { return e._hasValue || t ? s(e.getArrayVal(t)) : null }, { placeholder: "-", fill: "ltr", allowLeadingZero: !0, template: m, parseValue: function (e) { var t, a = [], s = e || d.defaultValue, n = Je.parseDate(d.dateFormat, s, d); if (s) for (t = 0; t < o.length; ++t)a = /m/i.test(o[t].n) ? a.concat(((d.getMonth(n) < 9 ? "0" : "") + (d.getMonth(n) + 1)).split("")) : /d/i.test(o[t].n) ? a.concat(((d.getDay(n) < 10 ? "0" : "") + d.getDay(n)).split("")) : a.concat((d.getYear(n) + "").split("")); return a }, formatValue: function (e) { return Je.formatDate(d.dateFormat, s(e), d) }, validate: function (t) { var n = t.values, i = s(n); return { disabled: a(n), invalid: !("Invalid Date" != i && (!d.min || d.min <= i) && (!d.max || i <= d.max)) || !!d.invalid && e._indexOf(d.invalid, i) != -1 } } } }; var ra = Y.$, oa = ra.extend, ca = Y.classes, da = 1, ma = function (e, t) { function a(e) { clearTimeout(_), _ = setTimeout(function () { c("load" !== e.type) }, 200) } function s(e, t) { if (e.length) { var a = e.offset().left, s = e[0].offsetLeft, l = e[0].offsetWidth, r = m.offset().left; d = e, void 0 === t && (t = !y), C && t && (y ? e.attr("data-selected") ? i(e) : n(e) : (i(ra(".mbsc-ms-item-sel", O)), n(e))), w && (s = S - s - l), "a" == k ? a < r ? M.scroll(w ? s + l - b : -s, $, !0) : a + l > r + b && M.scroll(w ? s : b - s - l, $, !0) : M.scroll(b / 2 - s - l / 2, $, !0), t && A("onItemTap", { target: e[0] }) } } function n(e) { e.addClass(T).attr("data-selected", "true").attr("aria-selected", "true") } function i(e) { e.removeClass(T).removeAttr("data-selected").removeAttr("aria-selected") } function l(e) { return "object" !== ("undefined" == typeof e ? "undefined" : I(e)) && (e = O.children('[data-id="' + e + '"]')), ra(e) } function r() { v && "inline" != v && u.find(".mbsc-page").css("padding-" + v, "") } function o() { var e, t; O.find(".mbsc-ripple").remove(), O.children().each(function (a) { var s, n = ra(this), i = C && "true" == n.attr("data-selected"), l = "true" == n.attr("data-disabled"), r = n.attr("data-icon"), o = n.attr("data-ref"); o || (o = da++), 0 === a && (h = n), C && !y && i && (d = n), r && (e = !0), n.text() && (t = !0), s = "mbsc-ms-item " + (D.itemClass || "") + (D.tapHighlight ? " mbsc-btn-e" : "") + (i ? T : "") + (l ? " mbsc-btn-d " + (D.disabledClass || "") : "") + (r ? " mbsc-ms-ic mbsc-ic mbsc-ic-" + r : ""), n.attr("data-ref", o).attr("data-role", "button").attr("aria-selected", i ? "true" : "false").attr("aria-disabled", l ? "true" : "false").removeClass(P[o]).addClass(s), P[o] = s }), e ? m.addClass("mbsc-ms-icons") : m.removeClass("mbsc-ms-icons"), t ? m.addClass("mbsc-ms-txt") : m.removeClass("mbsc-ms-txt") } function c(t, a) { var s = D.itemWidth, n = D.layout; H.contWidth = b = m.width(), t && x === b || !b || (x = b, Y.util.isNumeric(n) && (g = b ? b / n : s, g < s && (n = "liquid")), s && ("liquid" == n ? g = b ? b / Math.min(Math.floor(b / s), O.children().length) : s : "fixed" == n && (g = s)), g && O.children().css("width", g + "px"), "inline" != v && u.find(".mbsc-page").css("padding-" + v, e.offsetHeight + "px"), H.totalWidth = S = e.offsetWidth, oa(M.settings, { contSize: b, maxSnapScroll: !!D.paging && 1, maxScroll: 0, minScroll: S > b ? b - S : 0, snap: D.paging ? b : !!D.snap && (g || ".mbsc-ms-item"), elastic: S > b && (g || b) }), M.refresh(a)) } var d, m, u, h, f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, P = {}, $ = 1e3, H = this, O = ra(e); ca.Base.call(this, e, t, !0), H.navigate = function (e, t) { s(l(e), t) }, H.next = function (e) { var t = d ? d.next() : h; t.length && (d = t, s(d, e)) }, H.prev = function (e) { var t = d ? d.prev() : h; t.length && (d = t, s(d, e)) }, H.select = function (e) { y || i(ra(".mbsc-ms-item-sel", O)), n(l(e)) }, H.deselect = function (e) { i(l(e)) }, H.enable = function (e) { l(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled") }, H.disable = function (e) { l(e).addClass("mbsc-btn-d").attr("data-disabled", "true").attr("aria-disabled", "true") }, H.refresh = H.position = function (e) { o(), c(!1, e) }, H._init = function () { u = ra(D.context), f = ra("body" == D.context ? window : D.context), "tabs" == D.type ? (D.select = D.select || "single", D.variant = D.variant || "b") : "options" == D.type ? (D.select = D.select || "multiple", D.variant = D.variant || "a") : "menu" == D.type && (D.select = D.select || "off", D.variant = D.variant || "a"), D.itemWidth && void 0 === D.snap && (D.snap = !0), r(), v = D.display, w = D.rtl, k = D.variant, C = "off" != D.select, y = "multiple" == D.select, T = " mbsc-ms-item-sel " + (D.activeClass || ""), p = "mbsc-ms-c mbsc-no-touch mbsc-ms-" + k + " mbsc-ms-" + v + " mbsc-" + D.theme + " " + (D.baseTheme ? " mbsc-" + D.baseTheme : "") + " " + (D.cssClass || "") + " " + (D.wrapperClass || "") + (w ? " mbsc-ms-rtl" : " mbsc-ms-ltr") + (D.itemWidth ? " mbsc-ms-hasw" : "") + ("body" == D.context ? "" : " mbsc-ms-ctx") + (C ? "" : " mbsc-ms-nosel"), m ? (m.attr("class", p), O.off(".mbsc-ripple")) : (m = ra('<div class="' + p + '"><div class="mbsc-ms-sc"></div></div>').insertAfter(O), m.find(".mbsc-ms-sc").append(O), M = new $e(m[0], { axis: "X", contSize: 0, maxScroll: 0, maxSnapScroll: 1, minScroll: 0, snap: 1, elastic: 1, rtl: w, mousewheel: D.mousewheel, thresholdX: D.threshold, onStart: function (e) { V || "touchstart" != e.domEvent.type || (V = !0, u.find(".mbsc-no-touch").removeClass("mbsc-no-touch")) }, onBtnTap: function (e) { s(ra(e.target), !0) }, onGestureStart: function (e) { A("onGestureStart", e) }, onGestureEnd: function (e) { A("onGestureEnd", e) }, onMove: function (e) { A("onMove", e) }, onAnimationStart: function (e) { A("onAnimationStart", e) }, onAnimationEnd: function (e) { A("onAnimationEnd", e) } })), O.css("display", "").addClass("mbsc-ms " + (D.groupClass || "")), o(), A("onMarkupReady", { target: m[0] }), c(), m.find("img").on("load", a), f.on("orientationchange resize", a) }, H._destroy = function () { r(), f.off("orientationchange resize", a), O.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(m).find(".mbsc-ms-item").each(function () { var e = ra(this); e.width("").removeClass(P[e.attr("data-ref")]) }), m.remove(), M.destroy() }, D = H.settings, A = H.trigger, H.init(t) }; ma.prototype = { _class: "menustrip", _hasDef: !0, _hasTheme: !0, _hasLang: !0, _defaults: { context: "body", type: "options", display: "inline", layout: "liquid", tapHighlight: !0 } }, ca.MenuStrip = ma, Y.presetShort("menustrip", "MenuStrip"); var ua = Y.$, ha = Y.classes, fa = function (e, t) { var a = "", s = ua(e), n = this, i = n.settings; ha.Base.call(this, e, t, !0), n._init = function () { var e = i.context, t = ua(e), n = t.find(".mbsc-ms-top .mbsc-ms"), l = t.find(".mbsc-ms-bottom .mbsc-ms"), r = {}; "body" == e ? ua("body,html").addClass("mbsc-page-ctx") : t.addClass("mbsc-page-ctx"), a && s.removeClass(a), n.length && (r.paddingTop = n[0].offsetHeight), l.length && (r.paddingBottom = l[0].offsetHeight), a = "mbsc-page mbsc-" + i.theme + (i.baseTheme ? " mbsc-" + i.baseTheme : "") + (i.rtl ? " mbsc-rtl" : " mbsc-ltr"), s.addClass(a).css(r) }, n._destroy = function () { s.removeClass(a) }, i = n.settings, n.init(t) }; fa.prototype = { _hasDef: !0, _hasTheme: !0, _hasLang: !0, _class: "page", _defaults: { context: "body" } }, ha.Page = fa, Y.themes.page.mobiscroll = {}, Y.presetShort("page", "Page"), ua(function () { var e = "[mbsc-page]"; ua(e).each(function () { new ha.Page(this) }), ua(document).on("mbsc-enhance", function (t, a) { ua(t.target).is(e) ? new ha.Page(t.target, a) : ua(e, t.target).each(function () { new ha.Page(this, a) }) }) }); var pa = Y.$, ba = function (e, t, a) { function s(e) { pa(".mbsc-fr-c", e).hasClass("mbsc-wdg-c") || (pa(".mbsc-fr-c", e).addClass("mbsc-wdg-c").append(r.show()), pa(".mbsc-w-p", e).length || pa(".mbsc-fr-c", e).addClass("mbsc-w-p")) } var n, i, l, r = pa(e), o = this; ge.call(this, e, t, !0), o._generateContent = function () { return "" }, o._markupReady = function (e) { "inline" != n.display && s(e) }, o._markupInserted = function (e) { "inline" == n.display && s(e), e.trigger("mbsc-enhance", [{ theme: n.theme, lang: n.lang }]) }, o._markupRemove = function () { r.hide(), i ? i.prepend(r) : l.after(r) }, o.__processSettings = function () { n = o.settings, o.buttons.ok = { text: n.okText, icon: n.okIcon, handler: "set" }, n.buttons = n.buttons || ("inline" == n.display ? [] : ["ok"]), i || l || (l = r.prev(), l.length || (i = r.parent())), r.hide() }, o.__init = function () { n.cssClass = (n.cssClass || "") + " mbsc-wdg" }, a || o.init(t) }; ba.prototype = { _hasDef: !0, _hasTheme: !0, _hasContent: !0, _class: "widget", _defaults: pa.extend({}, ge.prototype._defaults, { okText: "OK", headerText: !1 }) }, Y.classes.Widget = ba, Y.themes.widget = Y.themes.frame, Y.presetShort("widget", "Widget", !1); var va = !!window.Promise, ga = [], ya = [], xa = Y.$, _a = xa.extend; Y.alert = function (e) { var t = document.createElement("div"); return t.innerHTML = b(e), w(v, t, e) }, Y.confirm = function (e) { var t = document.createElement("div"); return t.innerHTML = b(e), w(g, t, e) }, Y.prompt = function (e) { var t = document.createElement("div"); return t.innerHTML = b(e) + '<label class="mbsc-input">' + (e.label ? '<span class="mbsc-label">' + e.label + "</span>" : "") + '<input type="' + (e.inputType || "text") + '" placeholder="' + (e.placeholder || "") + '" value="' + (e.value || "") + '"></label>', w(y, t, e) }, Y.snackbar = function (e) { var t = document.createElement("div"); return t.innerHTML = '<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">' + (e.message || "") + "</div>" + (e.button ? '<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">' + (e.button.text || "") + "</button>" : "") + "</div>", w(x, t, e) }, Y.toast = function (e) { var t = document.createElement("div"); return t.innerHTML = '<div class="mbsc-toast-msg">' + (e.message || "") + "</div>", w(_, t, e) }; var wa = Y.$, Ca = Y.$, Ta = Ca.extend, Ma = Y.util, ka = Ma.getCoord, Da = Ma.testTouch, Sa = ["touchstart", "touchmove", "touchend", "touchcancel", "mousedown", "mousemove", "mouseup", "mouseleave"], Va = { tap: !0 }, Aa = void 0, Ya = function () { function e(t, a) { var s = this; P(this, e); var n = Ta({}, Va, a), i = Ca(t), l = i.parent(), r = i.next().hasClass("mbsc-fr") ? i.next() : null, o = k(i); r && r.insertAfter(l), M(l, o), i.addClass("mbsc-control"), Sa.forEach(function (e) { t.addEventListener(e, s) }), this.settings = n, this._type = o, this._elm = t, this._$elm = i, this._$parent = l, this._$frame = r, this._ripple = D(n.theme) } return $(e, [{ key: "destroy", value: function () { var e = this; this._$elm.removeClass("mbsc-control"), Sa.forEach(function (t) { e._elm.removeEventListener(t, e) }) } }, { key: "option", value: function (e) { Ta(this.settings, e), this._ripple = D(this.settings.theme) } }, { key: "handleEvent", value: function (e) { switch (e.type) { case "touchstart": case "mousedown": this._onStart(e); break; case "touchmove": case "mousemove": this._onMove(e); break; case "touchend": case "touchcancel": case "mouseup": case "mouseleave": this._onEnd(e) } } }, { key: "_addRipple", value: function (e) { this._ripple && this._$rippleElm && this._ripple.addRipple(this._$rippleElm, e) } }, { key: "_removeRipple", value: function () { this._ripple && this._$rippleElm && this._ripple.removeRipple() } }, { key: "_onStart", value: function (e) { var t = this._elm; Da(e, t) && (this._startX = ka(e, "X"), this._startY = ka(e, "Y"), Aa && Aa.removeClass("mbsc-active"), t.disabled || (this._isActive = !0, Aa = this._$elm, Aa.addClass("mbsc-active"), this._addRipple(e))) } }, { key: "_onMove", value: function (e) { (this._isActive && Math.abs(ka(e, "X") - this._startX) > 9 || Math.abs(ka(e, "Y") - this._startY) > 9) && (this._$elm.removeClass("mbsc-active"), this._removeRipple(), this._isActive = !1) } }, { key: "_onEnd", value: function (e) { var t = this, a = this._elm, s = this._type; if (this._isActive && this.settings.tap && "touchend" == e.type && !a.readOnly && (a.focus(), /(button|submit|checkbox|switch|radio)/.test(s) && e.preventDefault(), !/select/.test(s))) { var n = (e.originalEvent || e).changedTouches[0], i = document.createEvent("MouseEvents"); i.initMouseEvent("click", !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), i.tap = !0, a.mbscChange = !0, a.dispatchEvent(i), Ma.preventClick() } this._isActive && setTimeout(function () { t._$elm.removeClass("mbsc-active"), t._removeRipple() }, 100), this._isActive = !1, Aa = null } }]), e }(), Ia = function (e) { function t(e) { P(this, t); var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)); return T(a, a._$elm), a._$parent.addClass("mbsc-input"), a } return O(t, e), $(t, [{ key: "destroy", value: function () { H(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._$parent.find(".mbsc-input-wrap").before(this._$elm).remove() } }]), t }(Ya), Pa = function (e) { function t(e, a) { P(this, t); var s = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, a)), n = s._$elm, i = n.attr("data-icon"); return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(), i && (n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-' + i + '"></span>'), "" === n.text() && n.addClass("mbsc-btn-icon-only")), s._$rippleElm = n, s } return O(t, e), t }(Ya), $a = function (e) { function t(e) { P(this, t); var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)); return a._$parent.prepend(a._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(), a._$elm.after('<span class="mbsc-checkbox-box"></span>'), a } return O(t, e), t }(Ya), Ha = function (e) { function t(e) { P(this, t); var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)); return a._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(), a._$elm.after('<span class="mbsc-radio-box"><span></span></span>'), a } return O(t, e), t }(Ya), Oa = Y.$, Ea = function (e) { function t(e) { P(this, t); var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)), s = a._$elm, n = a._$parent, i = n.find("input.mbsc-control"), l = i.length ? i : Oa('<input tabindex="-1" class="mbsc-control" readonly>'); return a._$input = l, n.addClass("mbsc-select" + (a._$frame ? " mbsc-select-inline" : "")), s.after(l), l.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'), l.hasClass("mbsc-comp") || (e.addEventListener("change", a), a._setText()), a } return O(t, e), $(t, [{ key: "destroy", value: function () { H(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._$elm.after(this._$input), this._elm.removeEventListener("change", this) } }, { key: "handleEvent", value: function (e) { H(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "handleEvent", this).call(this, e), "change" == e.type && this._setText() } }, { key: "_setText", value: function () { var e = this._elm; this._$input.val(e.selectedIndex != -1 ? e.options[e.selectedIndex].text : "") } }]), t }(Ia), Fa = Y.$, Wa = ["keydown", "input", "scroll"], La = void 0; Fa(window).on("resize orientationchange", S); var Na = function (e) { function t(e) { P(this, t); var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)); return a._$parent.addClass("mbsc-textarea"), Wa.forEach(function (e) { a._elm.addEventListener(e, a) }), V(e), a } return O(t, e), $(t, [{ key: "destroy", value: function () { var e = this; H(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), Wa.forEach(function (t) { e._elm.removeEventListener(t, e) }) } }, { key: "handleEvent", value: function (e) { switch (H(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "handleEvent", this).call(this, e), e.type) { case "keydown": case "input": this._onInput(e); break; case "scroll": A(this._elm) } } }, { key: "_onInput", value: function () { var e = this; clearTimeout(this._debounce), this._debounce = setTimeout(function () { V(e._elm) }, 100) } }]), t }(Ia), ja = Y.$, Ra = function (e) { function t(e, a) { P(this, t); var s = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, a)), n = void 0, i = void 0, l = s._$elm, r = s._$parent; return r.hasClass("mbsc-segmented-item") || (n = ja('<div class="mbsc-segmented"></div>'), r.after(n), r.parent().find('input[name="' + l.attr("name") + '"]').each(function () { var e = ja(this); i = e.parent().addClass("mbsc-segmented-item"), ja('<span class="mbsc-segmented-content">' + (e.attr("data-icon") ? ' <span class="mbsc-ic mbsc-ic-' + e.attr("data-icon") + '"></span> ' : "") + "</span>").append(i.contents()).appendTo(i), i.prepend(e), n.append(i) })), s._$rippleElm = l.next(), s } return O(t, e), t }(Ya), Xa = Y.$, qa = Y.util, Ba = qa.getCoord, Ua = qa.testTouch, za = function (e, t) {
                function a(t) { 32 == t.keyCode && (t.preventDefault(), b || e.disabled || (u = Xa(this).addClass("mbsc-active"), c(t))) } function s(e) { b && (e.preventDefault(), d(!0)) } function n(t) { Ua(t, this) && !e.disabled && (u = Xa(this).addClass("mbsc-active").trigger("focus"), k && !u.hasClass("mbsc-step-disabled") && k.addRipple(u.find(".mbsc-segmented-content"), t), c(t), "mousedown" === t.type && Xa(document).on("mousemove", l).on("mouseup", i)) } function i(e) { b && (e.preventDefault(), d(!0, e), "mouseup" === e.type && Xa(document).off("mousemove", l).off("mouseup", i)) } function l(e) { b && (_ = Ba(e, "X"), w = Ba(e, "Y"), g = _ - V, y = w - A, (Math.abs(g) > 7 || Math.abs(y) > 7) && d()) } function r() { var t; e.disabled || (t = parseFloat(Xa(this).val()), o(isNaN(t) ? P : t)) } function o(e, t, a) { F = P, void 0 === t && (t = !0), void 0 === a && (a = t), P = void 0 !== e ? Math.min(T, Math.max(Math.round(e / D) * D, M)) : Math.min(T, Math.max(P + (u.hasClass("mbsc-stepper-minus") ? -D : D), M)), v = !0, p.removeClass("mbsc-step-disabled"), t && E.val(P), P == M ? f.addClass("mbsc-step-disabled") : P == T && h.addClass("mbsc-step-disabled"), P !== F && a && E.trigger("change") } function c(e) { b || (b = !0, v = !1, V = Ba(e, "X"), A = Ba(e, "Y"), clearInterval(C), clearTimeout(C), C = setTimeout(function () { o(), C = setInterval(function () { o() }, 150) }, 300)) } function d(e) { clearInterval(C), clearTimeout(C), !v && e && o(), b = !1, v = !1, u.removeClass("mbsc-active"), k && setTimeout(function () { k.removeRipple() }, 100) } function m(e, t) { var a = E.attr(e); return void 0 === a || "" === a ? t : +a } var u, h, f, p, b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, I, P, $, H, O = this, E = Xa(e), F = P; Y.classes.Base.call(this, e, t, !0), O.getVal = function () { var e = parseFloat(E.val()); return e = isNaN(e) ? P : e, Math.min(T, Math.max(Math.round(e / D) * D, M)) }, O.setVal = function (e, t, a) { e = parseFloat(e), o(isNaN(e) ? P : e, t, a) }, O._init = function (o) {
                    $ = E.parent().hasClass("mbsc-stepper"), H = $ ? E.closest(".mbsc-stepper-cont") : E.parent(), S = O.settings, M = void 0 === o.min ? m("min", S.min) : o.min, T = void 0 === o.max ? m("max", S.max) : o.max, D = void 0 === o.step ? m("step", S.step) : o.step, x = E.attr("data-val") || S.val, P = Math.min(T, Math.max(Math.round(+e.value / D) * D || 0, M)), I = Y.themes.form[t.theme], k = I && I.addRipple ? I : null, $ || H.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus ' + (P == M ? "mbsc-step-disabled" : "") + '"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus ' + (P == T ? "mbsc-step-disabled" : "") + '"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(E),
                        f = Xa(".mbsc-stepper-minus", H), h = Xa(".mbsc-stepper-plus", H), $ || ("left" == x ? (H.addClass("mbsc-stepper-val-left"), E.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')) : "right" == x ? (H.addClass("mbsc-stepper-val-right"), h.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')) : f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')), E.val(P).attr("data-role", "stepper").attr("min", M).attr("max", T).attr("step", D).on("change", r), p = Xa(".mbsc-stepper-control", H).on("keydown", a).on("keyup", s).on("mousedown touchstart", n).on("touchmove", l).on("touchend touchcancel", i), E.addClass("mbsc-stepper-ready mbsc-control")
                }, O._destroy = function () { E.removeClass("mbsc-control").off("change", r), p.off("keydown", a).off("keyup", s).off("mousedown touchstart", n).off("touchmove", l).off("touchend touchcancel", i) }, O.init(t)
            }; za.prototype = { _class: "stepper", _defaults: { min: 0, max: 100, step: 1 } }, Y.classes.Stepper = za, Y.presetShort("stepper", "Stepper"); var Ka = function () { }, Ga = Y.$, Za = function (e, t, a) { var s, n, i, l, r = this; Y.classes.Base.call(this, e, t, !0), r.__init = Ka, r.__destroy = Ka, r._init = function (t) { var a; l = r.settings, s = Ga(e), a = !!n, n = r._$parent = a ? n : s.parent(), i && n.removeClass(i), i = r._css + " mbsc-progress-w mbsc-control-w mbsc-" + l.theme + (l.baseTheme ? " mbsc-" + l.baseTheme : "") + (l.rtl ? " mbsc-rtl" : " mbsc-ltr"), n.addClass(i), s.addClass("mbsc-control"), r.__init(t), a || r._attachChange(), r.refresh() }, r._destroy = function () { r.__destroy(), n.removeClass(i), s.removeClass("mbsc-control") }, a || r.init(t) }; Za.prototype = { _class: "progressbase" }; var Ja = function () { }, Qa = Y.$, es = Y.util, ts = es.getCoord, as = es.testTouch, ss = function (e, t, a) { function s(t) { !as(t, this) || C || e.disabled || (F.stopProp && t.stopPropagation(), C = !0, H = !1, T = !1, L = ts(t, "X"), N = ts(t, "Y"), S = L, w.removeClass("mbsc-progress-anim"), v = O ? Qa(".mbsc-slider-handle", this) : y, g && g.removeClass("mbsc-handle-curr"), g = v.parent().addClass("mbsc-active mbsc-handle-curr"), A = +v.attr("data-index"), X = w[0].offsetWidth, D = w[0].getBoundingClientRect().left, "mousedown" === t.type && (t.preventDefault(), Qa(document).on("mousemove", n).on("mouseup", i))) } function n(e) { C && (S = ts(e, "X"), V = ts(e, "Y"), M = S - L, k = V - N, (Math.abs(M) > 5 || H) && (H = !0, Math.abs(U - new Date) > 50 && (U = new Date, h(S, F.round, I))), H ? e.preventDefault() : Math.abs(k) > 7 && u(e)) } function i(e) { C && (e.preventDefault(), O || w.addClass("mbsc-progress-anim"), h(S, !0, !0), H || T || ("touchend" == e.type && es.preventClick(), B._onTap(q[A])), u()) } function l() { C && u() } function r() { var e = B._readValue(Qa(this)), t = +Qa(this).attr("data-index"); e !== q[t] && (q[t] = e, p(e, t)) } function o(e) { e.stopPropagation() } function c(e) { e.preventDefault() } function d(t) { var a; if (!e.disabled) { switch (t.keyCode) { case 38: case 39: a = 1; break; case 40: case 37: a = -1 }a && (t.preventDefault(), R || (A = +Qa(this).attr("data-index"), p(q[A] + E * a, A, !0), R = setInterval(function () { p(q[A] + E * a, A, !0) }, 200))) } } function m(e) { e.preventDefault(), clearInterval(R), R = null } function u() { C = !1, g.removeClass("mbsc-active"), Qa(document).off("mousemove", n).off("mouseup", i) } function h(e, t, a) { var s = t ? Math.min(Math.round(Math.max(100 * (e - D) / X, 0) / W / E) * E * 100 / (P - $), 100) : Math.max(0, Math.min(100 * (e - D) / X, 100)); Y && (s = 100 - s), p(Math.round(($ + s / W) * j) / j, A, a, s) } function f(e) { return 100 * (e - $) / (P - $) } function p(e, t, a, s, n, i) { var l = y.eq(t), r = l.parent(); e = Math.min(P, Math.max(e, $)), void 0 === i && (i = a), B._update ? B._update(e, q, t, s, O, n, r) : r.css({ left: Y ? "auto" : (s || f(e)) + "%", right: Y ? (s || f(e)) + "%" : "auto" }), e > $ ? r.removeClass("mbsc-slider-start") : (q[t] > $ || n) && r.addClass("mbsc-slider-start"), a && q[t] != e && (T = !0, q[t] = e, B._fillValue(e, t, i)), l.attr("aria-valuenow", e) } var b, v, g, y, x, _, w, C, T, M, k, D, S, V, A, Y, I, P, $, H, O, E, F, W, L, N, j, R, X, q, B = this, U = new Date; Za.call(this, e, t, !0), B._onTap = Ja, B.___init = Ja, B.___destroy = Ja, B._attachChange = function () { b.on(F.changeEvent, r) }, B.__init = function (e) { var t; y && (t = !0, y.parent().remove()), B.___init(e), _ = B._$parent, w = B._$track, b = _.find("input"), F = B.settings, $ = B._min, P = B._max, E = B._step, I = B._live, j = E % 1 !== 0 ? 100 / (100 * +(E % 1).toFixed(2)) : 1, W = 100 / (P - $) || 100, O = b.length > 1, Y = F.rtl, q = [], b.each(function (e) { q[e] = B._readValue(Qa(this)), Qa(this).attr("data-index", e) }), y = _.find(".mbsc-slider-handle"), x = _.find(O ? ".mbsc-slider-handle-cont" : ".mbsc-progress-cont"), y.on("keydown", d).on("keyup", m).on("blur", m), x.on("touchstart mousedown", s).on("touchmove", n).on("touchend touchcancel", i).on("pointercancel", l), t || (b.on("click", o), _.on("click", c)) }, B.__destroy = function () { _.off("click", c), b.off(F.changeEvent, r).off("click", o), y.off("keydown", d).off("keyup", m).off("blur", m), x.off("touchstart mousedown", s).off("touchmove", n).off("touchend touchcancel", i).off("pointercancel", l), B.___destroy() }, B.refresh = function () { b.each(function (e) { p(B._readValue(Qa(this)), e, !0, !1, !0, !1) }) }, B.getVal = function () { return O ? q.slice(0) : q[0] }, B.setVal = B._setVal = function (e, t, a) { Qa.isArray(e) || (e = [e]), Qa.each(e, function (e, t) { p(t, e, !0, !1, !0, a) }) }, a || B.init(t) }; ss.prototype = { _class: "sliderbase" }; var ns = Y.$, is = function (e, t) { var a, s, n, i, l = this; t = t || {}, ns.extend(t, { changeEvent: "click", round: !1 }), ss.call(this, e, t, !0), l._readValue = function () { return e.checked ? 1 : 0 }, l._fillValue = function (e, t, s) { a.prop("checked", !!e), s && a.trigger("change") }, l._onTap = function (e) { l._setVal(e ? 0 : 1) }, l.___init = function () { n = l.settings, a = ns(e), s = a.parent(), s.find(".mbsc-switch-track").remove(), s.prepend(a), a.attr("data-role", "switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">' + n.offText + '</span><span class="mbsc-switch-txt-on">' + n.onText + "</span></span></span></span></span>"), i = new Ya(e), l._$track = s.find(".mbsc-progress-track"), l._min = 0, l._max = 1, l._step = 1 }, l.___destroy = function () { i.destroy() }, l.getVal = function () { return e.checked }, l.setVal = function (e, t, a) { l._setVal(e ? 1 : 0, t, a) }, l.init(t) }; is.prototype = { _class: "switch", _css: "mbsc-switch", _hasTheme: !0, _hasLang: !0, _defaults: { stopProp: !0, offText: "Off", onText: "On" } }, Y.classes.Switch = is, Y.presetShort("switch", "Switch"); var ls = Y.$, rs = function (e, t, a) { function s() { var e = n("value", u); e !== b && i(e) } function n(e, t) { var a = r.attr(e); return void 0 === a || "" === a ? t : +a } function i(e, t, a, s) { e = Math.min(h, Math.max(e, u)), c.css("width", 100 * (e - u) / (h - u) + "%"), void 0 === a && (a = !0), void 0 === s && (s = a), (e !== b || t) && g._display(e), e !== b && (b = e, a && r.attr("value", b), s && r.trigger("change")) } var l, r, o, c, d, m, u, h, f, p, b, v, g = this; Za.call(this, e, t, !0), g._display = function (e) { v = p && f.returnAffix ? p.replace(/\{value\}/, e).replace(/\{max\}/, h) : e, d && d.html(v), l && l.html(v) }, g._attachChange = function () { r.on("change", s) }, g.__init = function (t) { var a, s, i, v; if (f = g.settings, r = ls(e), v = !!o, o = g._$parent, u = g._min = void 0 === t.min ? n("min", f.min) : t.min, h = g._max = void 0 === t.max ? n("max", f.max) : t.max, b = n("value", u), a = r.attr("data-val") || f.val, i = r.attr("data-step-labels"), i = i ? JSON.parse(i) : f.stepLabels, p = r.attr("data-template") || (100 != h || f.template ? f.template : "{value}%"), v ? (a && (l.remove(), o.removeClass("mbsc-progress-value-" + ("right" == a ? "right" : "left"))), i && ls(".mbsc-progress-step-label", m).remove()) : (M(o), C(r), o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'), c = g._$progress = o.find(".mbsc-progress-bar"), m = g._$track = o.find(".mbsc-progress-track")), r.attr("min", u).attr("max", h), a && (l = ls('<span class="mbsc-progress-value"></span>'), o.addClass("mbsc-progress-value-" + ("right" == a ? "right" : "left")).find(".mbsc-input-wrap").append(l)), i) for (s = 0; s < i.length; ++s)m.append('<span class="mbsc-progress-step-label" style="' + (f.rtl ? "right" : "left") + ": " + 100 * (i[s] - u) / (h - u) + '%" >' + i[s] + "</span>"); d = ls(r.attr("data-target") || f.target) }, g.__destroy = function () { o.find(".mbsc-progress-cont").remove(), o.find(".mbsc-input-wrap").before(r).remove(), r.off("change", s) }, g.refresh = function () { i(n("value", u), !0, !1) }, g.getVal = function () { return b }, g.setVal = function (e, t, a) { i(e, !0, t, a) }, a || g.init(t) }; rs.prototype = { _class: "progress", _css: "mbsc-progress", _hasTheme: !0, _hasLang: !0, _defaults: { min: 0, max: 100, returnAffix: !0 } }, Y.classes.Progress = rs, Y.presetShort("progress", "Progress"); var os = Y.$, cs = function (e, t, a) { function s(e) { return 100 * (e - p) / (f - p) } function n(e, t) { var a = i.attr(e); return void 0 === a || "" === a ? t : "true" === a } var i, l, r, o, c, d, m, u, h, f, p, b, v, g = this; rs.call(this, e, t, !0); var y = g.__init, x = g.__destroy; ss.call(this, e, t, !0); var _ = g.__init, w = g.__destroy; g.__init = function (e) { y(e), _(e) }, g.__destroy = function () { x(), w() }, g._update = function (e, t, a, n, i, l, c) { u ? 0 === a ? (e = Math.min(e, t[1]), r.css({ width: s(t[1]) - s(e) + "%", left: h ? "auto" : s(e) + "%", right: h ? s(e) + "%" : "auto" })) : (e = Math.max(e, t[0]), r.css({ width: s(e) - s(t[0]) + "%" })) : i || !d ? c.css({ left: h ? "auto" : (n || s(e)) + "%", right: h ? (n || s(e)) + "%" : "auto" }) : r.css("width", (n || s(e)) + "%"), m && o.eq(a).html(e), i || t[a] == e && !l || g._display(e) }, g._readValue = function (e) { return +e.val() }, g._fillValue = function (e, t, a) { i.eq(t).val(e), a && i.eq(t).trigger("change") }, g.___init = function (e) { var t, a; if (l && (l.removeClass("mbsc-slider-has-tooltip"), 1 != b && os(".mbsc-slider-step", c).remove()), l = g._$parent, c = g._$track, r = g._$progress, i = l.find("input"), v = g.settings, p = g._min, f = g._max, g._step = b = void 0 === e.step ? +i.attr("step") || v.step : e.step, g._live = n("data-live", v.live), m = n("data-tooltip", v.tooltip), d = n("data-highlight", v.highlight) && i.length < 3, u = d && 2 == i.length, h = v.rtl, m && l.addClass("mbsc-slider-has-tooltip"), 1 != b) for (a = (f - p) / b, t = 0; t <= a; ++t)c.append('<span class="mbsc-slider-step" style="' + (h ? "right" : "left") + ":" + 100 / a * t + '%"></span>'); i.each(function (e) { "range" == this.type && os(this).attr("min", p).attr("max", f).attr("step", b), (d ? r : c).append('<span class="mbsc-slider-handle-cont' + (u && !e ? " mbsc-slider-handle-left" : "") + '"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="' + p + '" aria-valuemax="' + f + '" data-index="' + e + '"></span>' + (m ? '<span class="mbsc-slider-tooltip"></span>' : "") + "</span>") }), o = l.find(".mbsc-slider-tooltip") }, a || g.init(t) }; cs.prototype = { _class: "progress", _css: "mbsc-progress mbsc-slider", _hasTheme: !0, _hasLang: !0, _defaults: { changeEvent: "change", stopProp: !0, min: 0, max: 100, step: 1, live: !0, highlight: !0, round: !0, returnAffix: !0 } }, Y.classes.Slider = cs, Y.presetShort("slider", "Slider"); var ds = 0, ms = Y.$, us = Y.classes, hs = Y.instances, fs = function (e, t) { function a() { l.removeClass("mbsc-no-touch") } var s, n, i = "", l = ms(e), r = {}, o = this; us.Base.call(this, e, t, !0), o.refresh = function (e) { ms("input,select,textarea,progress,button", l).each(function () { var e = this, t = ms(e), a = k(t); if ("false" != t.attr("data-enhance")) if (t.hasClass("mbsc-control")) r[e.id] && r[e.id].option({ theme: s.theme, lang: s.lang, rtl: s.rtl, onText: s.onText, offText: s.offText, stopProp: s.stopProp }); else switch (e.id || (e.id = "mbsc-form-control-" + ++ds), a) { case "button": case "submit": r[e.id] = new Pa(e, { theme: s.theme, tap: s.tap }); break; case "switch": r[e.id] = new is(e, { theme: s.theme, lang: s.lang, rtl: s.rtl, onText: s.onText, offText: s.offText, stopProp: s.stopProp }); break; case 'checkbox': r[e.id] = new $a(e, { tap: s.tap }); break; case "range": ms(e).parent().hasClass("mbsc-slider") || (r[e.id] = new cs(e, { theme: s.theme, lang: s.lang, rtl: s.rtl, stopProp: s.stopProp })); break; case "progress": r[e.id] = new rs(e, { theme: s.theme, lang: s.lang, rtl: s.rtl }); break; case "radio": r[e.id] = new Ha(e, { tap: s.tap }); break; case "select": case "select-one": case "select-multiple": r[e.id] = new Ea(e, { tap: s.tap }); break; case "textarea": r[e.id] = new Na(e, { tap: s.tap }); break; case "segmented": r[e.id] = new Ra(e, { theme: s.theme, tap: s.tap }); break; case "stepper": r[e.id] = new za(e, { theme: s.theme }); break; case "hidden": return; default: r[e.id] = new Ia(e, { tap: s.tap }) } }), e || S() }, o._init = function () { Y.themes.form[s.theme] || (s.theme = "mobiscroll"), l.hasClass("mbsc-form") || l.on("touchstart", a).show(), i && l.removeClass(i), i = "mbsc-form mbsc-no-touch mbsc-" + s.theme + (s.baseTheme ? " mbsc-" + s.baseTheme : "") + (s.rtl ? " mbsc-rtl" : " mbsc-ltr"), l.addClass(i), o.refresh() }, o._destroy = function () { l.removeClass(i).off("touchstart", a); for (var e in r) r[e].destroy() }, s = o.settings, n = o.trigger, o.init(t) }; fs.prototype = { _hasDef: !0, _hasTheme: !0, _hasLang: !0, _class: "form", _defaults: { tap: !0, stopProp: !0, lang: "en" } }, Y.themes.form.mobiscroll = {}, Y.classes.Form = fs, Y.presetShort("form", "Form"), ms(function () { var e = "[mbsc-enhance],[mbsc-form]"; ms(e).each(function () { new fs(this) }), ms(document).on("mbsc-enhance", function (t, a) { ms(t.target).is(e) ? new fs(t.target, a) : ms(e, t.target).each(function () { new fs(this, a) }) }), ms(document).on("mbsc-refresh", function (t) { var a; ms(t.target).is(e) ? (a = hs[t.target.id], a && a.refresh()) : ms(e, t.target).each(function () { a = hs[this.id], a && a.refresh() }) }) }); var ps = Y.themes, bs = Y.$; ps.frame.ios = { display: "bottom", headerText: !1, btnWidth: !1, deleteIcon: "ios-backspace", scroll3d: !0 }, ps.scroller.ios = bs.extend({}, ps.frame.ios, { rows: 5, height: 34, minWidth: 55, selectedLineHeight: !0, selectedLineBorder: 1, showLabel: !1, useShortLabels: !0, btnPlusClass: "mbsc-ic mbsc-ic-arrow-down5", btnMinusClass: "mbsc-ic mbsc-ic-arrow-up5", checkIcon: "ion-ios7-checkmark-empty", filterClearIcon: "ion-close-circled", dateDisplay: "MMdyy", btnCalPrevClass: "mbsc-ic mbsc-ic-arrow-left5", btnCalNextClass: "mbsc-ic mbsc-ic-arrow-right5" }), ps.listview.ios = { leftArrowClass: "mbsc-ic-ion-ios7-arrow-back", rightArrowClass: "mbsc-ic-ion-ios7-arrow-forward" }, ps.form.ios = {}, Y.customTheme("mobiscroll-dark", "mobiscroll"), Y.customTheme("ios-dark", "ios"); var vs = Y.themes, gs = Y.$, ys = void 0; return "android" == X.name ? ys = X.majorVersion >= 5 ? "material" : "android-holo" : "ios" == X.name ? ys = "ios" : "wp" == X.name && (ys = "wp"), Y.setAutoTheme = function () { gs.each(vs.frame, function (e, t) { return ys && t.baseTheme == ys && "android-holo-light" != e && "material-dark" != e && "wp-light" != e && "ios-dark" != e ? (Y.autoTheme = e, !1) : void (e == ys && (Y.autoTheme = e)) }) }, Y.setAutoTheme(), Y.uid = "e1cf7d54", Y
        });
		
		
		
        /*!
                         * typeahead.js 0.11.1
                         * https://github.com/twitter/typeahead.js
                         * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
                         */

        !function (a, b) { "function" == typeof define && define.amd ? define("bloodhound", ["jquery"], function (c) { return a.Bloodhound = b(c) }) : "object" == typeof exports ? module.exports = b(require("jquery")) : a.Bloodhound = b(jQuery) }(this, function (a) { var b = function () { "use strict"; return { isMsie: function () { return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : !1 }, isBlankString: function (a) { return !a || /^\s*$/.test(a) }, escapeRegExChars: function (a) { return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (a) { return "string" == typeof a }, isNumber: function (a) { return "number" == typeof a }, isArray: a.isArray, isFunction: a.isFunction, isObject: a.isPlainObject, isUndefined: function (a) { return "undefined" == typeof a }, isElement: function (a) { return !(!a || 1 !== a.nodeType) }, isJQuery: function (b) { return b instanceof a }, toStr: function (a) { return b.isUndefined(a) || null === a ? "" : a + "" }, bind: a.proxy, each: function (b, c) { function d(a, b) { return c(b, a) } a.each(b, d) }, map: a.map, filter: a.grep, every: function (b, c) { var d = !0; return b ? (a.each(b, function (a, e) { return (d = c.call(null, e, a, b)) ? void 0 : !1 }), !!d) : d }, some: function (b, c) { var d = !1; return b ? (a.each(b, function (a, e) { return (d = c.call(null, e, a, b)) ? !1 : void 0 }), !!d) : d }, mixin: a.extend, identity: function (a) { return a }, clone: function (b) { return a.extend(!0, {}, b) }, getIdGenerator: function () { var a = 0; return function () { return a++ } }, templatify: function (b) { function c() { return String(b) } return a.isFunction(b) ? b : c }, defer: function (a) { setTimeout(a, 0) }, debounce: function (a, b, c) { var d, e; return function () { var f, g, h = this, i = arguments; return f = function () { d = null, c || (e = a.apply(h, i)) }, g = c && !d, clearTimeout(d), d = setTimeout(f, b), g && (e = a.apply(h, i)), e } }, throttle: function (a, b) { var c, d, e, f, g, h; return g = 0, h = function () { g = new Date, e = null, f = a.apply(c, d) }, function () { var i = new Date, j = b - (i - g); return c = this, d = arguments, 0 >= j ? (clearTimeout(e), e = null, g = i, f = a.apply(c, d)) : e || (e = setTimeout(h, j)), f } }, stringify: function (a) { return b.isString(a) ? a : JSON.stringify(a) }, noop: function () { } } }(), c = "0.11.1", d = function () { "use strict"; function a(a) { return a = b.toStr(a), a ? a.split(/\s+/) : [] } function c(a) { return a = b.toStr(a), a ? a.split(/\W+/) : [] } function d(a) { return function (c) { return c = b.isArray(c) ? c : [].slice.call(arguments, 0), function (d) { var e = []; return b.each(c, function (c) { e = e.concat(a(b.toStr(d[c]))) }), e } } } return { nonword: c, whitespace: a, obj: { nonword: d(c), whitespace: d(a) } } }(), e = function () { "use strict"; function c(c) { this.maxSize = b.isNumber(c) ? c : 100, this.reset(), this.maxSize <= 0 && (this.set = this.get = a.noop) } function d() { this.head = this.tail = null } function e(a, b) { this.key = a, this.val = b, this.prev = this.next = null } return b.mixin(c.prototype, { set: function (a, b) { var c, d = this.list.tail; this.size >= this.maxSize && (this.list.remove(d), delete this.hash[d.key], this.size--), (c = this.hash[a]) ? (c.val = b, this.list.moveToFront(c)) : (c = new e(a, b), this.list.add(c), this.hash[a] = c, this.size++) }, get: function (a) { var b = this.hash[a]; return b ? (this.list.moveToFront(b), b.val) : void 0 }, reset: function () { this.size = 0, this.hash = {}, this.list = new d } }), b.mixin(d.prototype, { add: function (a) { this.head && (a.next = this.head, this.head.prev = a), this.head = a, this.tail = this.tail || a }, remove: function (a) { a.prev ? a.prev.next = a.next : this.head = a.next, a.next ? a.next.prev = a.prev : this.tail = a.prev }, moveToFront: function (a) { this.remove(a), this.add(a) } }), c }(), f = function () { "use strict"; function c(a, c) { this.prefix = ["__", a, "__"].join(""), this.ttlKey = "__ttl__", this.keyMatcher = new RegExp("^" + b.escapeRegExChars(this.prefix)), this.ls = c || h, !this.ls && this._noop() } function d() { return (new Date).getTime() } function e(a) { return JSON.stringify(b.isUndefined(a) ? null : a) } function f(b) { return a.parseJSON(b) } function g(a) { var b, c, d = [], e = h.length; for (b = 0; e > b; b++)(c = h.key(b)).match(a) && d.push(c.replace(a, "")); return d } var h; try { h = window.localStorage, h.setItem("~~~", "!"), h.removeItem("~~~") } catch (i) { h = null } return b.mixin(c.prototype, { _prefix: function (a) { return this.prefix + a }, _ttlKey: function (a) { return this._prefix(a) + this.ttlKey }, _noop: function () { this.get = this.set = this.remove = this.clear = this.isExpired = b.noop }, _safeSet: function (a, b) { try { this.ls.setItem(a, b) } catch (c) { "QuotaExceededError" === c.name && (this.clear(), this._noop()) } }, get: function (a) { return this.isExpired(a) && this.remove(a), f(this.ls.getItem(this._prefix(a))) }, set: function (a, c, f) { return b.isNumber(f) ? this._safeSet(this._ttlKey(a), e(d() + f)) : this.ls.removeItem(this._ttlKey(a)), this._safeSet(this._prefix(a), e(c)) }, remove: function (a) { return this.ls.removeItem(this._ttlKey(a)), this.ls.removeItem(this._prefix(a)), this }, clear: function () { var a, b = g(this.keyMatcher); for (a = b.length; a--;)this.remove(b[a]); return this }, isExpired: function (a) { var c = f(this.ls.getItem(this._ttlKey(a))); return b.isNumber(c) && d() > c ? !0 : !1 } }), c }(), g = function () { "use strict"; function c(a) { a = a || {}, this.cancelled = !1, this.lastReq = null, this._send = a.transport, this._get = a.limiter ? a.limiter(this._get) : this._get, this._cache = a.cache === !1 ? new e(0) : h } var d = 0, f = {}, g = 6, h = new e(10); return c.setMaxPendingRequests = function (a) { g = a }, c.resetCache = function () { h.reset() }, b.mixin(c.prototype, { _fingerprint: function (b) { return b = b || {}, b.url + b.type + a.param(b.data || {}) }, _get: function (a, b) { function c(a) { b(null, a), k._cache.set(i, a) } function e() { b(!0) } function h() { d-- , delete f[i], k.onDeckRequestArgs && (k._get.apply(k, k.onDeckRequestArgs), k.onDeckRequestArgs = null) } var i, j, k = this; i = this._fingerprint(a), this.cancelled || i !== this.lastReq || ((j = f[i]) ? j.done(c).fail(e) : g > d ? (d++ , f[i] = this._send(a).done(c).fail(e).always(h)) : this.onDeckRequestArgs = [].slice.call(arguments, 0)) }, get: function (c, d) { var e, f; d = d || a.noop, c = b.isString(c) ? { url: c } : c || {}, f = this._fingerprint(c), this.cancelled = !1, this.lastReq = f, (e = this._cache.get(f)) ? d(null, e) : this._get(c, d) }, cancel: function () { this.cancelled = !0 } }), c }(), h = window.SearchIndex = function () { "use strict"; function c(c) { c = c || {}, c.datumTokenizer && c.queryTokenizer || a.error("datumTokenizer and queryTokenizer are both required"), this.identify = c.identify || b.stringify, this.datumTokenizer = c.datumTokenizer, this.queryTokenizer = c.queryTokenizer, this.reset() } function d(a) { return a = b.filter(a, function (a) { return !!a }), a = b.map(a, function (a) { return a.toLowerCase() }) } function e() { var a = {}; return a[i] = [], a[h] = {}, a } function f(a) { for (var b = {}, c = [], d = 0, e = a.length; e > d; d++)b[a[d]] || (b[a[d]] = !0, c.push(a[d])); return c } function g(a, b) { var c = 0, d = 0, e = []; a = a.sort(), b = b.sort(); for (var f = a.length, g = b.length; f > c && g > d;)a[c] < b[d] ? c++ : a[c] > b[d] ? d++ : (e.push(a[c]), c++ , d++); return e } var h = "c", i = "i"; return b.mixin(c.prototype, { bootstrap: function (a) { this.datums = a.datums, this.trie = a.trie }, add: function (a) { var c = this; a = b.isArray(a) ? a : [a], b.each(a, function (a) { var f, g; c.datums[f = c.identify(a)] = a, g = d(c.datumTokenizer(a)), b.each(g, function (a) { var b, d, g; for (b = c.trie, d = a.split(""); g = d.shift();)b = b[h][g] || (b[h][g] = e()), b[i].push(f) }) }) }, get: function (a) { var c = this; return b.map(a, function (a) { return c.datums[a] }) }, search: function (a) { var c, e, j = this; return c = d(this.queryTokenizer(a)), b.each(c, function (a) { var b, c, d, f; if (e && 0 === e.length) return !1; for (b = j.trie, c = a.split(""); b && (d = c.shift());)b = b[h][d]; return b && 0 === c.length ? (f = b[i].slice(0), void (e = e ? g(e, f) : f)) : (e = [], !1) }), e ? b.map(f(e), function (a) { return j.datums[a] }) : [] }, all: function () { var a = []; for (var b in this.datums) a.push(this.datums[b]); return a }, reset: function () { this.datums = {}, this.trie = e() }, serialize: function () { return { datums: this.datums, trie: this.trie } } }), c }(), i = function () { "use strict"; function a(a) { this.url = a.url, this.ttl = a.ttl, this.cache = a.cache, this.prepare = a.prepare, this.transform = a.transform, this.transport = a.transport, this.thumbprint = a.thumbprint, this.storage = new f(a.cacheKey) } var c; return c = { data: "data", protocol: "protocol", thumbprint: "thumbprint" }, b.mixin(a.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, store: function (a) { this.cache && (this.storage.set(c.data, a, this.ttl), this.storage.set(c.protocol, location.protocol, this.ttl), this.storage.set(c.thumbprint, this.thumbprint, this.ttl)) }, fromCache: function () { var a, b = {}; return this.cache ? (b.data = this.storage.get(c.data), b.protocol = this.storage.get(c.protocol), b.thumbprint = this.storage.get(c.thumbprint), a = b.thumbprint !== this.thumbprint || b.protocol !== location.protocol, b.data && !a ? b.data : null) : null }, fromNetwork: function (a) { function b() { a(!0) } function c(b) { a(null, e.transform(b)) } var d, e = this; a && (d = this.prepare(this._settings()), this.transport(d).fail(b).done(c)) }, clear: function () { return this.storage.clear(), this } }), a }(), j = function () { "use strict"; function a(a) { this.url = a.url, this.prepare = a.prepare, this.transform = a.transform, this.transport = new g({ cache: a.cache, limiter: a.limiter, transport: a.transport }) } return b.mixin(a.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, get: function (a, b) { function c(a, c) { b(a ? [] : e.transform(c)) } var d, e = this; if (b) return a = a || "", d = this.prepare(a, this._settings()), this.transport.get(d, c) }, cancelLastRequest: function () { this.transport.cancel() } }), a }(), k = function () { "use strict"; function d(d) { var e; return d ? (e = { url: null, ttl: 864e5, cache: !0, cacheKey: null, thumbprint: "", prepare: b.identity, transform: b.identity, transport: null }, d = b.isString(d) ? { url: d } : d, d = b.mixin(e, d), !d.url && a.error("prefetch requires url to be set"), d.transform = d.filter || d.transform, d.cacheKey = d.cacheKey || d.url, d.thumbprint = c + d.thumbprint, d.transport = d.transport ? h(d.transport) : a.ajax, d) : null } function e(c) { var d; if (c) return d = { url: null, cache: !0, prepare: null, replace: null, wildcard: null, limiter: null, rateLimitBy: "debounce", rateLimitWait: 300, transform: b.identity, transport: null }, c = b.isString(c) ? { url: c } : c, c = b.mixin(d, c), !c.url && a.error("remote requires url to be set"), c.transform = c.filter || c.transform, c.prepare = f(c), c.limiter = g(c), c.transport = c.transport ? h(c.transport) : a.ajax, delete c.replace, delete c.wildcard, delete c.rateLimitBy, delete c.rateLimitWait, c } function f(a) { function b(a, b) { return b.url = f(b.url, a), b } function c(a, b) { return b.url = b.url.replace(g, encodeURIComponent(a)), b } function d(a, b) { return b } var e, f, g; return e = a.prepare, f = a.replace, g = a.wildcard, e ? e : e = f ? b : a.wildcard ? c : d } function g(a) { function c(a) { return function (c) { return b.debounce(c, a) } } function d(a) { return function (c) { return b.throttle(c, a) } } var e, f, g; return e = a.limiter, f = a.rateLimitBy, g = a.rateLimitWait, e || (e = /^throttle$/i.test(f) ? d(g) : c(g)), e } function h(c) { return function (d) { function e(a) { b.defer(function () { g.resolve(a) }) } function f(a) { b.defer(function () { g.reject(a) }) } var g = a.Deferred(); return c(d, e, f), g } } return function (c) { var f, g; return f = { initialize: !0, identify: b.stringify, datumTokenizer: null, queryTokenizer: null, sufficient: 5, sorter: null, local: [], prefetch: null, remote: null }, c = b.mixin(f, c || {}), !c.datumTokenizer && a.error("datumTokenizer is required"), !c.queryTokenizer && a.error("queryTokenizer is required"), g = c.sorter, c.sorter = g ? function (a) { return a.sort(g) } : b.identity, c.local = b.isFunction(c.local) ? c.local() : c.local, c.prefetch = d(c.prefetch), c.remote = e(c.remote), c } }(), l = function () { "use strict"; function c(a) { a = k(a), this.sorter = a.sorter, this.identify = a.identify, this.sufficient = a.sufficient, this.local = a.local, this.remote = a.remote ? new j(a.remote) : null, this.prefetch = a.prefetch ? new i(a.prefetch) : null, this.index = new h({ identify: this.identify, datumTokenizer: a.datumTokenizer, queryTokenizer: a.queryTokenizer }), a.initialize !== !1 && this.initialize() } var e; return e = window && window.Bloodhound, c.noConflict = function () { return window && (window.Bloodhound = e), c }, c.tokenizers = d, b.mixin(c.prototype, { __ttAdapter: function () { function a(a, b, d) { return c.search(a, b, d) } function b(a, b) { return c.search(a, b) } var c = this; return this.remote ? a : b }, _loadPrefetch: function () { function b(a, b) { return a ? c.reject() : (e.add(b), e.prefetch.store(e.index.serialize()), void c.resolve()) } var c, d, e = this; return c = a.Deferred(), this.prefetch ? (d = this.prefetch.fromCache()) ? (this.index.bootstrap(d), c.resolve()) : this.prefetch.fromNetwork(b) : c.resolve(), c.promise() }, _initialize: function () { function a() { b.add(b.local) } var b = this; return this.clear(), (this.initPromise = this._loadPrefetch()).done(a), this.initPromise }, initialize: function (a) { return !this.initPromise || a ? this._initialize() : this.initPromise }, add: function (a) { return this.index.add(a), this }, get: function (a) { return a = b.isArray(a) ? a : [].slice.call(arguments), this.index.get(a) }, search: function (a, c, d) { function e(a) { var c = []; b.each(a, function (a) { !b.some(f, function (b) { return g.identify(a) === g.identify(b) }) && c.push(a) }), d && d(c) } var f, g = this; return f = this.sorter(this.index.search(a)), c(this.remote ? f.slice() : f), this.remote && f.length < this.sufficient ? this.remote.get(a, e) : this.remote && this.remote.cancelLastRequest(), this }, all: function () { return this.index.all() }, clear: function () { return this.index.reset(), this }, clearPrefetchCache: function () { return this.prefetch && this.prefetch.clear(), this }, clearRemoteCache: function () { return g.resetCache(), this }, ttAdapter: function () { return this.__ttAdapter() } }), c }(); return l }), function (a, b) { "function" == typeof define && define.amd ? define("typeahead.js", ["jquery"], function (a) { return b(a) }) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(jQuery) }(this, function (a) {
            var b = function () { "use strict"; return { isMsie: function () { return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : !1 }, isBlankString: function (a) { return !a || /^\s*$/.test(a) }, escapeRegExChars: function (a) { return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (a) { return "string" == typeof a }, isNumber: function (a) { return "number" == typeof a }, isArray: a.isArray, isFunction: a.isFunction, isObject: a.isPlainObject, isUndefined: function (a) { return "undefined" == typeof a }, isElement: function (a) { return !(!a || 1 !== a.nodeType) }, isJQuery: function (b) { return b instanceof a }, toStr: function (a) { return b.isUndefined(a) || null === a ? "" : a + "" }, bind: a.proxy, each: function (b, c) { function d(a, b) { return c(b, a) } a.each(b, d) }, map: a.map, filter: a.grep, every: function (b, c) { var d = !0; return b ? (a.each(b, function (a, e) { return (d = c.call(null, e, a, b)) ? void 0 : !1 }), !!d) : d }, some: function (b, c) { var d = !1; return b ? (a.each(b, function (a, e) { return (d = c.call(null, e, a, b)) ? !1 : void 0 }), !!d) : d }, mixin: a.extend, identity: function (a) { return a }, clone: function (b) { return a.extend(!0, {}, b) }, getIdGenerator: function () { var a = 0; return function () { return a++ } }, templatify: function (b) { function c() { return String(b) } return a.isFunction(b) ? b : c }, defer: function (a) { setTimeout(a, 0) }, debounce: function (a, b, c) { var d, e; return function () { var f, g, h = this, i = arguments; return f = function () { d = null, c || (e = a.apply(h, i)) }, g = c && !d, clearTimeout(d), d = setTimeout(f, b), g && (e = a.apply(h, i)), e } }, throttle: function (a, b) { var c, d, e, f, g, h; return g = 0, h = function () { g = new Date, e = null, f = a.apply(c, d) }, function () { var i = new Date, j = b - (i - g); return c = this, d = arguments, 0 >= j ? (clearTimeout(e), e = null, g = i, f = a.apply(c, d)) : e || (e = setTimeout(h, j)), f } }, stringify: function (a) { return b.isString(a) ? a : JSON.stringify(a) }, noop: function () { } } }(), c = function () { "use strict"; function a(a) { var g, h; return h = b.mixin({}, f, a), g = { css: e(), classes: h, html: c(h), selectors: d(h) }, { css: g.css, html: g.html, classes: g.classes, selectors: g.selectors, mixin: function (a) { b.mixin(a, g) } } } function c(a) { return { wrapper: '<span class="' + a.wrapper + '"></span>', menu: '<div class="' + a.menu + '"></div>' } } function d(a) { var c = {}; return b.each(a, function (a, b) { c[b] = "." + a }), c } function e() { var a = { wrapper: { position: "relative", display: "inline-block" }, hint: { position: "absolute", top: "0", left: "0", borderColor: "transparent", boxShadow: "none", opacity: "1" }, input: { position: "relative", verticalAlign: "top", backgroundColor: "transparent" }, inputWithNoHint: { position: "relative", verticalAlign: "top" }, menu: { position: "absolute", top: "100%", left: "0", zIndex: "100", display: "none" }, ltr: { left: "0", right: "auto" }, rtl: { left: "auto", right: " 0" } }; return b.isMsie() && b.mixin(a.input, { backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)" }), a } var f = { wrapper: "twitter-typeahead", input: "tt-input", hint: "tt-hint", menu: "tt-menu", dataset: "tt-dataset", suggestion: "tt-suggestion", selectable: "tt-selectable", empty: "tt-empty", open: "tt-open", cursor: "tt-cursor", highlight: "tt-highlight" }; return a }(), d = function () { "use strict"; function c(b) { b && b.el || a.error("EventBus initialized without el"), this.$el = a(b.el) } var d, e; return d = "typeahead:", e = { render: "rendered", cursorchange: "cursorchanged", select: "selected", autocomplete: "autocompleted" }, b.mixin(c.prototype, { _trigger: function (b, c) { var e; return e = a.Event(d + b), (c = c || []).unshift(e), this.$el.trigger.apply(this.$el, c), e }, before: function (a) { var b, c; return b = [].slice.call(arguments, 1), c = this._trigger("before" + a, b), c.isDefaultPrevented() }, trigger: function (a) { var b; this._trigger(a, [].slice.call(arguments, 1)), (b = e[a]) && this._trigger(b, [].slice.call(arguments, 1)) } }), c }(), e = function () { "use strict"; function a(a, b, c, d) { var e; if (!c) return this; for (b = b.split(i), c = d ? h(c, d) : c, this._callbacks = this._callbacks || {}; e = b.shift();)this._callbacks[e] = this._callbacks[e] || { sync: [], async: [] }, this._callbacks[e][a].push(c); return this } function b(b, c, d) { return a.call(this, "async", b, c, d) } function c(b, c, d) { return a.call(this, "sync", b, c, d) } function d(a) { var b; if (!this._callbacks) return this; for (a = a.split(i); b = a.shift();)delete this._callbacks[b]; return this } function e(a) { var b, c, d, e, g; if (!this._callbacks) return this; for (a = a.split(i), d = [].slice.call(arguments, 1); (b = a.shift()) && (c = this._callbacks[b]);)e = f(c.sync, this, [b].concat(d)), g = f(c.async, this, [b].concat(d)), e() && j(g); return this } function f(a, b, c) { function d() { for (var d, e = 0, f = a.length; !d && f > e; e += 1)d = a[e].apply(b, c) === !1; return !d } return d } function g() { var a; return a = window.setImmediate ? function (a) { setImmediate(function () { a() }) } : function (a) { setTimeout(function () { a() }, 0) } } function h(a, b) { return a.bind ? a.bind(b) : function () { a.apply(b, [].slice.call(arguments, 0)) } } var i = /\s+/, j = g(); return { onSync: c, onAsync: b, off: d, trigger: e } }(), f = function (a) { "use strict"; function c(a, c, d) { for (var e, f = [], g = 0, h = a.length; h > g; g++)f.push(b.escapeRegExChars(a[g])); return e = d ? "\\b(" + f.join("|") + ")\\b" : "(" + f.join("|") + ")", c ? new RegExp(e) : new RegExp(e, "i") } var d = { node: null, pattern: null, tagName: "strong", className: null, wordsOnly: !1, caseSensitive: !1 }; return function (e) { function f(b) { var c, d, f; return (c = h.exec(b.data)) && (f = a.createElement(e.tagName), e.className && (f.className = e.className), d = b.splitText(c.index), d.splitText(c[0].length), f.appendChild(d.cloneNode(!0)), b.parentNode.replaceChild(f, d)), !!c } function g(a, b) { for (var c, d = 3, e = 0; e < a.childNodes.length; e++)c = a.childNodes[e], c.nodeType === d ? e += b(c) ? 1 : 0 : g(c, b) } var h; e = b.mixin({}, d, e), e.node && e.pattern && (e.pattern = b.isArray(e.pattern) ? e.pattern : [e.pattern], h = c(e.pattern, e.caseSensitive, e.wordsOnly), g(e.node, f)) } }(window.document), g = function () { "use strict"; function c(c, e) { c = c || {}, c.input || a.error("input is missing"), e.mixin(this), this.$hint = a(c.hint), this.$input = a(c.input), this.query = this.$input.val(), this.queryWhenFocused = this.hasFocus() ? this.query : null, this.$overflowHelper = d(this.$input), this._checkLanguageDirection(), 0 === this.$hint.length && (this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = b.noop) } function d(b) { return a('<pre aria-hidden="true"></pre>').css({ position: "absolute", visibility: "hidden", whiteSpace: "pre", fontFamily: b.css("font-family"), fontSize: b.css("font-size"), fontStyle: b.css("font-style"), fontVariant: b.css("font-variant"), fontWeight: b.css("font-weight"), wordSpacing: b.css("word-spacing"), letterSpacing: b.css("letter-spacing"), textIndent: b.css("text-indent"), textRendering: b.css("text-rendering"), textTransform: b.css("text-transform") }).insertAfter(b) } function f(a, b) { return c.normalizeQuery(a) === c.normalizeQuery(b) } function g(a) { return a.altKey || a.ctrlKey || a.metaKey || a.shiftKey } var h; return h = { 9: "tab", 27: "esc", 37: "left", 39: "right", 13: "enter", 38: "up", 40: "down" }, c.normalizeQuery = function (a) { return b.toStr(a).replace(/^\s*/g, "").replace(/\s{2,}/g, " ") }, b.mixin(c.prototype, e, { _onBlur: function () { this.resetInputValue(), this.trigger("blurred") }, _onFocus: function () { this.queryWhenFocused = this.query, this.trigger("focused") }, _onKeydown: function (a) { var b = h[a.which || a.keyCode]; this._managePreventDefault(b, a), b && this._shouldTrigger(b, a) && this.trigger(b + "Keyed", a) }, _onInput: function () { this._setQuery(this.getInputValue()), this.clearHintIfInvalid(), this._checkLanguageDirection() }, _managePreventDefault: function (a, b) { var c; switch (a) { case "up": case "down": c = !g(b); break; default: c = !1 }c && b.preventDefault() }, _shouldTrigger: function (a, b) { var c; switch (a) { case "tab": c = !g(b); break; default: c = !0 }return c }, _checkLanguageDirection: function () { var a = (this.$input.css("direction") || "ltr").toLowerCase(); this.dir !== a && (this.dir = a, this.$hint.attr("dir", a), this.trigger("langDirChanged", a)) }, _setQuery: function (a, b) { var c, d; c = f(a, this.query), d = c ? this.query.length !== a.length : !1, this.query = a, b || c ? !b && d && this.trigger("whitespaceChanged", this.query) : this.trigger("queryChanged", this.query) }, bind: function () { var a, c, d, e, f = this; return a = b.bind(this._onBlur, this), c = b.bind(this._onFocus, this), d = b.bind(this._onKeydown, this), e = b.bind(this._onInput, this), this.$input.on("blur.tt", a).on("focus.tt", c).on("keydown.tt", d), !b.isMsie() || b.isMsie() > 9 ? this.$input.on("input.tt", e) : this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function (a) { h[a.which || a.keyCode] || b.defer(b.bind(f._onInput, f, a)) }), this }, focus: function () { this.$input.focus() }, blur: function () { this.$input.blur() }, getLangDir: function () { return this.dir }, getQuery: function () { return this.query || "" }, setQuery: function (a, b) { this.setInputValue(a), this._setQuery(a, b) }, hasQueryChangedSinceLastFocus: function () { return this.query !== this.queryWhenFocused }, getInputValue: function () { return this.$input.val() }, setInputValue: function (a) { this.$input.val(a), this.clearHintIfInvalid(), this._checkLanguageDirection() }, resetInputValue: function () { this.setInputValue(this.query) }, getHint: function () { return this.$hint.val() }, setHint: function (a) { this.$hint.val(a) }, clearHint: function () { this.setHint("") }, clearHintIfInvalid: function () { var a, b, c, d; a = this.getInputValue(), b = this.getHint(), c = a !== b && 0 === b.indexOf(a), d = "" !== a && c && !this.hasOverflow(), !d && this.clearHint() }, hasFocus: function () { return this.$input.is(":focus") }, hasOverflow: function () { var a = this.$input.width() - 2; return this.$overflowHelper.text(this.getInputValue()), this.$overflowHelper.width() >= a }, isCursorAtEnd: function () { var a, c, d; return a = this.$input.val().length, c = this.$input[0].selectionStart, b.isNumber(c) ? c === a : document.selection ? (d = document.selection.createRange(), d.moveStart("character", -a), a === d.text.length) : !0 }, destroy: function () { this.$hint.off(".tt"), this.$input.off(".tt"), this.$overflowHelper.remove(), this.$hint = this.$input = this.$overflowHelper = a("<div>") } }), c }(), h = function () { "use strict"; function c(c, e) { c = c || {}, c.templates = c.templates || {}, c.templates.notFound = c.templates.notFound || c.templates.empty, c.source || a.error("missing source"), c.node || a.error("missing node"), c.name && !h(c.name) && a.error("invalid dataset name: " + c.name), e.mixin(this), this.highlight = !!c.highlight, this.name = c.name || j(), this.limit = c.limit || 5, this.displayFn = d(c.display || c.displayKey), this.templates = g(c.templates, this.displayFn), this.source = c.source.__ttAdapter ? c.source.__ttAdapter() : c.source, this.async = b.isUndefined(c.async) ? this.source.length > 2 : !!c.async, this._resetLastSuggestion(), this.$el = a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset + "-" + this.name) } function d(a) { function c(b) { return b[a] } return a = a || b.stringify, b.isFunction(a) ? a : c } function g(c, d) { function e(b) { return a("<div>").text(d(b)) } return { notFound: c.notFound && b.templatify(c.notFound), pending: c.pending && b.templatify(c.pending), header: c.header && b.templatify(c.header), footer: c.footer && b.templatify(c.footer), suggestion: c.suggestion || e } } function h(a) { return /^[_a-zA-Z0-9-]+$/.test(a) } var i, j; return i = { val: "tt-selectable-display", obj: "tt-selectable-object" }, j = b.getIdGenerator(), c.extractData = function (b) { var c = a(b); return c.data(i.obj) ? { val: c.data(i.val) || "", obj: c.data(i.obj) || null } : null }, b.mixin(c.prototype, e, { _overwrite: function (a, b) { b = b || [], b.length ? this._renderSuggestions(a, b) : this.async && this.templates.pending ? this._renderPending(a) : !this.async && this.templates.notFound ? this._renderNotFound(a) : this._empty(), this.trigger("rendered", this.name, b, !1) }, _append: function (a, b) { b = b || [], b.length && this.$lastSuggestion.length ? this._appendSuggestions(a, b) : b.length ? this._renderSuggestions(a, b) : !this.$lastSuggestion.length && this.templates.notFound && this._renderNotFound(a), this.trigger("rendered", this.name, b, !0) }, _renderSuggestions: function (a, b) { var c; c = this._getSuggestionsFragment(a, b), this.$lastSuggestion = c.children().last(), this.$el.html(c).prepend(this._getHeader(a, b)).append(this._getFooter(a, b)) }, _appendSuggestions: function (a, b) { var c, d; c = this._getSuggestionsFragment(a, b), d = c.children().last(), this.$lastSuggestion.after(c), this.$lastSuggestion = d }, _renderPending: function (a) { var b = this.templates.pending; this._resetLastSuggestion(), b && this.$el.html(b({ query: a, dataset: this.name })) }, _renderNotFound: function (a) { var b = this.templates.notFound; this._resetLastSuggestion(), b && this.$el.html(b({ query: a, dataset: this.name })) }, _empty: function () { this.$el.empty(), this._resetLastSuggestion() }, _getSuggestionsFragment: function (c, d) { var e, g = this; return e = document.createDocumentFragment(), b.each(d, function (b) { var d, f; f = g._injectQuery(c, b), d = a(g.templates.suggestion(f)).data(i.obj, b).data(i.val, g.displayFn(b)).addClass(g.classes.suggestion + " " + g.classes.selectable), e.appendChild(d[0]) }), this.highlight && f({ className: this.classes.highlight, node: e, pattern: c }), a(e) }, _getFooter: function (a, b) { return this.templates.footer ? this.templates.footer({ query: a, suggestions: b, dataset: this.name }) : null }, _getHeader: function (a, b) { return this.templates.header ? this.templates.header({ query: a, suggestions: b, dataset: this.name }) : null }, _resetLastSuggestion: function () { this.$lastSuggestion = a() }, _injectQuery: function (a, c) { return b.isObject(c) ? b.mixin({ _query: a }, c) : c }, update: function (b) { function c(a) { g || (g = !0, a = (a || []).slice(0, e.limit), h = a.length, e._overwrite(b, a), h < e.limit && e.async && e.trigger("asyncRequested", b)) } function d(c) { c = c || [], !f && h < e.limit && (e.cancel = a.noop, h += c.length, e._append(b, c.slice(0, e.limit - h)), e.async && e.trigger("asyncReceived", b)) } var e = this, f = !1, g = !1, h = 0; this.cancel(), this.cancel = function () { f = !0, e.cancel = a.noop, e.async && e.trigger("asyncCanceled", b) }, this.source(b, c, d), !g && c([]) }, cancel: a.noop, clear: function () { this._empty(), this.cancel(), this.trigger("cleared") }, isEmpty: function () { return this.$el.is(":empty") }, destroy: function () { this.$el = a("<div>") } }), c }(), i = function () { "use strict"; function c(c, d) { function e(b) { var c = f.$node.find(b.node).first(); return b.node = c.length ? c : a("<div>").appendTo(f.$node), new h(b, d) } var f = this; c = c || {}, c.node || a.error("node is required"), d.mixin(this), this.$node = a(c.node), this.query = null, this.datasets = b.map(c.datasets, e) } return b.mixin(c.prototype, e, { _onSelectableClick: function (b) { this.trigger("selectableClicked", a(b.currentTarget)) }, _onRendered: function (a, b, c, d) { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetRendered", b, c, d) }, _onCleared: function () { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetCleared") }, _propagate: function () { this.trigger.apply(this, arguments) }, _allDatasetsEmpty: function () { function a(a) { return a.isEmpty() } return b.every(this.datasets, a) }, _getSelectables: function () { return this.$node.find(this.selectors.selectable) }, _removeCursor: function () { var a = this.getActiveSelectable(); a && a.removeClass(this.classes.cursor) }, _ensureVisible: function (a) { var b, c, d, e; b = a.position().top, c = b + a.outerHeight(!0), d = this.$node.scrollTop(), e = this.$node.height() + parseInt(this.$node.css("paddingTop"), 10) + parseInt(this.$node.css("paddingBottom"), 10), 0 > b ? this.$node.scrollTop(d + b) : c > e && this.$node.scrollTop(d + (c - e)) }, bind: function () { var a, c = this; return a = b.bind(this._onSelectableClick, this), this.$node.on("click.tt", this.selectors.selectable, a), b.each(this.datasets, function (a) { a.onSync("asyncRequested", c._propagate, c).onSync("asyncCanceled", c._propagate, c).onSync("asyncReceived", c._propagate, c).onSync("rendered", c._onRendered, c).onSync("cleared", c._onCleared, c) }), this }, isOpen: function () { return this.$node.hasClass(this.classes.open) }, open: function () { this.$node.addClass(this.classes.open) }, close: function () { this.$node.removeClass(this.classes.open), this._removeCursor() }, setLanguageDirection: function (a) { this.$node.attr("dir", a) }, selectableRelativeToCursor: function (a) { var b, c, d, e; return c = this.getActiveSelectable(), b = this._getSelectables(), d = c ? b.index(c) : -1, e = d + a, e = (e + 1) % (b.length + 1) - 1, e = -1 > e ? b.length - 1 : e, -1 === e ? null : b.eq(e) }, setCursor: function (a) { this._removeCursor(), (a = a && a.first()) && (a.addClass(this.classes.cursor), this._ensureVisible(a)) }, getSelectableData: function (a) { return a && a.length ? h.extractData(a) : null }, getActiveSelectable: function () { var a = this._getSelectables().filter(this.selectors.cursor).first(); return a.length ? a : null }, getTopSelectable: function () { var a = this._getSelectables().first(); return a.length ? a : null }, update: function (a) { function c(b) { b.update(a) } var d = a !== this.query; return d && (this.query = a, b.each(this.datasets, c)), d }, empty: function () { function a(a) { a.clear() } b.each(this.datasets, a), this.query = null, this.$node.addClass(this.classes.empty) }, destroy: function () { function c(a) { a.destroy() } this.$node.off(".tt"), this.$node = a("<div>"), b.each(this.datasets, c) } }), c }(), j = function () { "use strict"; function a() { i.apply(this, [].slice.call(arguments, 0)) } var c = i.prototype; return b.mixin(a.prototype, i.prototype, { open: function () { return !this._allDatasetsEmpty() && this._show(), c.open.apply(this, [].slice.call(arguments, 0)) }, close: function () { return this._hide(), c.close.apply(this, [].slice.call(arguments, 0)) }, _onRendered: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), c._onRendered.apply(this, [].slice.call(arguments, 0)) }, _onCleared: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), c._onCleared.apply(this, [].slice.call(arguments, 0)) }, setLanguageDirection: function (a) { return this.$node.css("ltr" === a ? this.css.ltr : this.css.rtl), c.setLanguageDirection.apply(this, [].slice.call(arguments, 0)) }, _hide: function () { this.$node.hide() }, _show: function () { this.$node.css("display", "block") } }), a }(), k = function () {
                "use strict"; function c(c, e) { var f, g, h, i, j, k, l, m, n, o, p; c = c || {}, c.input || a.error("missing input"), c.menu || a.error("missing menu"), c.eventBus || a.error("missing event bus"), e.mixin(this), this.eventBus = c.eventBus, this.minLength = b.isNumber(c.minLength) ? c.minLength : 1, this.input = c.input, this.menu = c.menu, this.enabled = !0, this.active = !1, this.input.hasFocus() && this.activate(), this.dir = this.input.getLangDir(), this._hacks(), this.menu.bind().onSync("selectableClicked", this._onSelectableClicked, this).onSync("asyncRequested", this._onAsyncRequested, this).onSync("asyncCanceled", this._onAsyncCanceled, this).onSync("asyncReceived", this._onAsyncReceived, this).onSync("datasetRendered", this._onDatasetRendered, this).onSync("datasetCleared", this._onDatasetCleared, this), f = d(this, "activate", "open", "_onFocused"), g = d(this, "deactivate", "_onBlurred"), h = d(this, "isActive", "isOpen", "_onEnterKeyed"), i = d(this, "isActive", "isOpen", "_onTabKeyed"), j = d(this, "isActive", "_onEscKeyed"), k = d(this, "isActive", "open", "_onUpKeyed"), l = d(this, "isActive", "open", "_onDownKeyed"), m = d(this, "isActive", "isOpen", "_onLeftKeyed"), n = d(this, "isActive", "isOpen", "_onRightKeyed"), o = d(this, "_openIfActive", "_onQueryChanged"), p = d(this, "_openIfActive", "_onWhitespaceChanged"), this.input.bind().onSync("focused", f, this).onSync("blurred", g, this).onSync("enterKeyed", h, this).onSync("tabKeyed", i, this).onSync("escKeyed", j, this).onSync("upKeyed", k, this).onSync("downKeyed", l, this).onSync("leftKeyed", m, this).onSync("rightKeyed", n, this).onSync("queryChanged", o, this).onSync("whitespaceChanged", p, this).onSync("langDirChanged", this._onLangDirChanged, this) } function d(a) { var c = [].slice.call(arguments, 1); return function () { var d = [].slice.call(arguments); b.each(c, function (b) { return a[b].apply(a, d) }) } } return b.mixin(c.prototype, {
                    _hacks: function () {
                        var c, d; c = this.input.$input || a("<div>"), d = this.menu.$node || a("<div>"), c.on("blur.tt", function (a) {
                            var e, f, g;
                            e = document.activeElement, f = d.is(e), g = d.has(e).length > 0, b.isMsie() && (f || g) && (a.preventDefault(), a.stopImmediatePropagation(), b.defer(function () { c.focus() }))
                        }), d.on("mousedown.tt", function (a) { a.preventDefault() })
                    }, _onSelectableClicked: function (a, b) { this.select(b) }, _onDatasetCleared: function () { this._updateHint() }, _onDatasetRendered: function (a, b, c, d) { this._updateHint(), this.eventBus.trigger("render", c, d, b) }, _onAsyncRequested: function (a, b, c) { this.eventBus.trigger("asyncrequest", c, b) }, _onAsyncCanceled: function (a, b, c) { this.eventBus.trigger("asynccancel", c, b) }, _onAsyncReceived: function (a, b, c) { this.eventBus.trigger("asyncreceive", c, b) }, _onFocused: function () { this._minLengthMet() && this.menu.update(this.input.getQuery()) }, _onBlurred: function () { this.input.hasQueryChangedSinceLastFocus() && this.eventBus.trigger("change", this.input.getQuery()) }, _onEnterKeyed: function (a, b) { var c; (c = this.menu.getActiveSelectable()) && this.select(c) && b.preventDefault() }, _onTabKeyed: function (a, b) { var c; (c = this.menu.getActiveSelectable()) ? this.select(c) && b.preventDefault() : (c = this.menu.getTopSelectable()) && this.autocomplete(c) && b.preventDefault() }, _onEscKeyed: function () { this.close() }, _onUpKeyed: function () { this.moveCursor(-1) }, _onDownKeyed: function () { this.moveCursor(1) }, _onLeftKeyed: function () { "rtl" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onRightKeyed: function () { "ltr" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onQueryChanged: function (a, b) { this._minLengthMet(b) ? this.menu.update(b) : this.menu.empty() }, _onWhitespaceChanged: function () { this._updateHint() }, _onLangDirChanged: function (a, b) { this.dir !== b && (this.dir = b, this.menu.setLanguageDirection(b)) }, _openIfActive: function () { this.isActive() && this.open() }, _minLengthMet: function (a) { return a = b.isString(a) ? a : this.input.getQuery() || "", a.length >= this.minLength }, _updateHint: function () { var a, c, d, e, f, h, i; a = this.menu.getTopSelectable(), c = this.menu.getSelectableData(a), d = this.input.getInputValue(), !c || b.isBlankString(d) || this.input.hasOverflow() ? this.input.clearHint() : (e = g.normalizeQuery(d), f = b.escapeRegExChars(e), h = new RegExp("^(?:" + f + ")(.+$)", "i"), i = h.exec(c.val), i && this.input.setHint(d + i[1])) }, isEnabled: function () { return this.enabled }, enable: function () { this.enabled = !0 }, disable: function () { this.enabled = !1 }, isActive: function () { return this.active }, activate: function () { return this.isActive() ? !0 : !this.isEnabled() || this.eventBus.before("active") ? !1 : (this.active = !0, this.eventBus.trigger("active"), !0) }, deactivate: function () { return this.isActive() ? this.eventBus.before("idle") ? !1 : (this.active = !1, this.close(), this.eventBus.trigger("idle"), !0) : !0 }, isOpen: function () { return this.menu.isOpen() }, open: function () { return this.isOpen() || this.eventBus.before("open") || (this.menu.open(), this._updateHint(), this.eventBus.trigger("open")), this.isOpen() }, close: function () { return this.isOpen() && !this.eventBus.before("close") && (this.menu.close(), this.input.clearHint(), this.input.resetInputValue(), this.eventBus.trigger("close")), !this.isOpen() }, setVal: function (a) { this.input.setQuery(b.toStr(a)) }, getVal: function () { return this.input.getQuery() }, select: function (a) { var b = this.menu.getSelectableData(a); return b && !this.eventBus.before("select", b.obj) ? (this.input.setQuery(b.val, !0), this.eventBus.trigger("select", b.obj), this.close(), !0) : !1 }, autocomplete: function (a) { var b, c, d; return b = this.input.getQuery(), c = this.menu.getSelectableData(a), d = c && b !== c.val, d && !this.eventBus.before("autocomplete", c.obj) ? (this.input.setQuery(c.val), this.eventBus.trigger("autocomplete", c.obj), !0) : !1 }, moveCursor: function (a) { var b, c, d, e, f; return b = this.input.getQuery(), c = this.menu.selectableRelativeToCursor(a), d = this.menu.getSelectableData(c), e = d ? d.obj : null, f = this._minLengthMet() && this.menu.update(b), f || this.eventBus.before("cursorchange", e) ? !1 : (this.menu.setCursor(c), d ? this.input.setInputValue(d.val) : (this.input.resetInputValue(), this._updateHint()), this.eventBus.trigger("cursorchange", e), !0) }, destroy: function () { this.input.destroy(), this.menu.destroy() }
                }), c
            }(); !function () { "use strict"; function e(b, c) { b.each(function () { var b, d = a(this); (b = d.data(p.typeahead)) && c(b, d) }) } function f(a, b) { return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly", !0).removeAttr("id name placeholder required").attr({ autocomplete: "off", spellcheck: "false", tabindex: -1 }) } function h(a, b) { a.data(p.attrs, { dir: a.attr("dir"), autocomplete: a.attr("autocomplete"), spellcheck: a.attr("spellcheck"), style: a.attr("style") }), a.addClass(b.classes.input).attr({ autocomplete: "off", spellcheck: !1 }); try { !a.attr("dir") && a.attr("dir", "auto") } catch (c) { } return a } function l(a) { return { backgroundAttachment: a.css("background-attachment"), backgroundClip: a.css("background-clip"), backgroundColor: a.css("background-color"), backgroundImage: a.css("background-image"), backgroundOrigin: a.css("background-origin"), backgroundPosition: a.css("background-position"), backgroundRepeat: a.css("background-repeat"), backgroundSize: a.css("background-size") } } function m(a) { var c, d; c = a.data(p.www), d = a.parent().filter(c.selectors.wrapper), b.each(a.data(p.attrs), function (c, d) { b.isUndefined(c) ? a.removeAttr(d) : a.attr(d, c) }), a.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(c.classes.input), d.length && (a.detach().insertAfter(d), d.remove()) } function n(c) { var d, e; return d = b.isJQuery(c) || b.isElement(c), e = d ? a(c).first() : [], e.length ? e : null } var o, p, q; o = a.fn.typeahead, p = { www: "tt-www", attrs: "tt-attrs", typeahead: "tt-typeahead" }, q = { initialize: function (e, l) { function m() { var c, m, q, r, s, t, u, v, w, x, y; b.each(l, function (a) { a.highlight = !!e.highlight }), c = a(this), m = a(o.html.wrapper), q = n(e.hint), r = n(e.menu), s = e.hint !== !1 && !q, t = e.menu !== !1 && !r, s && (q = f(c, o)), t && (r = a(o.html.menu).css(o.css.menu)), q && q.val(""), c = h(c, o), (s || t) && (m.css(o.css.wrapper), c.css(s ? o.css.input : o.css.inputWithNoHint), c.wrap(m).parent().prepend(s ? q : null).append(t ? r : null)), y = t ? j : i, u = new d({ el: c }), v = new g({ hint: q, input: c }, o), w = new y({ node: r, datasets: l }, o), x = new k({ input: v, menu: w, eventBus: u, minLength: e.minLength }, o), c.data(p.www, o), c.data(p.typeahead, x) } var o; return l = b.isArray(l) ? l : [].slice.call(arguments, 1), e = e || {}, o = c(e.classNames), this.each(m) }, isEnabled: function () { var a; return e(this.first(), function (b) { a = b.isEnabled() }), a }, enable: function () { return e(this, function (a) { a.enable() }), this }, disable: function () { return e(this, function (a) { a.disable() }), this }, isActive: function () { var a; return e(this.first(), function (b) { a = b.isActive() }), a }, activate: function () { return e(this, function (a) { a.activate() }), this }, deactivate: function () { return e(this, function (a) { a.deactivate() }), this }, isOpen: function () { var a; return e(this.first(), function (b) { a = b.isOpen() }), a }, open: function () { return e(this, function (a) { a.open() }), this }, close: function () { return e(this, function (a) { a.close() }), this }, select: function (b) { var c = !1, d = a(b); return e(this.first(), function (a) { c = a.select(d) }), c }, autocomplete: function (b) { var c = !1, d = a(b); return e(this.first(), function (a) { c = a.autocomplete(d) }), c }, moveCursor: function (a) { var b = !1; return e(this.first(), function (c) { b = c.moveCursor(a) }), b }, val: function (a) { var b; return arguments.length ? (e(this, function (b) { b.setVal(a) }), this) : (e(this.first(), function (a) { b = a.getVal() }), b) }, destroy: function () { return e(this, function (a, b) { m(b), a.destroy() }), this } }, a.fn.typeahead = function (a) { return q[a] ? q[a].apply(this, [].slice.call(arguments, 1)) : q.initialize.apply(this, arguments) }, a.fn.typeahead.noConflict = function () { return a.fn.typeahead = o, this } }()
        });
		